<div class="Box-sc-g0xbh4-0 QkQOb js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><p align="center" dir="auto">
  <a href="https://github.com/trimstray/test-your-sysadmin-skills">
    <img src="https://github.com/trimstray/test-your-sysadmin-skills/raw/master/static/img/sysadmin_preview.png" alt="主人" style="max-width: 100%;" _mstalt="77857" _msthash="201">
  </a>
</p>
<br>
<p align="center" dir="auto" _msttexthash="1009008" _msthash="202">⭐</p>
<p align="center" dir="auto">"<font _mstmutation="1" _msttexthash="579186738" _msthash="203"><i _mstmutation="1" _istranslated="1">出色的管理员不需要了解所有内容，但他们应该能够为不可能的项目提出惊人的解决方案。</i>- cwheeler33 （服务器故障）</font></p>
<p align="center" dir="auto" _msttexthash="1009008" _msthash="204">⭐</p>
<p align="center" dir="auto">"<font _mstmutation="1" _msttexthash="3632853341" _msthash="205"><i _mstmutation="1" _istranslated="1">我的技能是让事情顺利进行，而不是了解十亿个事实。[...]如果我需要修复系统，我会找出问题所在，检查日志并查找错误。如果我需要实施一个解决方案，我会研究正确的解决方案，实施并记录它，除非我经常与它互动，否则我只能真正了解它的工作原理......这就是它被记录下来的原因。</i>- Sparcrypt （Reddit）</font></p>
<br>
<p align="center" dir="auto">
  <a href="https://github.com/trimstray/test-your-sysadmin-skills/pulls">
    <img src="https://camo.githubusercontent.com/fbf99ae78847941f3b58690e70c3068e9954eb6997437fdd37f38988e102927d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5052732d77656c636f6d652d627269676874677265656e2e7376673f6c6f6e6743616368653d74727565" alt="拉取请求" data-canonical-src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg?longCache=true" style="max-width: 100%;" _mstalt="210158" _msthash="206">
  </a>
  <a href="/trimstray/test-your-sysadmin-skills/blob/master/LICENSE.md">
    <img src="https://camo.githubusercontent.com/996d6bf9a5ed2958d53e90aad9e4d2425848f511a0efb51fef7efa68d93e4dc9/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d6c69676874677265792e7376673f6c6f6e6743616368653d74727565" alt="MIT 许可证" data-canonical-src="https://img.shields.io/badge/License-MIT-lightgrey.svg?longCache=true" style="max-width: 100%;" _mstalt="145288" _msthash="207">
  </a>
</p>
<p align="center" dir="auto">
  <a href="https://twitter.com/trimstray" rel="nofollow">
    <img src="https://camo.githubusercontent.com/1e8a80988f5ba7477eccdb5242decc70b820bff11d7139865f4e8ca18f2b4c44/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f666f6c6c6f772f7472696d73747261792e7376673f6c6f676f3d74776974746572" data-canonical-src="https://img.shields.io/twitter/follow/trimstray.svg?logo=twitter" style="max-width: 100%;">
  </a>
</p>
<div align="center" dir="auto">
  <sub><font _mstmutation="1" _msttexthash="44620628" _msthash="208">由 <a href="https://twitter.com/trimstray" rel="nofollow" _mstmutation="1" _istranslated="1">trimstray</a> 和<a href="https://github.com/trimstray/test-your-sysadmin-skills/graphs/contributors" _mstmutation="1" _istranslated="1">贡献者创建</a></font>
</sub></div>
<br>
<hr>
<br>
<p dir="auto" _msttexthash="704326961" _msthash="209">i️ 该项目包含 <strong _istranslated="1">284</strong> 个测试问题和答案，可用作测试您的知识或在 <strong _istranslated="1">Linux （*nix） 系统管理员</strong>等职位的面试/考试期间使用。</p>
<p dir="auto" _msttexthash="447068921" _msthash="210">✔️ 答案只是<strong _istranslated="1">示例</strong>，并未详尽整个主题。它们中的大多数都包含<strong _istranslated="1">有用的资源</strong>，有助于更深入地理解。</p>
<p dir="auto"><g-emoji class="g-emoji" alias="warning" _msttexthash="7663864" _msthash="211">⚠️</g-emoji><font _mstmutation="1" _msttexthash="216542742" _msthash="212">标记为<strong _mstmutation="1" _istranslated="1"><code _istranslated="1"></code></strong>尚未回答或回答不完整的问题 - <strong _mstmutation="1" _istranslated="1">提出拉取请求以添加它们</strong>！</font></p>
<p dir="auto" _msttexthash="727593399" _msthash="213">🚥 如果您发现没有意义的内容，或者看起来不对劲的内容，<strong _istranslated="1">请提出拉取请求</strong>，并请为您的更改或评论添加有效且合理的解释。</p>
<p dir="auto" _msttexthash="296715835" _msthash="214">📚 为了提高您的知识/技能，请参阅 <a href="https://github.com/bregman-arie/devops-interview-questions" _istranslated="1">devops-interview-questions</a>。看起来真的很有趣。</p>
<br>
<p align="center" dir="auto">
  » <b><code><a href="https://github.com/trimstray/test-your-sysadmin-skills/issues" _msttexthash="21751366" _msthash="215">欢迎所有建议</a></code></b> «
</p>
<br>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto" _msttexthash="5308706" _msthash="216">目录</h2><a id="user-content-table-of-contents" class="anchor" aria-label="永久链接：目录" href="#table-of-contents" _mstaria-label="634764" _msthash="217"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table data-catalyst=""><table>
<thead>
<tr>
<th align="left"><b _msttexthash="12979005" _msthash="218">章节类型</b></th>
<th align="left"><b _msttexthash="15446184" _msthash="219">问题数量</b></th>
<th align="left"><b _msttexthash="13849667" _msthash="220">简短描述</b></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><b><a href="#introduction" _msttexthash="5211505" _msthash="221">介绍</a></b></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left" _msttexthash="34327605" _msthash="222">🔸 <a href="#simple-questions" _istranslated="1">简单的问题</a></td>
<td align="left" _msttexthash="12926849" _msthash="223">14 个问题</td>
<td align="left" _msttexthash="83054634" _msthash="224">轻松、有趣、简单 - 非常适合开始一切。</td>
</tr>
<tr>
<td align="left"><b><a href="#general-knowledge" _msttexthash="5916248" _msthash="225">常识</a></b></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left" _msttexthash="42208556" _msthash="226">🔸 <a href="#junior-sysadmin" _istranslated="1">初级系统管理员</a></td>
<td align="left" _msttexthash="9411545" _msthash="227">65 道题</td>
<td align="left" _msttexthash="67649751" _msthash="228">基于基础知识，相当简单明了。</td>
</tr>
<tr>
<td align="left" _msttexthash="42940989" _msthash="229">🔸 <a href="#regular-sysadmin" _istranslated="1">常规系统管理员</a></td>
<td align="left" _msttexthash="12927577" _msthash="230">94 个问题</td>
<td align="left" _msttexthash="126901866" _msthash="231">如果您拥有扎实的知识，则中等级别的问题。</td>
</tr>
<tr>
<td align="left" _msttexthash="44386979" _msthash="232">🔸 <a href="#senior-sysadmin" _istranslated="1">高级系统管理员</a></td>
<td align="left" _msttexthash="9412234" _msthash="233">99 道题</td>
<td align="left" _msttexthash="132511561" _msthash="234">难题和谜语。如果你想表现得好，就去检查一下。</td>
</tr>
<tr>
<td align="left"><b><a href="#secret-knowledge" _msttexthash="13524589" _msthash="235">秘密知识</a></b></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left" _msttexthash="39425022" _msthash="236">🔸 <a href="#guru-sysadmin" _istranslated="1">Guru 系统管理员</a></td>
<td align="left" _msttexthash="12926641" _msthash="237">12 个问题</td>
<td align="left" _msttexthash="49617880" _msthash="238">真正深刻的问题是了解 Guru Sysadmin。</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<br>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><a name="user-content-introduction" _msttexthash="5211505" _msthash="239">介绍</a></h2><a id="user-content-introduction" class="anchor" aria-label="永久链接： 简介" href="#introduction" _mstaria-label="523835" _msthash="240"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto" _msttexthash="34311797" _msthash="241">💠 <a name="user-content-simple-questions" _istranslated="1">简单的问题</a></h3><a id="user-content-diamond_shape_with_a_dot_inside-simple-questions" class="anchor" aria-label="永久链接： :d iamond_shape_with_a_dot_inside： 简单问题" href="#diamond_shape_with_a_dot_inside-simple-questions" _mstaria-label="2768636" _msthash="242"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><b _msttexthash="37183393" _msthash="243">你这周学到了什么？</b></li>
<li><b _msttexthash="160092751" _msthash="244">sysadmin 世界的哪些方面让您感到兴奋或感兴趣？</b></li>
<li><b _msttexthash="153895248" _msthash="245">您最近遇到的技术挑战是什么，您是如何解决的？</b></li>
<li><b _msttexthash="93542800" _msthash="246">跟我说说你完成的最后一个主要项目吧。</b></li>
<li><b _msttexthash="83237986" _msthash="247">您是否为任何开源项目做出贡献？</b></li>
<li><b _msttexthash="60759933" _msthash="248">描述您的家庭实验室的设置。</b></li>
<li><b _msttexthash="76216569" _msthash="249">您最引以为豪的个人成就是什么？</b></li>
<li><b _msttexthash="239770973" _msthash="250">跟我说说你犯的最大错误吧。您今天会如何以不同的方式做到这一点？</b></li>
<li><b _msttexthash="121421001" _msthash="251">您打算在新工作的第一天安装哪些软件工具？</b></li>
<li><b _msttexthash="248971216" _msthash="252">请介绍一下您是如何管理您的知识数据库（例如 wiki、文件、门户）的。</b></li>
<li><b _msttexthash="163554859" _msthash="253">您每天查看哪些新闻来源？（sysadmin、security-related 或其他）</b></li>
<li><b _msttexthash="259609272" _msthash="254">您的 NOC 团队有新的 sysadmin 认证预算。您想要什么证书，为什么？</b></li>
<li><b _msttexthash="308609431" _msthash="255">您如何与开发人员互动：<em _istranslated="1">我们与开发人员</em>，还是<em _istranslated="1">所有人以不同的方式齐心</em>协力？</b></li>
<li><b _msttexthash="410682688" _msthash="256">如果你要面试我，你会问哪个系统管理员问题，以了解我在非标准情况下的处理能力如何？</b></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><a name="user-content-general-knowledge" _msttexthash="5916248" _msthash="257">常识</a></h2><a id="user-content-general-knowledge" class="anchor" aria-label="永久链接： 常识" href="#general-knowledge" _mstaria-label="668967" _msthash="258"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto" _msttexthash="42192748" _msthash="259">💠 <a name="user-content-junior-sysadmin" _istranslated="1">初级系统管理员</a></h3><a id="user-content-diamond_shape_with_a_dot_inside-junior-sysadmin" class="anchor" aria-label="永久链接： :d iamond_shape_with_a_dot_inside： 初级系统管理员" href="#diamond_shape_with_a_dot_inside-junior-sysadmin" _mstaria-label="2669342" _msthash="260"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="37094408" _msthash="261">系统问题 （37）</h6><a id="user-content-system-questions-37" class="anchor" aria-label="永久链接： 系统问题 （37）" href="#system-questions-37" _mstaria-label="734604" _msthash="262"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="207081316" _msthash="263">举例说明 Linux 发行版。您最喜欢的发行版是什么，为什么？</b></summary><br><font _mstmutation="1" _msttexthash="905940659" _msthash="264">- Red Hat 企业 Linux
- 软呢帽
- CentOS 操作系统
- Debian
- Ubuntu 浏览器
-薄荷
- SUSE Linux 企业服务器 （SLES）
- SUSE Linux Enterprise Desktop （SLED）
- Slackware 软件
-拱
-卡莉
- 底盒</font><p dir="auto" _msttexthash="52704912" _msthash="265">我最喜欢的 Linux 发行版：</p>
<ul dir="auto">
<li _msttexthash="4138237974" _msthash="266"><strong _istranslated="1">Arch Linux</strong>，它提供了一个不错的极简主义基本系统，可以在其上构建自定义操作系统。它的美妙之处还在于它具有 Arch 用户存储库 （AUR），当与其官方二进制存储库结合使用时，它可能拥有任何发行版中最大的存储库。它的打包过程也非常简单，这意味着如果想要一个不在官方仓库或 AUR 中的包，那么自己制作应该很容易。</li>
<li _msttexthash="8214378731" _msthash="267"><strong _istranslated="1">Linux Mint</strong>，也是从 Ubuntu LTS 版本构建的，但具有具有几种不同桌面环境的版本，包括 Cinnamon、MATE 和 Xfce。Mint 相当精致，它的美学相当吸引人，我特别喜欢它的新图标主题，尽管我确实非常不喜欢它的 GTK+ 主题（太平淡了，不符合我的口味）。我还在其最新版本的 Mint 19 中发现了一个错误，正如我两周前在他们的论坛上要求的那样，这变得非常令人恼火，到目前为止我还没有收到任何回复，这是一个让我的生活更加困难的错误。</li>
<li _msttexthash="1612866138" _msthash="268"><strong _istranslated="1">Kali Linux</strong> 是一个基于 Debian 的 Linux 发行版，旨在高级渗透测试和安全审计。Kali 包含数百种工具，这些工具适用于各种信息安全任务，例如渗透测试、安全研究、计算机取证和逆向工程。</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="269">有用的资源：</p>
<ul dir="auto">
<li><a href="https://en.wikipedia.org/wiki/List_of_Linux_distributions" rel="nofollow" _msttexthash="25992993" _msthash="270">Linux 发行版列表</a></li>
<li><a href="https://www.quora.com/What-is-your-favorite-Linux-distro-and-why" rel="nofollow" _msttexthash="115749062" _msthash="271">您最喜欢的 Linux 发行版是什么，为什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="74227751" _msthash="272">Unix、Linux、BSD 和 GNU 有什么区别？</b></summary><br>
<p dir="auto" _msttexthash="3491171281" _msthash="273"><strong _istranslated="1">GNU</strong> 并不是一个真正的操作系统。它更像是一套管理自由软件的规则或哲学，同时在尝试创建操作系统时诞生了一堆工具。所以 <strong _istranslated="1">GNU</strong> 工具基本上是已经存在的工具的开放版本，但为了符合开放软件的原则而被重新实现。<strong _istranslated="1">GNU/Linux</strong> 是这些工具和 <strong _istranslated="1">Linux 内核</strong>的网格，以形成一个完整的操作系统，但还有其他 GNU，例如 <strong _istranslated="1">GNU/Hurd</strong>。</p>
<p dir="auto" _msttexthash="3678458849" _msthash="274"><strong _istranslated="1">Unix</strong> 和 <strong _istranslated="1">BSD</strong> 是 POSIX 的“旧”实现，它们是不同级别的“闭源”实现。<strong _istranslated="1">Unix</strong> 通常是完全闭源的，但 <strong _istranslated="1">Unix</strong> 的风格与 <strong _istranslated="1">Linux</strong> 一样多（如果不是更多的话）。<strong _istranslated="1">BSD</strong> 通常不被认为是“开放的”，但在发布时被认为是非常开放的。它的许可还允许商业用途，与当时允许的更“开放”的许可相比，限制要少得多。</p>
<p dir="auto" _msttexthash="1154702926" _msthash="275"><strong _istranslated="1">Linux</strong> 是四个版本中最新的一个。严格来说，它 “只是一个内核”;然而，一般来说，当它与 GNU Tools 和其他几个核心组件结合使用时，它被认为是一个完整的操作系统。</p>
<p dir="auto" _msttexthash="2162586166" _msthash="276">他们之间的主要管理差异是他们的理想。<strong _istranslated="1">Unix</strong>、<strong _istranslated="1">Linux</strong> 和 <strong _istranslated="1">BSD</strong> 实现的理想不同。它们都是 POSIX，并且基本上都是可以互换的。他们确实以不同的方式解决了一些相同的问题。因此，除了理想和他们选择如何实现 POSIX 标准之外，几乎没有区别。</p>
<p dir="auto" _msttexthash="1097209620" _msthash="277">有关更多信息，我建议您阅读一篇关于 <strong _istranslated="1">GNU</strong>、<strong _istranslated="1">OSS</strong>、<strong _istranslated="1">Linux</strong>、<strong _istranslated="1">BSD</strong> 和 <strong _istranslated="1">UNIX</strong> 创建的简短文章。他们会倾向于他们自己的想法，但这些文章应该能让你更好地了解其中的差异。</p>
<p dir="auto" _msttexthash="28005783" _msthash="278">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/104714/what-is-the-difference-between-unix-linux-bsd-and-gnu" rel="nofollow" _msttexthash="149452004" _msthash="279">Unix、Linux、BSD 和 GNU 有什么区别？（原文）</a></li>
<li><a href="https://www.howtogeek.com/139287/the-great-debate-is-it-linux-or-gnulinux/" rel="nofollow" _msttexthash="60694582" _msthash="280">大辩论：是 Linux 还是 GNU/Linux？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="137996612" _msthash="281">什么是 CLI？告诉我您最喜欢的 CLI 工具、技巧和技巧。</b></summary><br>
<p dir="auto" _msttexthash="701525409" _msthash="282"><strong _istranslated="1">CLI</strong> 是 Command Line Interface 或 Command Language Interpreter 的首字母缩写词。命令行是控制系统/计算机的最强大方法之一。</p>
<p dir="auto" _msttexthash="469325623" _msthash="283">在类似 Unix 的系统中，<strong _istranslated="1">CLI</strong> 是用户可以键入命令供系统执行的界面。<strong _istranslated="1">CLI</strong> 非常强大，但容错能力不强。</p>
<p dir="auto" _msttexthash="1814630064" _msthash="284"><strong _istranslated="1">CLI</strong> 允许您以更精细的方式对系统的内部和代码进行操作。无论使用什么操作系统，它都提供比 GUI 更大的灵活性和控制力。您可能希望在托管在 Github 上的软件中使用的许多程序也需要在 <strong _istranslated="1">CLI</strong> 上运行一些命令才能运行它们。</p>
<p dir="auto"><strong _msttexthash="22769266" _msthash="285">我最喜欢的工具</strong></p>
<ul dir="auto">
<li><code>screen</code><font _mstmutation="1" _msttexthash="686284950" _msthash="286">- 免费的终端多路复用器，我可以开始一个会话，即使您的连接丢失，我的终端也会被保存，因此您可以稍后恢复或从家中恢复</font></li>
<li><code>ssh</code><font _mstmutation="1" _msttexthash="221399087" _msthash="287">- 最有价值的总体学习命令，我可以用它来做一些令人惊奇的事情：</font><ul dir="auto">
<li><font _mstmutation="1" _msttexthash="4971109" _msthash="288">使用</font><code>sshfs</code></li>
<li><font _mstmutation="1" _msttexthash="271339731" _msthash="289">转发命令：通过 SSH 自行启动一个服务器，从而针对没有 deamon 的服务器运行</font><code>rsync</code><code>rsync</code></li>
<li _msttexthash="328823066" _msthash="290">在批处理文件中运行：我可以重定向远程命令的输出，并在本地批处理文件中使用它</li>
</ul>
</li>
<li><code>vi/vim</code><font _mstmutation="1" _msttexthash="427162255" _msthash="291">- 是最流行和最强大的文本编辑器，它是通用的，工作速度非常快，即使是在大文件上也是如此</font></li>
<li><code>bash-completion</code><font _mstmutation="1" _msttexthash="70268952" _msthash="292">- 包含许多 shell 的预定义完成规则</font></li>
</ul>
<p dir="auto"><strong _msttexthash="14800773" _msthash="293">提示和技巧</strong></p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="27714973" _msthash="294">搜索命令历史记录</font><code>CTRL + R</code></li>
<li><code>popd/pushd</code><font _mstmutation="1" _msttexthash="133955991" _msthash="295">和其他 shell 内置函数，它们允许您操作目录堆栈</font></li>
<li><font _mstmutation="1" _msttexthash="48050717" _msthash="296">编辑键盘快捷键（如 、</font><code>CTRL + U</code><code>CTRL + E</code></li>
<li><font _mstmutation="1" _msttexthash="35106539" _msthash="297">组合将自动扩展：</font><ul dir="auto">
<li><code>!*</code><font _mstmutation="1" _msttexthash="33573592" _msthash="298">- last 命令的所有参数</font></li>
<li><code>!!</code><font _mstmutation="1" _msttexthash="12986506" _msthash="299">- 整个 last 命令</font></li>
<li><code>!ssh</code><font _mstmutation="1" _msttexthash="44616559" _msthash="300">- 以 SSH 开头的最后一个命令</font></li>
</ul>
</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="301">有用的资源：</p>
<ul dir="auto">
<li><a href="http://www.linfo.org/command_line_interface.html" rel="nofollow" _msttexthash="24641578" _msthash="302">命令行界面定义</a></li>
<li><a href="https://stackoverflow.com/questions/68372/what-is-your-single-most-favorite-command-line-trick-using-bash/69716" rel="nofollow" _msttexthash="101070697" _msthash="303">您最喜欢使用 Bash 的命令行技巧是什么？</a></li>
<li><a href="https://unix.stackexchange.com/questions/6/what-are-your-favorite-command-line-features-or-tricks" rel="nofollow" _msttexthash="94544489" _msthash="304">您最喜欢的命令行功能或技巧是什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="75264293" _msthash="305">你最喜欢的壳是什么，为什么？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1073052708" _msthash="306"><strong _mstmutation="1" _istranslated="1">BASH</strong> 是我的最爱。这真的是一种优先的事情，我喜欢它的语法，它对我来说就是 “点击”。输入/输出重定向语法（、、、 等）类似于 C++，这使我更容易识别。</font><code>&gt;&gt;</code><code>&lt;&lt; 2&gt;&amp;1</code><code>2&gt;</code><code>1&gt;</code></p>
<p dir="auto" _msttexthash="920020894" _msthash="307">我也喜欢 <strong _istranslated="1">ZSH</strong> shell，因为它比 <strong _istranslated="1">BASH</strong> 更具可定制性。它具有 Oh-My-Zsh 框架、强大的基于上下文的 Tab 键完成、类固醇上的模式匹配/通配、可加载模块等。</p>
<p dir="auto" _msttexthash="28005783" _msthash="308">有用的资源：</p>
<ul dir="auto">
<li><a href="https://en.wikipedia.org/wiki/Comparison_of_command_shells" rel="nofollow" _msttexthash="22691513" _msthash="309">命令 shell 的比较</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="57242744" _msthash="310">如何在命令行上获得帮助？***</b></summary><br>
<ul dir="auto">
<li>
<p dir="auto"><code>man</code><font _mstmutation="1" _msttexthash="161558280" _msthash="311">[commandname] 可用于查看命令的描述（例如：、</font><code>man less</code><code>man cat</code>)</p>
</li>
<li>
<p dir="auto"><code>-h</code><font _mstmutation="1" _msttexthash="112659664" _msthash="312">或者某些程序在传递此参数时（例如：和</font><code>--help</code><code>python -h</code><code>python --help</code>)</p>
</li>
</ul>
</details>
<details>
<summary><b _msttexthash="65358371" _msthash="313">登录后在 *nix 服务器上的前 5 个命令。</b></summary><br>
<ul dir="auto">
<li><code>w</code><font _mstmutation="1" _msttexthash="101831353" _msthash="314">- 服务器正常运行时间中有很多很棒的信息</font></li>
<li><code>top</code><font _mstmutation="1" _msttexthash="286731874" _msthash="315">- 您可以查看所有正在运行的进程，然后按 CPU、内存利用率等对它们进行排序</font></li>
<li><code>netstat</code><font _mstmutation="1" _msttexthash="232980748" _msthash="316">- 了解您的服务器正在侦听的端口和 IP 以及哪些进程正在使用这些端口和 IP</font></li>
<li><code>df</code><font _mstmutation="1" _msttexthash="112948537" _msthash="317">- 报告文件系统正在使用的可用磁盘空间量</font></li>
<li><code>history</code><font _mstmutation="1" _msttexthash="103892841" _msthash="318">- 告诉您当前连接到的用户之前运行的内容</font></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="319">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.linux.com/blog/first-5-commands-when-i-connect-linux-server" rel="nofollow" _msttexthash="134945876" _msthash="320">在 Linux 服务器上连接时的前 5 个命令（原始）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="85046871" _msthash="321"><code _istranslated="1">ls -al</code> output 中的字段是什么意思？</b></summary><br>
<p dir="auto" _msttexthash="27308762" _msthash="322">按输出顺序：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>-rwxrw-r--    1    root   root 2048    Jan 13 07:11 db.dump</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="-rwxrw-r--    1    root   root 2048    Jan 13 07:11 db.dump" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li _msttexthash="14320059" _msthash="323">文件权限、</li>
<li _msttexthash="17650074" _msthash="324">链接数，</li>
<li _msttexthash="18044663" _msthash="325">所有者名称、</li>
<li _msttexthash="16161639" _msthash="326">owner 组，</li>
<li _msttexthash="11958765" _msthash="327">文件大小、</li>
<li _msttexthash="31155566" _msthash="328">最后修改时间，</li>
<li _msttexthash="20552987" _msthash="329">文件/目录名称</li>
</ul>
<p dir="auto" _msttexthash="41390232" _msthash="330">文件权限显示如下：</p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="417709604" _msthash="331">第一个字符是 OR 或 ，表示目录，A 代表文件，是符号链接（或软链接） - 特殊类型的文件</font><code>-</code><code>l</code><code>d</code><code>d</code><code>-</code><code>l</code></li>
<li><font _mstmutation="1" _msttexthash="149385327" _msthash="332">三组字符，三次，表示所有者、组和其他权限：</font><ul dir="auto">
<li><code>r</code><font _mstmutation="1" _msttexthash="6432894" _msthash="333">= 可读</font></li>
<li><code>w</code><font _mstmutation="1" _msttexthash="4684212" _msthash="334">= 可写</font></li>
<li><code>x</code><font _mstmutation="1" _msttexthash="16593603" _msthash="335">= 可执行文件</font></li>
</ul>
</li>
</ul>
<p dir="auto"><font _mstmutation="1" _msttexthash="108504968" _msthash="336">在您的示例中，这意味着显示的行为：</font><code>-rwxrw-r--</code></p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="33840365" _msthash="337">常规文件（显示为</font><code>-</code>)</li>
<li><font _mstmutation="1" _msttexthash="45911281" _msthash="338">readable、writable 和 executable by owner （</font><code>rwx</code>)</li>
<li><font _mstmutation="1" _msttexthash="130878462" _msthash="339">readable， writable，但不能按组执行 （</font><code>rw-</code>)</li>
<li><font _mstmutation="1" _msttexthash="40762670" _msthash="340">可读但不能被其他 （</font><code>r--</code>)</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="341">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/103114/what-do-the-fields-in-ls-al-output-mean" rel="nofollow" _msttexthash="153330099" _msthash="342">ls -al output 中的字段是什么意思？（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="68847285" _msthash="343">如何获取已登录用户的列表？</b></summary><br>
<p dir="auto" _msttexthash="938803281" _msthash="344">有关已登录用户的摘要，包括用户名的每次登录、终端用户所附加到的用户名、他们登录的日期/时间，以及他们进行连接的计算机，请输入：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> It uses /var/run/utmp and /var/log/wtmp files to get the details.</span>
who</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# It uses /var/run/utmp and /var/log/wtmp files to get the details.
who" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="907844483" _msthash="345">有关大量信息，包括用户名、终端、源计算机的 IP 号、登录开始时间、任何空闲时间、进程 CPU 周期、作业 CPU 周期和当前正在运行的命令，请输入：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> It uses /var/run/utmp, and their processes /proc.</span>
w</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# It uses /var/run/utmp, and their processes /proc.
w" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="146983629" _msthash="346">显示上次登录的用户列表也很重要，请输入：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> It uses /var/log/wtmp.</span>
last</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# It uses /var/log/wtmp.
last" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="347">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.thegeekstuff.com/2009/03/4-ways-to-identify-who-is-logged-in-on-your-linux-system/" rel="nofollow" _msttexthash="92703988" _msthash="348">识别 Linux 系统上登录的用户的 4 种方法</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="234062127" _msthash="349">在后台执行正在运行的进程有什么好处？你怎么能做到这一点呢？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1622893675" _msthash="350">在后台执行正在运行的进程的最显着优势是，当其他进程在后台运行时，您可以同时执行任何其他任务。因此，当您处理不同的流程时，可以在后台完成更多流程。可以通过在命令末尾添加特殊字符来实现。</font><code>&amp;</code></p>
<p dir="auto" _msttexthash="505789570" _msthash="351">通常，执行时间过长且不需要用户交互的应用程序会被发送到后台，以便我们可以在终端中继续我们的工作。</p>
<p dir="auto" _msttexthash="140622417" _msthash="352">例如，如果您想在后台下载某些内容，您可以：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>wget https://url-to-download.com/download.tar.gz <span class="pl-k">&amp;</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="wget https://url-to-download.com/download.tar.gz &amp;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="123905873" _msthash="353">当您运行上述命令时，您将获得以下输出：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>[1] 2203</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="[1] 2203" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="83610761" _msthash="354">这里 1 是作业的序列号，2203 是作业的 PID。</p>
<p dir="auto" _msttexthash="120587363" _msthash="355">您可以使用以下命令查看在后台运行的作业：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">jobs</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="jobs" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="395657938" _msthash="356">当您在后台执行 job 时，它会为您提供 job 的 PID，您可以使用以下命令终止在后台运行的 job：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">kill</span> PID</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="kill PID" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="406814369" _msthash="357">将 PID 替换为作业的 PID。如果您只有一个作业正在运行，则可以使用以下方法将其置于前台：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">fg</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="fg" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="261699750" _msthash="358">如果您有多个作业在后台运行，则可以使用以下方法将任何作业置于前台：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">fg</span> %<span class="pl-c"><span class="pl-c">#</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="fg %#" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="37308401" _msthash="359">将 替换为作业的序列号。</font><code>#</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="360">有用的资源：</p>
<ul dir="auto">
<li><a href="https://kb.iu.edu/d/afnz" rel="nofollow" _msttexthash="57718661" _msthash="361">如何在后台运行 Unix 进程？</a></li>
<li><a href="http://tldp.org/LDP/abs/html/x9644.html" rel="nofollow" _msttexthash="15892422" _msthash="362">作业控制命令</a></li>
<li><a href="https://unix.stackexchange.com/questions/162186/what-is-are-the-advantages-of-running-applications-in-backgound" rel="nofollow" _msttexthash="87405396" _msthash="363">在后台运行应用程序的优势是什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="231917699" _msthash="364">在您可以管理流程之前，您必须能够识别它们。您将使用哪些工具？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="365">待完成。</p>
</details>
<details>
<summary><b _msttexthash="190583016" _msthash="366">以 root 用户身份运行命令。这是好的做法还是坏的做法？</b></summary><br>
<p dir="auto" _msttexthash="174799066" _msthash="367">以 root 身份运行 （everything） 是不好的，因为：</p>
<ul dir="auto">
<li>
<p dir="auto" _msttexthash="1195127596" _msthash="368"><strong _istranslated="1">愚蠢</strong>：没有什么能阻止你犯一个粗心的错误。如果您尝试以任何可能有害的方式更改系统，则需要使用 sudo，它可以确保暂停（在您输入密码时）以确保您不会犯错误。</p>
</li>
<li>
<p dir="auto" _msttexthash="514347847" _msthash="369"><strong _istranslated="1">安全性</strong>：如果您不知道管理员用户的登录帐户，则更难破解。root 表示您已经拥有工作管理员凭证集的一半。</p>
</li>
<li>
<p dir="auto"><font _mstmutation="1" _msttexthash="1435138666" _msthash="370"><strong _mstmutation="1" _istranslated="1">你真的不需要它</strong>：如果你需要以 root 身份运行多个命令，并且你因为密码过期时必须多次输入而感到烦恼，那么你需要做的就是，你现在是 root。想要使用管道运行一些命令？然后使用 .</font><code>sudo</code><code>sudo -i</code><code>sudo sh -c "command1 | command2"</code></p>
</li>
<li>
<p dir="auto"><font _mstmutation="1" _msttexthash="2495270180" _msthash="371"><strong _mstmutation="1" _istranslated="1">您始终可以在恢复控制台中使用它</strong>：恢复控制台允许您从重大错误中恢复，或修复由应用程序引起的问题（您仍然必须以 .在这种情况下，Ubuntu 没有 root 帐户的密码，但您可以在线搜索以更改该密码 - 这将使任何可以物理访问您的盒子的人更难造成伤害。</font><code>sudo</code></p>
</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="372">有用的资源：</p>
<ul dir="auto">
<li><a href="https://askubuntu.com/questions/16178/why-is-it-bad-to-log-in-as-root" rel="nofollow" _msttexthash="115827387" _msthash="373">为什么以 root 身份登录不好？（原文）</a></li>
<li><a href="https://serverfault.com/questions/57962/whats-wrong-with-always-being-root" rel="nofollow" _msttexthash="48958065" _msthash="374">总是 root 有什么问题？</a></li>
<li><a href="https://bencane.com/2012/02/20/why-you-should-avoid-running-applications-as-root/" rel="nofollow" _msttexthash="87598173" _msthash="375">为什么应避免以 root 身份运行应用程序</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="97514924" _msthash="376">如何检查内存统计信息和 CPU 统计信息？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1152389212" _msthash="377">你会两者都用。使用 和 command 可以分别显示物理内存和虚拟内存统计信息。借助命令，我们可以看到CPU利用率和其他统计数据（但大多数系统甚至都没有安装）。</font><code>top/htop</code><code>free</code><code>vmstat</code><code>sar</code><code>sar</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="378">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.cyberciti.biz/tips/how-do-i-find-out-linux-cpu-utilization.html" rel="nofollow" _msttexthash="49763558" _msthash="379">如何找出 Linux CPU 利用率？</a></li>
<li><a href="https://www.hpe.com/us/en/insights/articles/16-linux-server-monitoring-commands-you-really-need-to-know-1703.html" rel="nofollow" _msttexthash="95830488" _msthash="380">你真正需要知道的 16 个 Linux 服务器监控命令</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="36363145" _msthash="381">什么是负载平均？</b></summary><br>
<p dir="auto" _msttexthash="2459415842" _msthash="382">Linux <strong _istranslated="1">负载平均值是</strong>“系统负载平均值”，它以正在运行的线程数加上等待的线程数的平均数表示系统上正在运行的线程（任务）需求。这将衡量需求，该需求可能大于系统当前正在处理的需求。大多数工具显示 1 分钟、5 分钟和 15 分钟的三个平均值。</p>
<p dir="auto" _msttexthash="545757381" _msthash="383">这 3 个数字不是不同 CPU 的数字。这些数字是给定时间段（过去 1 分钟、5 分钟和 15 分钟）的负载编号的平均值。</p>
<p dir="auto" _msttexthash="3794927253" _msthash="384"><strong _istranslated="1">负载平均值</strong>通常被描述为 “Average length of run queue”（运行队列的平均长度）。因此，很少有消耗 CPU 的进程或线程可以将<strong _istranslated="1">平均负载</strong>提高到 1 以上。如果<strong _istranslated="1">平均负载</strong>小于 CPU 内核总数，则没有问题。但是，如果它高于 CPU 数量，这意味着一些线程/进程将保持队列状态，准备运行，但等待空闲 CPU。</p>
<p dir="auto" _msttexthash="752943009" _msthash="385">它旨在让您了解系统的状态，这是几个时间段的平均值。由于它是平均的，因此在系统上施加重负载后，它需要时间才能恢复到 0。</p>
<p dir="auto" _msttexthash="22230481" _msthash="386">一些解释：</p>
<ul dir="auto">
<li _msttexthash="118699750" _msthash="387">如果平均值为 0.0，则您的系统处于空闲状态</li>
<li _msttexthash="185955523" _msthash="388">如果 1 分钟平均值高于 5 分钟或 15 分钟平均值，则负载会增加</li>
<li _msttexthash="195667940" _msthash="389">如果 1 分钟平均值低于 5 分钟或 15 分钟平均值，则负载正在减少</li>
<li _msttexthash="260621816" _msthash="390">如果它们高于您的 CPU 数量，则可能存在性能问题（视情况而定）</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="391">有用的资源：</p>
<ul dir="auto">
<li><a href="http://www.brendangregg.com/blog/2017-08-08/linux-load-averages.html" rel="nofollow" _msttexthash="124453784" _msthash="392">Linux 负载平均值：解开谜团（原版）</a></li>
<li><a href="http://blog.angulosolido.pt/2015/04/linux-load-average-definitive-summary.html" rel="nofollow" _msttexthash="47118370" _msthash="393">Linux 平均负载 - 权威总结</a></li>
<li><a href="https://jvns.ca/blog/2016/02/07/cpu-load-averages/" rel="nofollow" _msttexthash="227689696" _msthash="394">CPU 平均负载如何工作（并使用它们对 Web 服务器性能进行分类！</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="86208434" _msthash="395">我的密码在 Linux/Unix 上存储在哪里？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="204522175" _msthash="396">密码根本不存储在系统上的任何位置。存储的是所谓的密码哈希值。</font><code>/etc/shadow</code></p>
<p dir="auto" _msttexthash="1254502561" _msthash="397">通过对文本 （password） 执行所谓的单向函数来创建一些文本的哈希值，从而创建一个要检查的字符串。根据设计，反转该过程是“不可能的”（在计算上不可行）。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="191065472" _msthash="398">较旧的 Unix 变体存储了加密的密码以及有关每个帐户的其他信息。</font><code>/etc/passwd</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="927304326" _msthash="399">较新的只是在相关字段中有一个 并用于存储密码，部分原因是为了确保当他们只需要其他东西时，没有人可以读取密码（通常比 受到更强的保护）。</font><code>*</code><code>/etc/passwd</code><code>/etc/shadow</code><code>shadow</code><code>passwd</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="55250377" _msthash="400">有关更多信息，请咨询 、 、 。</font><code>man crypt</code><code>man shadow</code><code>man passwd</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="401">有用的资源：</p>
<ul dir="auto">
<li><a href="https://security.stackexchange.com/questions/37050/where-is-my-password-stored-on-linux" rel="nofollow" _msttexthash="72395752" _msthash="402">我的密码在 Linux 上存储在哪里？</a></li>
<li><a href="https://www.cyberciti.biz/faq/where-are-the-passwords-of-the-users-located-in-linux/" rel="nofollow" _msttexthash="68546608" _msthash="403">Linux 中用户的密码在哪里？</a></li>
<li><a href="https://www.tldp.org/LDP/lame/LAME/linux-admin-made-easy/shadow-file-formats.html" rel="nofollow" _msttexthash="45877975" _msthash="404">Linux 密码和影子文件格式</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="292395688" _msthash="405">如何递归更改除 files 之外的所有目录和除 directories 之外的所有文件的权限？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="99025810" _msthash="406">要更改所有目录，例如 <strong _mstmutation="1" _istranslated="1">755</strong> （） ：</font><code>drwxr-xr-x</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>find /opt/data -type d -exec chmod 755 {} <span class="pl-cce">\;</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="find /opt/data -type d -exec chmod 755 {} \;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="122102188" _msthash="407">要更改所有文件，例如更改为 <strong _mstmutation="1" _istranslated="1">644</strong> （） ：</font><code>-rw-r--r--</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>find /opt/data -type f -exec chmod 644 {} <span class="pl-cce">\;</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="find /opt/data -type f -exec chmod 644 {} \;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="408">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/3740152/how-do-i-set-chmod-for-a-folder-and-all-of-its-subfolders-and-files?rq=1" rel="nofollow" _msttexthash="201562634" _msthash="409">如何为文件夹及其所有子文件夹和文件设置 chmod？（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="211977675" _msthash="410">每个命令都失败，并未<code _istranslated="1">找到命令</code>。如何追踪错误源头并解决？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="459951102" _msthash="411">看起来在某个时候覆盖了默认环境变量。您遇到的错误类型表示不包含命令（包括 bash）所在的位置。</font><code>PATH</code><code>PATH</code><code>/bin</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="224466619" _msthash="412">开始调试 bash 脚本或命令的一种方法是使用以下选项启动一个 subshell：</font><code>-x</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>bash --login -x</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="bash --login -x" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="139988290" _msthash="413">这将向你显示启动该 shell 时执行的每个命令及其参数。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="55793283" _msthash="414">显示变量值也非常有用：</font><code>PATH</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">echo</span> <span class="pl-smi">$PATH</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="echo $PATH" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="39757640" _msthash="415">如果运行以下命令：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>PATH=/bin:/sbin:/usr/bin:/usr/sbin</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="PATH=/bin:/sbin:/usr/bin:/usr/sbin" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="527394829" _msthash="416">大多数命令应该开始工作 - 然后您可以编辑而不是修复那里重置的任何内容。<strong _mstmutation="1" _istranslated="1">root</strong> 用户和其他用户的默认变量值为 in file。</font><code>~/.bash_profile</code><code>~/.bashrc</code><code>PATH</code><code>PATH</code><code>/etc/profile</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="417">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/26047/how-to-correctly-add-a-path-to-path" rel="nofollow" _msttexthash="62361390" _msthash="418">如何正确地向 PATH 添加路径？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="158953665" _msthash="419">您键入 <code _istranslated="1">CTRL + C</code>，但脚本仍在运行。你怎么阻止它？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="2370445389" _msthash="420">在大多数情况下，您可以使用键盘组合来停止正在运行的脚本。这会向脚本发送中断信号 （SIGINT），从而终止其执行。如果这不起作用并且脚本仍在运行，您可以尝试使用组合，它向脚本发送退出信号 （SIGQUIT），这可能会立即终止它。</font><code>CTRL + C</code><code>CTRL + \</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1114685780" _msthash="421">或者，如果您使用的是终端或命令行界面，则可以尝试使用该命令向脚本进程发送信号。您可以使用 or 命令找到脚本的进程 ID （PID），然后与 PID 一起使用以停止脚本。</font><code>kill</code><code>ps</code><code>top</code><code>kill</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1023364498" _msthash="422">在某些情况下，您可能需要使用命令强制脚本停止，因为如果脚本卡住或没有响应，常规的 kill 命令可能不起作用。该选项发送 SIGKILL 信号，强制进程立即停止。</font><code>kill -9</code><code>-9</code></p>
</details>
<details>
<summary><b _msttexthash="160632277" _msthash="423">什么是 <code _istranslated="1">grep</code> 命令？如何匹配同一行中的多个字符串？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="97637475" _msthash="424">这些实用程序是一系列 Unix 工具，包括 和 。</font><code>grep</code><code>egrep</code><code>fgrep</code></p>
<p dir="auto"><code>grep</code><font _mstmutation="1" _msttexthash="632853494" _msthash="425">搜索文件模式。如果要在另一个命令的输出中查找特定模式，请突出显示相关行。使用此 grep 命令搜索日志文件、特定进程等。</font><code>grep</code></p>
<p dir="auto" _msttexthash="45122337" _msthash="426">对于匹配多个字符串：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>grep -E <span class="pl-s"><span class="pl-pds">"</span>string1|string2<span class="pl-pds">"</span></span> filename</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="grep -E &quot;string1|string2&quot; filename" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="2285010" _msthash="427">或</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>grep -e <span class="pl-s"><span class="pl-pds">"</span>string1<span class="pl-pds">"</span></span> -e <span class="pl-s"><span class="pl-pds">"</span>string2<span class="pl-pds">"</span></span> filename</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="grep -e &quot;string1&quot; -e &quot;string2&quot; filename" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="428">有用的资源：</p>
<ul dir="auto">
<li><a href="https://kb.iu.edu/d/afiy" rel="nofollow" _msttexthash="113989876" _msthash="429">什么是 grep，如何使用它？（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="52207857" _msthash="430">解释文件内容命令以及说明。</b></summary><br>
<ul dir="auto">
<li><code>head</code><font _mstmutation="1" _msttexthash="33508813" _msthash="431">：检查文件的开头。</font></li>
<li><code>tail</code><font _mstmutation="1" _msttexthash="77270908" _msthash="432">：检查文件的结尾。它与 head 命令相反。</font></li>
<li><code>cat</code><font _mstmutation="1" _msttexthash="59089498" _msthash="433">：用于查看、创建、连接文件。</font></li>
<li><code>more</code><font _mstmutation="1" _msttexthash="103622779" _msthash="434">：用于以分页形式在终端窗口中显示文本。</font></li>
<li><code>less</code><font _mstmutation="1" _msttexthash="103365756" _msthash="435">：用于向后查看文本，还提供单行移动。</font></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="436">有用的资源：</p>
<ul dir="auto">
<li><a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Step_by_Step_Guide/s1-viewingtext-terminal.html" rel="nofollow" _msttexthash="55168321" _msthash="437">从 shell 提示符查看文本文件</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="92774266" _msthash="438">SIGHUP、SIGINT、SIGKILL 和 SIGTERM POSIX 信号。解释。</b></summary><br>
<ul dir="auto">
<li _msttexthash="1534282100" _msthash="439"><strong _istranslated="1">SIGHUP</strong> - 当其控制终端关闭时，将其发送到进程。它最初旨在通知串行线路丢弃（挂断）的进程。许多守护进程在收到此信号时会重新加载其配置文件并重新打开其日志文件，而不是退出。</li>
<li><font _mstmutation="1" _msttexthash="819671983" _msthash="440"><strong _mstmutation="1" _istranslated="1">SIGINT</strong> - 当用户希望中断进程时，由其控制终端发送到进程。这通常是通过按 来启动的，但在某些系统上，可以使用 “delete” 字符或 “break” 键。</font><code>Ctrl+C</code></li>
<li _msttexthash="1099292220" _msthash="441"><strong _istranslated="1">SIGKILL</strong> - 发送到进程以使其立即终止 （kill）。与 <strong _istranslated="1">SIGTERM</strong> 和 <strong _istranslated="1">SIGINT</strong> 相比，这个信号不能被捕获或忽略，接收进程在接收到这个信号后无法进行任何清理。</li>
<li _msttexthash="1509408654" _msthash="442"><strong _istranslated="1">SIGTERM</strong> - 被发送到一个进程以请求终止它。与 <strong _istranslated="1">SIGKILL</strong> 信号不同，它可以被进程捕获和解释或忽略。这允许进程执行良好的终止，释放资源并保存状态（如果合适）。<strong _istranslated="1">SIGINT</strong> 与 <strong _istranslated="1">SIGTERM</strong> 几乎相同。</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="443">有用的资源：</p>
<ul dir="auto">
<li><a href="https://dsa.cs.tsinghua.edu.cn/oj/static/unix_signal.html" rel="nofollow" _msttexthash="6869980" _msthash="444">POSIX 信号</a></li>
<li><a href="http://titania.ctie.monash.edu.au/signals/" rel="nofollow" _msttexthash="27869647" _msthash="445">Unix 信号编程简介</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="44462223" _msthash="446"><code _istranslated="1">kill</code> 命令有什么作用？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1290371277" _msthash="447">在 Unix 和类 Unix 操作系统中，是用于向进程发送信号的命令。默认情况下，发送的消息是终止信号，它请求进程退出。但这有点用词不当;发送的信号可能与进程终止无关。</font><code>kill</code><code>kill</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="448">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.maketecheasier.com/kill-command-in-linux/" rel="nofollow" _msttexthash="30895254" _msthash="449">掌握 Linux 中的 “kill” 命令</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="43557059" _msthash="450"><code _istranslated="1">rm</code> 和 <code _istranslated="1">rm -rf</code> 有什么区别？</b></summary><br>
<p dir="auto"><code>rm</code><font _mstmutation="1" _msttexthash="137773922" _msthash="451">仅删除命名文件（而不是目录）。如你所说：</font><code>-rf</code></p>
<ul dir="auto">
<li><code>-r</code><font _mstmutation="1" _msttexthash="139944610" _msthash="452">、 、 递归删除目录的内容，包括隐藏文件和子目录</font><code>-R</code><code>--recursive</code></li>
<li><code>-f</code><font _mstmutation="1" _msttexthash="56482062" _msthash="453">、忽略不存在的文件、从不提示</font><code>--force</code></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="454">有用的资源：</p>
<ul dir="auto">
<li><a href="https://superuser.com/questions/1126206/what-is-the-difference-between-rm-r-and-rm-f" rel="nofollow" _msttexthash="46393893" _msthash="455"><code _istranslated="1">rm -r</code> 和 <code _istranslated="1">rm -f</code> 有什么区别？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="101354955" _msthash="456">如何递归地 <code _istranslated="1">grep</code>？请用几个例子来解释。***</b></summary>
<p dir="auto" _msttexthash="9197435" _msthash="457">待完成。</p>
</details>
<details>
<summary><b _msttexthash="210139618" _msthash="458"><code _istranslated="1">archive.tgz</code> 有 ~30 GB。你如何列出它的内容并只提取一个文件？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> list of content</span>
tar tf archive.tgz

<span class="pl-c"><span class="pl-c">#</span> extract file</span>
tar xf archive.tgz filename</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# list of content
tar tf archive.tgz

# extract file
tar xf archive.tgz filename" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="459">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.cyberciti.biz/faq/list-the-contents-of-a-tar-or-targz-file/" rel="nofollow" _msttexthash="41122510" _msthash="460">列出 tar 或 tar.gz 文件的内容</a></li>
<li><a href="https://unix.stackexchange.com/questions/61461/how-to-extract-specific-files-from-tar-gz" rel="nofollow" _msttexthash="47698599" _msthash="461">如何从 tar.gz 中提取特定文件</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="67834026" _msthash="462">执行 将多个 shell 命令合并到一行中。</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="306745244" _msthash="463">如果只想在前一个命令成功时执行每个命令，请使用运算符将它们组合起来：</font><code>&amp;&amp;</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">cd</span> /my_folder <span class="pl-k">&amp;&amp;</span> rm <span class="pl-k">*</span>.jar <span class="pl-k">&amp;&amp;</span> svn co path to repo <span class="pl-k">&amp;&amp;</span> mvn compile package install</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="cd /my_folder &amp;&amp; rm *.jar &amp;&amp; svn co path to repo &amp;&amp; mvn compile package install" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="197871570" _msthash="464">如果其中一个命令失败，则不会执行该命令后面的所有其他命令。</p>
<p dir="auto" _msttexthash="289649633" _msthash="465">如果要执行所有命令，而不管前面的命令是否失败，请用分号分隔它们：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">cd</span> /my_folder<span class="pl-k">;</span> rm <span class="pl-k">*</span>.jar<span class="pl-k">;</span> svn co path to repo<span class="pl-k">;</span> mvn compile package install</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="cd /my_folder; rm *.jar; svn co path to repo; mvn compile package install" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="354611660" _msthash="466">对于您来说，我认为您希望出现第一种情况，即下一个命令的执行取决于前一个命令的成功。</p>
<p dir="auto" _msttexthash="138632234" _msthash="467">您还可以将所有命令放在脚本中并执行该脚本：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#!</span> /bin/sh</span>
<span class="pl-c1">cd</span> /my_folder \
<span class="pl-k">&amp;&amp;</span> rm <span class="pl-k">*</span>.jar \
<span class="pl-k">&amp;&amp;</span> svn co path to repo \
<span class="pl-k">&amp;&amp;</span> mvn compile package install</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="#! /bin/sh
cd /my_folder \
&amp;&amp; rm *.jar \
&amp;&amp; svn co path to repo \
&amp;&amp; mvn compile package install" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="468">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/13077241/execute-combine-multiple-linux-commands-in-one-line" rel="nofollow" _msttexthash="124132541" _msthash="469">执行将多个 linux 命令合并到一行中（原始）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="498854746" _msthash="470">您可以向 <code _istranslated="1">chmod</code> 传递什么符号表示形式，以授予所有用户对文件的执行权限，而不会影响其他权限？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chmod a+x /path/to/file</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chmod a+x /path/to/file" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li><code>a</code><font _mstmutation="1" _msttexthash="20775235" _msthash="471">- 对于所有用户</font></li>
<li><code>x</code><font _mstmutation="1" _msttexthash="17608864" _msthash="472">- For execution 权限</font></li>
<li><code>r</code><font _mstmutation="1" _msttexthash="15181179" _msthash="473">- 读取权限</font></li>
<li><code>w</code><font _mstmutation="1" _msttexthash="21127886" _msthash="474">- 对于写入权限</font></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="475">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.washington.edu/computing/unix/permissions.html" rel="nofollow" _msttexthash="53669187" _msthash="476">如何使用 chmod 设置文件权限</a></li>
<li><a href="https://askubuntu.com/questions/443789/what-does-chmod-x-filename-do-and-how-do-i-use-it" rel="nofollow" _msttexthash="209244360" _msthash="477">“chmod +x your_file_name” 有什么作用，我该如何使用它？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="50243713" _msthash="478">如何同步两个本地目录？</b></summary><br>
<p dir="auto" _msttexthash="159079908" _msthash="479">要在同一系统上将 <strong _istranslated="1">dir1</strong> 的内容同步到 <strong _istranslated="1">dir2</strong>，请键入：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>rsync -av --progress --delete dir1/ dir2</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="rsync -av --progress --delete dir1/ dir2" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li><code>-a</code><font _mstmutation="1" _msttexthash="15014324" _msthash="480">、 - 存档模式</font><code>--archive</code></li>
<li><code>--delete</code><font _mstmutation="1" _msttexthash="52057928" _msthash="481">- 从 Dest 目录中删除无关文件</font></li>
<li><code>-v</code><font _mstmutation="1" _msttexthash="86216559" _msthash="482">， - 详细模式（增加详细程度）</font><code>--verbose</code></li>
<li><code>--progress</code><font _mstmutation="1" _msttexthash="46822295" _msthash="483">- 在传输过程中显示进度</font></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="484">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/392536/how-can-i-sync-two-local-directories" rel="nofollow" _msttexthash="76785254" _msthash="485">如何同步两个本地目录？（原始</a></li>
<li><a href="https://www.jveweb.net/en/archives/2010/11/synchronizing-folders-with-rsync.html" rel="nofollow" _msttexthash="29545854" _msthash="486">使用 rsync 同步文件夹</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="246224316" _msthash="487">许多基本维护任务要求您编辑配置文件。说明撤消您所做的更改的方法。</b></summary><br>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="189630779" _msthash="488">在编辑之前手动备份文件（使用大括号扩展，如下所示：</font><code>cp filename{,.orig}</code>)</li>
<li><font _mstmutation="1" _msttexthash="96461755" _msthash="489">手动复制存储 file 的目录结构（例如 、 或</font><code>cp</code><code>rsync</code><code>tar</code>)</li>
<li _msttexthash="250553472" _msthash="490">在编辑器中备份原始文件（例如，在编辑器配置文件中设置规则）</li>
<li><font _mstmutation="1" _msttexthash="316409730" _msthash="491">最好的解决方案是使用（或任何其他版本控制）来跟踪配置文件（例如 for directory）</font><code>git</code><code>etckeeper</code><code>/etc</code></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="492">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/66376/backup-file-with-bak-before-filename-extension" rel="nofollow" _msttexthash="46227207" _msthash="493">文件扩展名前.bak的备份文件</a></li>
<li><a href="https://superuser.com/questions/1037211/is-it-a-good-idea-to-use-git-for-configuration-file-version-controlling" rel="nofollow" _msttexthash="132256124" _msthash="494">使用 git 进行配置文件版本控制是个好主意吗？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="108705337" _msthash="495">您必须找到所有大于 20MB 的文件。你怎么做？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>find / -type f -size +20M</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="find / -type f -size +20M" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="496">有用的资源：</p>
<ul dir="auto">
<li><a href="https://superuser.com/questions/204564/how-can-i-find-files-that-are-bigger-smaller-than-x-bytes" rel="nofollow" _msttexthash="75961535" _msthash="497">如何找到大于/小于 x 字节的文件？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="83722054" _msthash="498">为什么我们使用 <code _istranslated="1">sudo su -</code> 而不仅仅是 <code _istranslated="1">sudo su</code>？</b></summary><br>
<p dir="auto"><code>sudo</code><font _mstmutation="1" _msttexthash="1104551149" _msthash="499">在大多数现代 Linux 发行版中，（但并非总是）root 用户被禁用且未设置密码。因此，您不能切换到 root 用户（您可以尝试）。您必须使用 root 权限调用： 。</font><code>su</code><code>sudo</code><code>sudo su</code></p>
<p dir="auto"><code>su</code><font _mstmutation="1" _msttexthash="210820103" _msthash="500">只需切换用户，提供一个普通的 shell，其环境与旧用户几乎相同。</font></p>
<p dir="auto"><code>su -</code><font _mstmutation="1" _msttexthash="388733254" _msthash="501">切换用户后调用 login shell。登录 shell 会重置大多数环境变量，从而提供一个干净的基础。</font></p>
<p dir="auto" _msttexthash="28005783" _msthash="502">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/35338/su-vs-sudo-s-vs-sudo-i-vs-sudo-bash" rel="nofollow" _msttexthash="789269" _msthash="503">su vs sudo -s vs sudo -i vs sudo bash</a></li>
<li><a href="https://unix.stackexchange.com/questions/7013/why-do-we-use-su-and-not-just-su" rel="nofollow" _msttexthash="131785121" _msthash="504">为什么我们使用 su - 而不仅仅是 su？（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="128208145" _msthash="505">如何查找过去 60 分钟内系统上修改过的文件？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>find / -mmin -60 -type f</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="find / -mmin -60 -type f" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="506">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/23070245/get-all-files-modified-in-last-30-days-in-a-directory" rel="nofollow" _msttexthash="142464153" _msthash="507">获取目录中最近 30 天内修改的所有文件（原始）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="84944054" _msthash="508">保留旧日志文件的主要原因是什么？</b></summary><br>
<p dir="auto" _msttexthash="261075282" _msthash="509">它们对于调查系统上的问题至关重要。<strong _istranslated="1">日志管理</strong>对于 IT 安全绝对至关重要。</p>
<p dir="auto" _msttexthash="2060332196" _msthash="510">服务器、防火墙和其他 IT 设备保留记录重要事件和事务的日志文件。此信息可以提供有关从内部和外部影响您的网络的恶意活动的重要线索。日志数据还可以提供用于识别和排查设备问题（包括配置问题和硬件故障）的信息。</p>
<p dir="auto" _msttexthash="427692226" _msthash="511">它是您的服务器记录谁访问了您的网站、何时访问以及他们查看了什么。它非常详细，显示：</p>
<ul dir="auto">
<li _msttexthash="20286721" _msthash="512">人们来自哪里</li>
<li _msttexthash="28908581" _msthash="513">他们使用的浏览器</li>
<li _msttexthash="41403310" _msthash="514">他们究竟查看了哪些文件</li>
<li _msttexthash="56897295" _msthash="515">加载每个文件所花费的时间</li>
<li _msttexthash="40765504" _msthash="516">以及一大堆其他书的东西</li>
</ul>
<p dir="auto" _msttexthash="40590017" _msthash="517">需要考虑的因素：</p>
<ul dir="auto">
<li _msttexthash="43347798" _msthash="518">保留或销毁的法律要求</li>
<li _msttexthash="35011392" _msthash="519">公司保留和销毁政策</li>
<li _msttexthash="26752505" _msthash="520">日志的有用时间</li>
<li _msttexthash="59208994" _msthash="521">您希望从日志中回答哪些问题</li>
<li _msttexthash="29853317" _msthash="522">它们占用多少空间</li>
</ul>
<p dir="auto" _msttexthash="804386154" _msthash="523">通过收集和分析日志，您可以了解网络中发生的事情。每个日志文件都包含许多非常有价值的信息，特别是如果您知道如何阅读和分析它们。</p>
<p dir="auto" _msttexthash="28005783" _msthash="524">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/135365/how-long-do-you-keep-log-files" rel="nofollow" _msttexthash="63073101" _msthash="525">您保留日志文件多长时间？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="34125611" _msthash="526">什么是增量备份？</b></summary><br>
<p dir="auto" _msttexthash="209045304" _msthash="527">增量备份是一种备份类型，它仅复制自上次备份以来已更改的文件。</p>
<p dir="auto" _msttexthash="28005783" _msthash="528">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.nakivo.com/blog/what-is-incremental-backup/" rel="nofollow" _msttexthash="34125611" _msthash="529">什么是增量备份？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="94722654" _msthash="530">什么是 RAID？什么是 RAID0、RAID1、RAID5、RAID6、RAID10？</b></summary><br>
<p dir="auto" _msttexthash="303447612" _msthash="531"><strong _istranslated="1">RAID</strong>（廉价磁盘冗余阵列）是一种用于提高数据存储性能和/或可靠性的技术。</p>
<ul dir="auto">
<li _msttexthash="658043802" _msthash="532"><strong _istranslated="1">RAID0</strong>：也称为磁盘<strong _istranslated="1">条带</strong>化，是一种分解文件并将数据分散到 RAID 组中的所有磁盘驱动器的技术。没有防止失败的保护措施</li>
<li _msttexthash="4040141326" _msthash="533"><strong _istranslated="1">RAID1</strong>：一种流行的磁盘子系统，它通过在两个驱动器上写入相同的数据来提高安全性。RAID 1 称为“<strong _istranslated="1">镜像</strong>”，它不会提高写入性能，但读取性能可能等于每个磁盘性能的总和。但是，如果一个驱动器发生故障，则使用第二个驱动器，并手动更换发生故障的驱动器。更换后，RAID 控制器会将工作驱动器的内容复制到新驱动器上</li>
<li _msttexthash="2206632298" _msthash="534"><strong _istranslated="1">RAID5</strong>：它是一个磁盘子系统，它通过计算奇偶校验数据来提高安全性，并通过在三个或更多驱动器之间交错数据（<strong _istranslated="1">条带</strong>化）来提高速度。当单个驱动器发生故障时，可以从分布式奇偶校验计算后续读取，这样就不会丢失任何数据</li>
<li _msttexthash="2519525450" _msthash="535"><strong _istranslated="1">RAID6</strong>：RAID 6 通过添加另一个奇偶校验块来扩展 RAID 5。它至少需要四个磁盘，并且可以继续执行任意两个并发磁盘故障的读取和写入。RAID 6 不会对读取操作造成性能损失，但由于与奇偶校验计算相关的开销，它确实对写入操作的性能造成了影响</li>
<li _msttexthash="3549537368" _msthash="536"><strong _istranslated="1">RAID10</strong>：也称为 <strong _istranslated="1">RAID 1+0</strong>，是一种结合了磁盘镜像和磁盘条带化以保护数据的 RAID 配置。它至少需要四个磁盘，并跨镜像对数据进行条带化。只要每个镜像对中的一个磁盘正常工作，就可以检索数据。如果同一镜像对中的两个磁盘发生故障，则所有数据都将丢失，因为条带化集中没有奇偶校验</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="537">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.prepressure.com/library/technology/raid" rel="nofollow" _msttexthash="5366647" _msthash="538">袭击</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="123369779" _msthash="539">如何确定用户的默认组？你会如何改变它？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>useradd -m -g initial_group username</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="useradd -m -g initial_group username" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><code>-g/--gid</code><font _mstmutation="1" _msttexthash="613877550" _msthash="540">：定义用户初始登录组的组名称或编号。如果指定，则组名称必须存在;如果提供了组编号，则它必须引用已存在的组。</font></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="595985663" _msthash="541">如果未指定，则 useradd 的行为将取决于 中包含的变量。默认行为 （） 是创建一个与用户名同名的组，其中 <strong _mstmutation="1" _istranslated="1">GID</strong> 等于 <strong _mstmutation="1" _istranslated="1">UID</strong>。</font><code>USERGROUPS_ENAB</code><code>/etc/login.defs</code><code>USERGROUPS_ENAB yes</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="542">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/26675/how-can-i-change-a-users-default-group-in-linux" rel="nofollow" _msttexthash="94525067" _msthash="543">如何在 Linux 中更改用户的默认组？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="188887062" _msthash="544">您最适合日常工作和编写脚本的命令行文本编辑器是什么？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="545">待完成。</p>
</details>
<details>
<summary><b _msttexthash="78482651" _msthash="546">为什么要将服务器安装在机架中？</b></summary><br>
<ul dir="auto">
<li _msttexthash="10721399" _msthash="547">保护硬件</li>
<li _msttexthash="15217020" _msthash="548">适当的冷却</li>
<li _msttexthash="26477282" _msthash="549">井然有序的工作区</li>
<li _msttexthash="26235716" _msthash="550">更好的电源管理</li>
<li _msttexthash="20306390" _msthash="551">更清洁的环境</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="552">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.racksolutions.com/news/custom-projects/5-reasons-to-rackmount-pc/" rel="nofollow" _msttexthash="53028989" _msthash="553">将 PC 安装在机架上的 5 个理由</a></li>
</ul>
</details>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="37147682" _msthash="554">网络问题 （23）</h6><a id="user-content-network-questions-23" class="anchor" aria-label="永久链接：网络问题 （23）" href="#network-questions-23" _mstaria-label="778791" _msthash="555"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="341014336" _msthash="556">给我画一个简单的网络图：你有 20 个系统、1 个路由器、4 个交换机、5 个服务器和一个小的 IP 块。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="557">待完成。</p>
</details>
<details>
<summary><b _msttexthash="256275630" _msthash="558">关于 OSI（或任何其他）模型，需要了解的最重要的事情是什么？</b></summary><br>
<p dir="auto" _msttexthash="238189341" _msthash="559">关于 <strong _istranslated="1">OSI</strong>（或任何其他）模型，需要了解的最重要的一点是：</p>
<ul dir="auto">
<li _msttexthash="49905102" _msthash="560">我们可以将协议划分为多个层</li>
<li _msttexthash="15259738" _msthash="561">层提供封装</li>
<li _msttexthash="15615990" _msthash="562">层提供抽象</li>
<li _msttexthash="40090596" _msthash="563">层将函数与其他函数分离</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="564">有用的资源：</p>
<ul dir="auto">
<li><a href="https://networkengineering.stackexchange.com/questions/6380/osi-model-and-networking-protocols-relationship" rel="nofollow" _msttexthash="52639886" _msthash="565">OSI 模型和网络协议的关系</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="171933255" _msthash="566">VLAN 和子网有什么区别？您需要 VLAN 来设置子网吗？</b></summary><br>
<p dir="auto" _msttexthash="557354772" _msthash="567"><strong _istranslated="1">VLAN</strong> 和<strong _istranslated="1">子网</strong>解决了不同的问题。<strong _istranslated="1">VLAN</strong> 在第 2 层工作，从而改变广播域（例如）。而<strong _istranslated="1">子网</strong>在当前上下文中是第 3 层。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1510407730" _msthash="568"><strong _mstmutation="1" _istranslated="1">子网</strong> - 是由地址的一部分（通常称为网络地址）和子网掩码（网络掩码）确定的 IP 地址范围。例如，如果网络掩码是（或简称），并且网络地址是 ，则通过 定义 IP 地址范围。写作的简写是 .</font><code>255.255.255.0</code><code>/24</code><code>192.168.10.0</code><code>192.168.10.0</code><code>192.168.10.255</code><code>192.168.10.0/24</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="5411936764" _msthash="569"><strong _mstmutation="1" _istranslated="1">VLAN</strong> - 一个很好的考虑方法是 “switch partitioning”。假设您有一个支持 VLAN 的 8 端换机。您可以将 4 个端口分配给一个 <strong _mstmutation="1" _istranslated="1">VLAN</strong>（例如 ），将 4 个端口分配给另一个 <strong _mstmutation="1" _istranslated="1">VLAN</strong>（例如 ）。 不会看到任何流量，反之亦然，从逻辑上讲，您现在有两个独立的交换机。通常，在交换机上，如果交换机没有看到 MAC 地址，它会将流量“泛洪”到所有其他端口。<strong _mstmutation="1" _istranslated="1">VLAN</strong> 可以防止这种情况。</font><code>VLAN 1</code><code>VLAN 2</code><code>VLAN 1</code><code>VLAN 2's</code></p>
<p dir="auto" _msttexthash="2312995815" _msthash="570">子网只不过是 IP 地址的 IP 地址范围，可帮助主机通过第 2 层和第 3 层进行通信。每个子网不需要自己的 <strong _istranslated="1">VLAN</strong>。<strong _istranslated="1">VLAN</strong> 的实施是为了隔离（是第二层通信的沙箱，2 个不同 <strong _istranslated="1">VLAN</strong> 的 2 个系统无法通信，但可以通过 <strong _istranslated="1">VLAN 间路由</strong>完成）、易于管理和安全性。</p>
<p dir="auto" _msttexthash="28005783" _msthash="571">有用的资源：</p>
<ul dir="auto">
<li><a href="https://superuser.com/questions/353664/what-is-the-difference-between-a-vlan-and-a-subnet" rel="nofollow" _msttexthash="100720035" _msthash="572">VLAN 和子网有什么区别？（原文）</a></li>
<li><a href="https://networkengineering.stackexchange.com/questions/46899/vlans-vs-subnets-for-network-security-and-segmentation" rel="nofollow" _msttexthash="60583913" _msthash="573">用于网络安全和分段的 VLAN 与子网</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="82539418" _msthash="574">列出您应该了解的 5 个常见网络端口。</b></summary><br>
<markdown-accessiblity-table data-catalyst=""><table>
  <tbody><tr>
    <th _msttexthash="4600583" _msthash="575">服务</th>
    <th _msttexthash="4800237" _msthash="576">港口</th>
  </tr>
  <tr>
    <td _msttexthash="8663798" _msthash="577">SMTP 协议</td>
    <td _msttexthash="10062" _msthash="578">25</td>
  </tr>
  <tr>
    <td _msttexthash="37849851" _msthash="579">FTP （自由贸易协定</td>
    <td _msttexthash="104713323" _msthash="580">20 个用于数据传输，21 个用于已建立连接</td>
  </tr>
  <tr>
    <td _msttexthash="8404097" _msthash="581">DNS 解析</td>
    <td _msttexthash="10127" _msthash="582">53</td>
  </tr>
  <tr>
    <td _msttexthash="31915" _msthash="583">DHCP</td>
    <td _msttexthash="102547796" _msthash="584">67/UDP 用于 DHCP 服务器，68/UDP 用于 DHCP 客户端</td>
  </tr>
  <tr>
    <td _msttexthash="5808257" _msthash="585">SSH 公司</td>
    <td _msttexthash="9750" _msthash="586">22</td>
  </tr>
</tbody></table></markdown-accessiblity-table>
<p dir="auto" _msttexthash="28005783" _msthash="587">有用的资源：</p>
<ul dir="auto">
<li><a href="https://web.mit.edu/rhel-doc/4/RH-DOCS/rhel-sg-en-4/ch-ports.html" rel="nofollow" _msttexthash="113138701" _msthash="588">Red Hat Enterprise Linux 4：安全指南 - 常用端口</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="201357234" _msthash="589">什么是 POP 和 IMAP，以及如何选择您应该实施其中的哪一个？</b></summary><br>
<p dir="auto" _msttexthash="231732774" _msthash="590">POP 和 IMAP 都是用于将邮件从邮件服务器检索到邮件客户端的协议。</p>
<p dir="auto" _msttexthash="8221175196" _msthash="591"><strong _istranslated="1">POP</strong>（<em _istranslated="1">邮局协议</em>）使用从邮件服务器到客户端的单向推送。默认情况下，这会将邮件发送到 POP 邮件客户端并将其从邮件服务器中删除，尽管可以将邮件服务器配置为保留所有邮件。您在邮件客户端中对邮件执行的任何操作（标记、删除、移动到文件夹）都不会反映在邮件服务器上，因此从邮件服务器拉取的其他邮件客户端无法访问。POP 在邮件服务器上占用的存储空间很少，并且可以被视为更安全，因为邮件仅存在于一个邮件客户端上，而不是邮件服务器和多个客户端上。</p>
<p dir="auto" _msttexthash="8061471964" _msthash="592"><strong _istranslated="1">IMAP</strong> （<em _istranslated="1">Internet Message Access Protocol</em>） 使用邮件服务器和客户端之间的双向通信。在配置了 IMAP 的邮件客户端中删除或标记邮件时，也会在邮件服务器上删除或标记该邮件。IMAP 允许在跨不同客户端或设备访问邮件时获得类似的体验，因为邮件可以在多个设备上以相同的状态存在。IMAP 还可以通过选择性地同步邮件来节省邮件客户端上的磁盘空间，从邮件客户端中删除较旧的邮件，因为它可以稍后根据需要从邮件服务器同步它们。</p>
<p dir="auto" _msttexthash="1833850629" _msthash="593">如果您需要跨多个设备访问邮件，并且希望节省客户端设备上的磁盘空间，请选择 IMAP。如果要节省邮件服务器上的磁盘空间，仅访问来自一个客户端设备的邮件，并确保邮件不存在于多个系统上，请选择 POP。</p>
</details>
<details>
<summary><b _msttexthash="76974924" _msthash="594">如何查看默认路由和路由表？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="155113140" _msthash="595">使用命令 ，或者我们可以看到默认的路由和路由表。</font><code>netstat -nr</code><code>route -n</code><code>ip route show</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="596">有用的资源：</p>
<ul dir="auto">
<li><a href="https://howto.lintel.in/how-to-check-routes-routing-table-in-linux/" rel="nofollow" _msttexthash="104452348" _msthash="597">如何在 linux 中检查路由（路由表）</a></li>
<li><a href="https://www.cyberciti.biz/faq/freebsd-setup-default-routing-with-route-command/" rel="nofollow" _msttexthash="60093761" _msthash="598">FreeBSD 设置默认路由/网关</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="70672108" _msthash="599">127.0.0.1 和 localhost 有什么区别？</b></summary><br>
<p dir="auto" _msttexthash="213362396" _msthash="600">嗯，最可能的区别是你仍然需要在某个地方对 localhost 进行实际查找。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="956585201" _msthash="601">如果您使用 ，那么（智能）软件只会将其直接转换为 IP 地址并使用它。的一些实现将检测点状格式（大概是等效的 IPv6 格式），并且根本不进行查找。</font><code>127.0.0.1</code><code>gethostbyname</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="808947789" _msthash="602">否则，必须解析名称。而且不能保证你的 hosts 文件真的会用于该解析（首先，或者根本没有），所以可能会变成一个完全不同的 IP 地址。</font><code>localhost</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="503319557" _msthash="603">我的意思是，在某些系统上，可以绕过本地 hosts 文件。该文件在 Linux（和许多其他 Unices）上对此进行控制。</font><code>host.conf</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1270127131" _msthash="604">如果您使用 Unix 域套接字，它将比使用 TCP/IP 稍快（因为您的开销较小）。Windows 默认使用 TCP/IP，而 Linux 尝试使用 Unix 域套接字（如果您选择 localhost）和 TCP/IP（如果您选择 .</font><code>127.0.0.1</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="605">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/7382602/what-is-the-difference-between-127-0-0-1-and-localhost" rel="nofollow" _msttexthash="70672108" _msthash="606">127.0.0.1 和 localhost 有什么区别？</a></li>
<li><a href="https://stackoverflow.com/questions/3715925/localhost-vs-127-0-0-1" rel="nofollow" _msttexthash="4414761" _msthash="607">localhost 与 127.0.0.1</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="51701806" _msthash="608"><code _istranslated="1">ping</code> 命令使用哪个端口？</b></summary><br>
<p dir="auto"><code>ping</code><font _mstmutation="1" _msttexthash="1853579650" _msthash="609">使用 <strong _mstmutation="1" _istranslated="1">ICMP</strong>，特别是 <strong _mstmutation="1" _istranslated="1">ICMP 回应请求</strong>和 <strong _mstmutation="1" _istranslated="1">ICMP 回应应答</strong>数据包。没有与 <strong _mstmutation="1" _istranslated="1">ICMP</strong> 关联的“端口”。端口与两个 IP 传输层协议（TCP 和 UDP）相关联。<strong _mstmutation="1" _istranslated="1">ICMP</strong>、TCP 和 UDP 是“兄弟姐妹”;它们不是彼此基于的，而是在 IP 上运行的三个独立协议。</font></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="4157228127" _msthash="610"><strong _mstmutation="1" _istranslated="1">ICMP</strong> 数据包由 IP 数据报报头中的“protocol”字段标识。<strong _mstmutation="1" _istranslated="1">ICMP</strong> 不使用 UDP 或 TCP 通信服务，它使用原始 IP 通信服务。这意味着 <strong _mstmutation="1" _istranslated="1">ICMP</strong> 消息直接包含在 IP 数据报数据字段中。 来自如何在软件中实现这一点，要创建和发送 <strong _mstmutation="1" _istranslated="1">ICMP</strong> 消息，需要打开一个套接字，构建一个包含 <strong _mstmutation="1" _istranslated="1">ICMP</strong> 消息的缓冲区，然后将包含该消息的缓冲区写入原始套接字。</font><code>raw</code><code>raw</code></p>
<p dir="auto" _msttexthash="439844145" _msthash="611"><strong _istranslated="1">ICMP</strong> 的 IP 协议值为 1。protocol 字段是 IP 报头的一部分，用于标识 IP 数据报的数据部分中的内容。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="108169919" _msthash="612">但是，您可以使用来查看端口是否打开：</font><code>nmap</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>nmap -p 80 example.com</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="nmap -p 80 example.com" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="613">有用的资源：</p>
<ul dir="auto">
<li><a href="https://networkengineering.stackexchange.com/questions/42463/ping-port-number" rel="nofollow" _msttexthash="11527568" _msthash="614">Ping 端口号</a></li>
<li><a href="https://superuser.com/questions/769541/is-it-possible-to-ping-an-addressport" rel="nofollow" _msttexthash="51750946" _msthash="615">是否可以 ping address：port？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="165047935" _msthash="616">服务器 A 无法与服务器 B 通信。分几个步骤描述可能的原因。</b></summary><br>
<p dir="auto" _msttexthash="164094099" _msthash="617">要解决服务器之间的通信问题，最好遵循 TCP/IP 堆栈：</p>
<ol dir="auto">
<li>
<p dir="auto" _msttexthash="1408301986" _msthash="618"><strong _istranslated="1">Application Layer</strong>：服务是否在两台服务器上启动并运行？它们是否配置正确（例如，绑定正确的 IP 和正确的端口）？应用程序和系统日志是否显示有意义的错误？</p>
</li>
<li>
<p dir="auto" _msttexthash="278311085" _msthash="619"><strong _istranslated="1">传输层</strong>：应用程序使用的端口是否打开（尝试 telnet！是否可以 ping 服务器？</p>
</li>
<li>
<p dir="auto" _msttexthash="919169615" _msthash="620"><strong _istranslated="1">网络层</strong>：网络或操作系统上是否有防火墙配置正确？IP 堆栈配置是否正确（IP、路由、dns 等）？交换机和路由器是否正常工作（检查 ARP 表！</p>
</li>
<li>
<p dir="auto" _msttexthash="166730837" _msthash="621"><strong _istranslated="1">物理层</strong>：服务器是否连接到网络？数据包是否丢失？</p>
</li>
</ol>
</details>
<details>
<summary><b _msttexthash="160235413" _msthash="622">为什么主机名无法在您的服务器上解析？修复此问题。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="623">待完成。</p>
</details>
<details>
<summary><b _msttexthash="236427594" _msthash="624">如何使用 CLI 解析域名（使用外部 dns）？IP 可以解析到域名吗？</b></summary><br>
<p dir="auto" _msttexthash="66726660" _msthash="625">将 IP 地址解析为域名的示例：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> with host command:</span>
host domain.com 8.8.8.8

<span class="pl-c"><span class="pl-c">#</span> with dig command:</span>
dig @9.9.9.9 google.com

<span class="pl-c"><span class="pl-c">#</span> with nslookup command:</span>
nslookup domain.com 8.8.8.8</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# with host command:
host domain.com 8.8.8.8

# with dig command:
dig @9.9.9.9 google.com

# with nslookup command:
nslookup domain.com 8.8.8.8" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="503351849" _msthash="626">您可以（有时）将 IP 地址解析回主机名。IP 地址可以根据 <strong _istranslated="1">PTR</strong> 记录进行存储。然后，您可以执行以下操作：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>dig A <span class="pl-k">&lt;</span>hostname<span class="pl-k">&gt;</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="dig A <hostname>" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="80535221" _msthash="627">要查找主机的 IPv4 地址，或者：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>dig AAAA <span class="pl-k">&lt;</span>hostname<span class="pl-k">&gt;</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="dig AAAA <hostname>" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="80535637" _msthash="628">要查找主机的 IPv6 地址，或者：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>dig PTR ZZZ.YYY.XXX.WWW.in-addr.arpa.</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="dig PTR ZZZ.YYY.XXX.WWW.in-addr.arpa." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="294205366" _msthash="629">要查找 IPv4 地址的主机名（请注意，八位字节是相反的），或者：</font><code>WWW.XXX.YYY.ZZZ</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>dig PTR b.a.9.8.7.6.5.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.8.b.d.0.1.0.0.2.ip6.arpa.</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="dig PTR b.a.9.8.7.6.5.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.8.b.d.0.1.0.0.2.ip6.arpa." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="630">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/20784/how-can-i-resolve-a-hostname-to-an-ip-address-in-a-bash-script" rel="nofollow" _msttexthash="106621112" _msthash="631">如何在 Bash 脚本中将主机名解析为 IP 地址？</a></li>
<li><a href="https://superuser.com/questions/315687/how-to-resolve-ip-addresses-to-domain-names" rel="nofollow" _msttexthash="56129086" _msthash="632">如何将 IP 地址解析为域名？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="90516634" _msthash="633">如何使用 <code _istranslated="1">telnet</code> 或 <code _istranslated="1">nc</code> 测试端口连接？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> with telnet command:</span>
telnet code42.example.com 5432

<span class="pl-c"><span class="pl-c">#</span> with nc (netcat) command:</span>
nc -vz code42.example.com 5432</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# with telnet command:
telnet code42.example.com 5432

# with nc (netcat) command:
nc -vz code42.example.com 5432" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="129859210" _msthash="634">为什么应该避免使用 <code _istranslated="1">telnet</code> 来远程管理系统？</b></summary><br>
<p dir="auto" _msttexthash="623500943" _msthash="635">默认情况下，现代操作系统已关闭所有可能不安全的服务。另一方面，一些网络设备供应商仍然允许使用 telnet 协议建立通信。</p>
<p dir="auto" _msttexthash="593158852" _msthash="636"><strong _istranslated="1">Telnet</strong> 使用最不安全的通信方法。它以纯文本格式通过网络发送数据，任何人都可以使用网络工具轻松找到密码。</p>
<p dir="auto" _msttexthash="1193231286" _msthash="637">对于 <strong _istranslated="1">Telnet</strong>，这些包括以纯文本形式传递登录凭证，这意味着在您的网络上运行嗅探器的任何人都可以通过窃听 <strong _istranslated="1">Telnet</strong> 登录会话，在几秒钟内找到控制设备所需的信息。</p>
<p dir="auto" _msttexthash="28005783" _msthash="638">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.ssh.com/ssh/telnet" rel="nofollow" _msttexthash="62827076" _msthash="639">Telnet 和 SSH 作为安全的替代方案</a></li>
<li><a href="https://superuser.com/questions/339107/how-to-telnet-to-an-ip-address-on-a-specific-port" rel="nofollow" _msttexthash="82164082" _msthash="640">如何 telnet 到特定端口上的 IP 地址？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="46413276" _msthash="641"><code _istranslated="1">wget</code> 和 <code _istranslated="1">curl</code> 有什么区别？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="601648593" _msthash="642">主要区别在于：与它递归下载的能力相比，主要的优势是它。 只是命令行。 支持 FTP、FTPS、HTTP、HTTPS、SCP、SFTP、TFTP、TELNET、DICT、LDAP、LDAPS、文件、POP3、IMAP、SMTP、RTMP 和 RTSP。</font><code>wget's</code><code>curl</code><code>wget</code><code>curl</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="643">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/47434/what-is-the-difference-between-curl-and-wget" rel="nofollow" _msttexthash="100814519" _msthash="644">curl 和 wget 有什么区别？（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="73027695" _msthash="645">什么是 SSH，它是如何工作的？</b></summary><br>
<p dir="auto" _msttexthash="706007328" _msthash="646"><strong _istranslated="1">SSH</strong> 代表 <strong _istranslated="1">Secure Shell</strong>。它是一种协议，允许您从服务器 “A” 进入 shell 会话，再进入服务器 “B”。它允许您与服务器 “B” 进行交互。</p>
<p dir="auto" _msttexthash="781849523" _msthash="647">要建立 <strong _istranslated="1">SSH</strong> 连接，远程计算机（服务器 A）必须运行称为 <strong _istranslated="1">SSH</strong> 守护程序的软件，并且用户的计算机（服务器 B）必须具有 <strong _istranslated="1">SSH</strong> 客户端。</p>
<p dir="auto" _msttexthash="839124117" _msthash="648"><strong _istranslated="1">SSH</strong> 守护程序和 <strong _istranslated="1">SSH</strong> 客户端侦听特定网络端口（默认为 22）上的连接，验证连接请求，并在用户提供正确的凭证时生成适当的环境。</p>
<p dir="auto" _msttexthash="28005783" _msthash="649">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.digitalocean.com/community/tutorials/understanding-the-ssh-encryption-and-connection-process" rel="nofollow" _msttexthash="44673512" _msthash="650">了解 SSH 加密和连接过程</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="359943337" _msthash="651">大多数教程建议使用 SSH 密钥身份验证而不是密码身份验证。为什么它被认为更安全？</b></summary><br>
<p dir="auto" _msttexthash="827352591" _msthash="652"><strong _istranslated="1">SSH 密钥</strong>是 SSH 协议中的访问凭证。它的功能类似于用户名和密码，但密钥主要用于自动化过程以及系统管理员和高级用户实施单点登录。</p>
<p dir="auto" _msttexthash="439519158" _msthash="653">无需用户密码，而是可以通过使用非对称加密算法（使用公钥和私钥）来确认客户端的身份。</p>
<p dir="auto" _msttexthash="436150377" _msthash="654">如果您的 SSH 服务只允许公钥身份验证，则攻击者需要与服务器上存储的公钥相对应的私钥副本。</p>
<p dir="auto" _msttexthash="2271443928" _msthash="655">如果您的 SSH 服务允许基于密码的身份验证，那么您连接到 Internet 的 SSH 服务器将日夜受到试图猜测用户名和密码的僵尸网络的攻击。僵尸网络不需要任何信息，它只需要尝试流行的名称和流行的密码。除此之外，这会堵塞您的日志。</p>
<p dir="auto" _msttexthash="28005783" _msthash="656">有用的资源：</p>
<ul dir="auto">
<li><a href="http://www.crypto-it.net/eng/tools/key-based-authentication.html" rel="nofollow" _msttexthash="87869899" _msthash="657">基于密钥的身份验证 （Public Key Authentication）</a></li>
<li><a href="https://security.stackexchange.com/questions/33381/ssh-password-vs-key-authentication" rel="nofollow" _msttexthash="41181491" _msthash="658">SSH 密码vs. key身份验证</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="110651528" _msthash="659">什么是数据包过滤器，它是如何工作的？</b></summary><br>
<p dir="auto" _msttexthash="1002003587" _msthash="660"><strong _istranslated="1">数据包过滤</strong>是一种防火墙技术，用于通过监控传出和传入数据包并允许它们根据源和目标 Internet 协议 （IP） 地址、协议和端口通过或停止来控制网络访问。</p>
<p dir="auto" _msttexthash="1169045748" _msthash="661">在安全要求不高的情况下，数据包筛选是合适的。许多组织的内部（专用）网络没有高度分段。高度复杂的防火墙对于将组织的一个部分与另一个部分隔离不是必需的。</p>
<p dir="auto" _msttexthash="989241409" _msthash="662">但是，谨慎的做法是提供某种形式的生产网络保护，使其免受实验室或实验网络的影响。数据包过滤设备是将一个子网与另一个子网隔离的非常合适的措施。</p>
<p dir="auto" _msttexthash="706452084" _msthash="663">在 TCP/IP 协议栈的网络层和传输层运行，每个数据包在进入协议栈时都会被检查。将仔细检查 network 和 transport 标头以获取以下信息：</p>
<ul dir="auto">
<li _msttexthash="1079198575" _msthash="664"><strong _istranslated="1">protocol （IP header， network layer）</strong> - 在 IP 报头中，字节 9（记住字节计数以零开头）标识数据包的协议。大多数过滤器设备都能够区分 TCP、UPD 和 ICMP。</li>
<li _msttexthash="215869290" _msthash="665"><strong _istranslated="1">源地址（IP 报头、网络层）</strong> - 源地址是创建数据包的主机的 32 位 IP 地址。</li>
<li _msttexthash="231566855" _msthash="666"><strong _istranslated="1">目标地址（IP 报头、网络层）</strong> - 目标地址是数据包目标主机的 32 位 IP 地址。</li>
<li _msttexthash="5596992999" _msthash="667"><strong _istranslated="1">源端口（TCP 或 UDP 报头、传输层）</strong>- TCP 或 UDP 网络连接的每一端都绑定到一个端口。TCP 端口是独立的，与 UDP 端口不同。编号低于 1024 的端口是保留的 – 它们具有专门定义的用途。编号为 1024 （含） 以上的端口称为临时端口。供应商可以选择如何使用它们。有关 “众所周知” 端口的列表，请参阅 RFP1700。源端口是伪随机分配的临时端口号。因此，在 source 端口上进行过滤通常不是很有用。</li>
<li _msttexthash="1342152539" _msthash="668"><strong _istranslated="1">目标端口（TCP 或 UDP 报头、传输层）</strong>- 目标端口号指示数据包发送到的端口。目标主机上的每项服务都侦听一个端口。一些可能被过滤的已知端口是 20/TCP 和 21/TCP - ftp 连接/数据、23/TCP - telnet、80/TCP - http 和 53/TCP - DNS 区域传输。</li>
<li _msttexthash="2340699829" _msthash="669"><strong _istranslated="1">连接状态（TCP 标头、传输层）</strong>- 连接状态指示数据包是否是网络会话的第一个数据包。TCP 报头中的 ACK 位设置为 “false” 或 0 （如果这是会话中的第一个数据包）。通过拒绝或丢弃任何 ACK 位设置为 “false” 或 0 的数据包，禁止主机建立连接非常简单。</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="670">有用的资源：</p>
<ul dir="auto">
<li><a href="http://web.deu.edu.tr/static/oreily/networking/firewall/ch06_01.htm" rel="nofollow" _msttexthash="67357732" _msthash="671">构建 Internet 防火墙 - 数据包过滤</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="74466314" _msthash="672">使用反向代理服务器有什么好处？</b></summary><br>
<p dir="auto"><strong _msttexthash="57859425" _msthash="673">隐藏后端服务器的拓扑和特征</strong></p>
<p dir="auto" _msttexthash="991404596" _msthash="674"><strong _istranslated="1">反向代理服务器</strong>可以隐藏源服务器的存在和特征。它充当 Internet 云和 Web 服务器之间的中介。出于安全原因，尤其是当您使用网络托管服务时，这是很好的。</p>
<p dir="auto"><strong _msttexthash="70676918" _msthash="675">允许对后端服务器进行透明维护</strong></p>
<p dir="auto" _msttexthash="245224837" _msthash="676">您对在反向代理后面运行的服务器所做的更改对最终用户是完全透明的。</p>
<p dir="auto"><strong _msttexthash="14260610" _msthash="677">负载均衡</strong></p>
<p dir="auto" _msttexthash="777795486" _msthash="678">然后，反向代理将强制执行负载均衡算法，如循环、加权循环、最少连接、加权最少连接或随机，以在集群中的服务器之间分配负载。</p>
<p dir="auto" _msttexthash="534636258" _msthash="679">当一台服务器出现故障时，系统将自动故障转移到另一台服务器，用户可以继续进行他们的安全文件传输活动。</p>
<p dir="auto"><strong _msttexthash="18551312" _msthash="680">SSL 卸载/终止</strong></p>
<p dir="auto" _msttexthash="231192286" _msthash="681">处理传入的 HTTPS 连接，解密请求并将未加密的请求传递到 Web 服务器。</p>
<p dir="auto"><strong _msttexthash="6993714" _msthash="682">IP 掩码</strong></p>
<p dir="auto" _msttexthash="142473864" _msthash="683">使用单个 IP 但使用不同的 URL 路由到不同的后端服务器。</p>
<p dir="auto" _msttexthash="28005783" _msthash="684">有用的资源：</p>
<ul dir="auto">
<li><a href="https://dzone.com/articles/benefits-reverse-proxy" rel="nofollow" _msttexthash="22178078" _msthash="685">反向代理的好处</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="134810286" _msthash="686">路由器和网关有什么区别？什么是默认网关？</b></summary><br>
<p dir="auto" _msttexthash="1683583707" _msthash="687"><strong _istranslated="1">路由器</strong>描述一般技术功能（第 3 层转发）或用于此目的的硬件设备，而网关描述本地网段的功能（提供与其他地方的连接）。您还可以声明 “<em _istranslated="1">you set up a router as gateway</em>”。另一个术语是跃点，它描述子网之间的转发。</p>
<p dir="auto" _msttexthash="478794004" _msthash="688">术语 <strong _istranslated="1">default gateway</strong> 用于表示 LAN 上的路由器，它负责作为 LAN 外部计算机流量的第一个联系点。</p>
<p dir="auto" _msttexthash="98279012" _msthash="689">这只是一个视角问题，设备是一样的。</p>
<p dir="auto" _msttexthash="28005783" _msthash="690">有用的资源：</p>
<ul dir="auto">
<li><a href="https://networkengineering.stackexchange.com/questions/51426/difference-between-router-and-gateway" rel="nofollow" _msttexthash="74132019" _msthash="691">路由器和网关的区别（原版）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="100690759" _msthash="692">解释以下每个 DNS 记录的功能：SOA、PTR、A、MX 和 CNAME。</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1050582065" _msthash="693"><strong _mstmutation="1" _istranslated="1">DNS 记录</strong>基本上是映射文件，告诉 DNS 服务器每个域与哪个 IP 地址相关联，以及如何处理发送到每个域的请求。几乎所有 DNS 记录配置中常用的一些 <strong _mstmutation="1" _istranslated="1">DNS 记录</strong>语法是 、 和 。</font><code>A</code><code>AAAA</code><code>CNAME</code><code>MX</code><code>PTR</code><code>NS</code><code>SOA</code><code>SRV</code><code>TXT</code><code>NAPTR</code></p>
<ul dir="auto">
<li _msttexthash="21439990" _msthash="694"><strong _istranslated="1">SOA</strong> - 权威的开始</li>
<li _msttexthash="23424193" _msthash="695"><strong _istranslated="1">A</strong> - 地址映射记录</li>
<li _msttexthash="35883601" _msthash="696"><strong _istranslated="1">AAAA</strong> - IP 版本 6 地址记录</li>
<li _msttexthash="36415574" _msthash="697"><strong _istranslated="1">CNAME</strong> - 规范名称记录</li>
<li _msttexthash="31242536" _msthash="698"><strong _istranslated="1">MX</strong> - 邮件交换器记录</li>
<li _msttexthash="31047666" _msthash="699"><strong _istranslated="1">NS</strong> - 名称服务器记录</li>
<li _msttexthash="42006523" _msthash="700"><strong _istranslated="1">PTR</strong> - 反向查找指针记录</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="701">有用的资源：</p>
<ul dir="auto">
<li><a href="https://en.wikipedia.org/wiki/List_of_DNS_record_types" rel="nofollow" _msttexthash="27555567" _msthash="702">DNS 记录类型列表</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="121041791" _msthash="703">为什么不能使用 MAC 地址代替 IPv4/6 进行联网？</b></summary><br>
<p dir="auto" _msttexthash="372417903" _msthash="704"><strong _istranslated="1">OSI</strong> 模型解释了为什么根据物理<strong _istranslated="1">的第 2 层</strong>机制进行路由（<strong _istranslated="1">第 3 层</strong>概念）的决策没有意义。</p>
<p dir="auto" _msttexthash="799607068" _msthash="705">现代网络分为许多不同的层，以完成您的端到端通信。您的网卡（由 mac 地址寻址 - 物理地址）只需要负责与其物理网络上的对等体通信。</p>
<p dir="auto" _msttexthash="2494885536" _msthash="706">允许您使用 <strong _istranslated="1">MAC</strong> 地址完成的通信将仅限于驻留在与您的计算机物理接触中的其他设备。例如，在 Internet 上，您没有物理连接到每台计算机。这就是为什么当我们需要与没有物理连接的机器通信时，我们使用 <strong _istranslated="1">TCP/IP</strong>（<strong _istranslated="1">第 3 层</strong>，逻辑地址）机制的原因。</p>
<p dir="auto" _msttexthash="1927496623" _msthash="707"><strong _istranslated="1">IP</strong> 是一种以分层方式施加在一组计算机上的任意编号方案，用于在逻辑上将它们区分为一个组（这就是子网）。在这些组之间发送消息是通过路由表完成的，路由表本身分为多个级别，因此我们不必跟踪每个子网。</p>
<p dir="auto" _msttexthash="1907442511" _msthash="708">也很容易将其与另一对系统联系起来。您有一个州颁发的 ID 号，如果该 ID 号已经对您是唯一的，为什么还需要一个邮寄地址呢？您需要邮寄地址，因为它是一个任意系统，用于描述与您通信的唯一目的地应该去哪里。</p>
<p dir="auto" _msttexthash="1846454259" _msthash="709">另一方面，<strong _istranslated="1">MAC</strong> 地址在网络上的分布是随机的，与拓扑完全无关。路由分组是不可能的，每个路由器都需要跟踪通过其中继流量的每个设备的路由。这就是<strong _istranslated="1">第 2 层</strong>交换机的作用，它不会扩展到超过一定数量的主机。</p>
<p dir="auto" _msttexthash="28005783" _msthash="710">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/410626/why-couldnt-mac-addresses-be-used-instead-of-ipv46-for-networking" rel="nofollow" _msttexthash="198604744" _msthash="711">为什么不能使用 MAC 地址代替 IPv4|6 进行联网？（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="205785827" _msthash="712">可应用于最多包含 30 台设备的网络的最小 IPv4 子网掩码是多少？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="979094428" _msthash="713">无论您有用于最终用户的标准 VLAN、用于点对点链路的 VLAN，还是介于两者之间的 VLAN，并且必须包含多达 30 个设备的子网，都可以称为 - 或子网掩码。</font><code>/24</code><code>/30</code><code>/27</code><code>255.255.255.224</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="714">有用的资源：</p>
<ul dir="auto">
<li><a href="https://networkengineering.stackexchange.com/questions/7106/how-do-you-calculate-the-prefix-network-subnet-and-host-numbers" rel="nofollow" _msttexthash="93710786" _msthash="715">如何计算前缀、网络、子网和主机号？</a></li>
<li><a href="https://networkengineering.stackexchange.com/questions/3697/the-slash-after-an-ip-address-cidr-notation" rel="nofollow" _msttexthash="48147411" _msthash="716">IP 地址后的斜杠 - CIDR 表示法</a></li>
<li><a href="https://networkengineering.stackexchange.com/questions/32119/why-are-there-3-ranges-of-private-ipv4-addresses" rel="nofollow" _msttexthash="70160818" _msthash="717">为什么私有 IPv4 地址有 3 个范围？</a></li>
<li><a href="http://jodies.de/ipcalc" rel="nofollow" _msttexthash="11473358" _msthash="718">IP 计算器</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="63033893" _msthash="719">有哪些常见的 HTTP 状态代码？</b></summary><br>
<ul dir="auto">
<li _msttexthash="86333143" _msthash="720"><strong _istranslated="1">1xx</strong> - 信息响应 - 传达传输协议级别信息</li>
<li _msttexthash="100205092" _msthash="721"><strong _istranslated="1">2xx</strong> - 成功 - 表示已成功接受客户端的请求</li>
<li _msttexthash="207539072" _msthash="722"><strong _istranslated="1">3xx</strong> — 重定向 — 表示客户端必须采取一些其他操作才能完成其请求</li>
<li _msttexthash="165274642" _msthash="723"><strong _istranslated="1">4xx</strong> - 客户端错误 - 此类错误状态代码将矛头指向客户端</li>
<li _msttexthash="149475261" _msthash="724"><strong _istranslated="1">5xx</strong> - 服务器端错误 - 服务器负责这些错误状态代码</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="725">有用的资源：</p>
<ul dir="auto">
<li><a href="https://httpstatuses.com/" rel="nofollow" _msttexthash="17073043" _msthash="726">HTTP 状态代码</a></li>
</ul>
</details>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="40846143" _msthash="727">Devops 问题 （5）</h6><a id="user-content-devops-questions-5" class="anchor" aria-label="永久链接： Devops 问题 （5）" href="#devops-questions-5" _mstaria-label="706784" _msthash="728"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="549084575" _msthash="729">什么是 DevOps？对于任何 DevOps 社区的成功来说，哪个更重要：人们如何沟通或您选择部署的工具？***</b></summary><br>
<p dir="auto" _msttexthash="962847340" _msthash="730"><strong _istranslated="1">DevOps</strong> 是一个有凝聚力的团队，同时参与开发和运营任务，或者是各个运营和开发团队密切合作。它更像是一种与其他部门合作以实现共同目标的 “方式”。</p>
</details>
<details>
<summary><b _msttexthash="107866746" _msthash="731">什么是版本控制？你的提交信息好看吗？</b></summary><br>
<p dir="auto" _msttexthash="1836095027" _msthash="732">它是一个系统，用于记录文件或文件集随时间的变化，以便您以后可以调用特定版本。版本控制系统由一个中央共享存储库组成，团队成员可以在其中提交对一个文件或一组文件的更改。然后，您可以提及版本控制的用途。</p>
<p dir="auto" _msttexthash="35751690" _msthash="733">版本控制允许您：</p>
<ul dir="auto">
<li _msttexthash="41665507" _msthash="734">将文件恢复到以前的状态</li>
<li _msttexthash="56113291" _msthash="735">将整个项目恢复到以前的状态</li>
<li _msttexthash="31956691" _msthash="736">比较随时间的变化</li>
<li _msttexthash="92488292" _msthash="737">查看谁上次修改了可能导致问题的内容</li>
<li _msttexthash="36082969" _msthash="738">谁在何时引入了问题</li>
</ul>
<p dir="auto" _msttexthash="67443194" _msthash="739">出色的提交消息的七条规则：</p>
<ul dir="auto">
<li _msttexthash="45283706" _msthash="740">用空行将主题与正文分开</li>
<li _msttexthash="42229057" _msthash="741">将主题行限制为 50 个字符</li>
<li _msttexthash="19855407" _msthash="742">将主题行大写</li>
<li _msttexthash="42817814" _msthash="743">不要以句点结束主题行</li>
<li _msttexthash="47509488" _msthash="744">在主题行中使用祈使语气</li>
<li _msttexthash="35216116" _msthash="745">将正文换行为 72 个字符</li>
<li _msttexthash="68650829" _msthash="746">使用正文来解释什么、为什么与如何</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="747">有用的资源：</p>
<ul dir="auto">
<li><a href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control" rel="nofollow" _msttexthash="84860490" _msthash="748">入门 - 关于版本控制（原始版本）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="37119173" _msthash="749">解释一些基本的 <code _istranslated="1">git</code> 命令。</b></summary><br>
<ul dir="auto">
<li><code>git init</code><font _mstmutation="1" _msttexthash="29043664" _msthash="750">- 创建新的本地仓库</font></li>
<li><code>git commit -m "message"</code><font _mstmutation="1" _msttexthash="19337656" _msthash="751">- 将更改提交到 head</font></li>
<li><code>git status</code><font _mstmutation="1" _msttexthash="161770713" _msthash="752">- 列出您添加的文件，并提交您从那时起更改的任何文件</font><code>git add</code></li>
<li><code>git push origin master</code><font _mstmutation="1" _msttexthash="66486069" _msthash="753">- 将更改发送到远程仓库的 master 分支</font></li>
</ul>
</details>
<details>
<summary><b _msttexthash="63311547" _msthash="754">解释一个简单的 Continuous Integration 管道。</b></summary><br>
<ul dir="auto">
<li _msttexthash="14783678" _msthash="755">克隆存储库</li>
<li _msttexthash="36094851" _msthash="756">部署阶段 （QA）</li>
<li _msttexthash="33922005" _msthash="757">测试环境 （QA）</li>
<li _msttexthash="37822720" _msthash="758">部署阶段 （PROD）</li>
</ul>
</details>
<details>
<summary><b _msttexthash="39302185" _msthash="759">解释一些基本的 <code _istranslated="1">docker</code> 命令。</b></summary><br>
<ul dir="auto">
<li><code>docker ps</code><font _mstmutation="1" _msttexthash="39463294" _msthash="760">- 显示正在运行的容器</font></li>
<li><code>docker ps -a</code><font _mstmutation="1" _msttexthash="20800156" _msthash="761">- 显示所有容器</font></li>
<li><code>docker images</code><font _mstmutation="1" _msttexthash="18980936" _msthash="762">- 显示 Docker 镜像</font></li>
<li><code>docker logs &lt;container-id|container-name&gt;</code><font _mstmutation="1" _msttexthash="24768692" _msthash="763">- 从容器获取日志</font></li>
<li><code>docker network ls</code><font _mstmutation="1" _msttexthash="29161626" _msthash="764">- 显示所有 Docker 网络</font></li>
<li><code>docker volumes ls</code><font _mstmutation="1" _msttexthash="18513170" _msthash="765">- 显示所有 Docker 卷</font></li>
<li><code>docker exec -it &lt;container-id|container-name&gt; bash</code><font _mstmutation="1" _msttexthash="62312913" _msthash="766">- 在具有交互式 shell 的容器中执行 BASH</font></li>
</ul>
</details>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="47150883" _msthash="767">网络安全问题 （1）</h6><a id="user-content-cyber-security-questions-1" class="anchor" aria-label="永久链接：网络安全问题 （1）" href="#cyber-security-questions-1" _mstaria-label="1055912" _msthash="768"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="51838514" _msthash="769">什么是安全配置错误？</b></summary><br>
<p dir="auto" _msttexthash="1097623358" _msthash="770"><strong _istranslated="1">安全配置错误</strong>是指设备/应用程序/网络的配置方式可被攻击者利用时出现的漏洞。这可以像保持默认用户名/密码不变一样简单，或者对于设备帐户等来说太简单了。</p>
</details>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto" _msttexthash="42925181" _msthash="771">💠 <a name="user-content-regular-sysadmin" _istranslated="1">常规系统管理员</a></h3><a id="user-content-diamond_shape_with_a_dot_inside-regular-sysadmin" class="anchor" aria-label="永久链接： :d iamond_shape_with_a_dot_inside： 常规系统管理员" href="#diamond_shape_with_a_dot_inside-regular-sysadmin" _mstaria-label="2747121" _msthash="772"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="37093693" _msthash="773">系统问题 （60）</h6><a id="user-content-system-questions-60" class="anchor" aria-label="永久链接：系统问题 （60）" href="#system-questions-60" _mstaria-label="732797" _msthash="774"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="80732353" _msthash="775">请谈谈您在生产环境中的经验？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="776">待完成。</p>
</details>
<details>
<summary><b _msttexthash="127201867" _msthash="777">您会选择哪种发行版来运行主要的 Web 服务器？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="778">待完成。</p>
</details>
<details>
<summary><b _msttexthash="82780685" _msthash="779">用几点来解释 Linux 系统的启动过程。</b></summary><br>
<p dir="auto" _msttexthash="635685011" _msthash="780"><strong _istranslated="1">BIOS：</strong>BIOS 的完整形式是基本输入或输出系统，它执行完整性检查，它将搜索和加载，然后执行引导加载程序。</p>
<p dir="auto" _msttexthash="3371085289" _msthash="781"><strong _istranslated="1">引导加载程序</strong>：由于早期阶段并非特定于操作系统，因此 x86 和 x86-64 架构的基于 BIOS 的引导过程被视为在实际模式下执行主引导记录 （MBR） 代码并加载第一阶段引导加载程序时启动。在 UEFI 系统中，可以直接执行有效负载，例如 Linux 内核。因此不需要 boot loader。一些流行的引导加载程序：<strong _istranslated="1">GRUB</strong>、<strong _istranslated="1">Syslinux/Isolinux</strong> 或 <strong _istranslated="1">Lilo</strong>。</p>
<p dir="auto" _msttexthash="2442707267" _msthash="782"><strong _istranslated="1">内核</strong>：Linux 中的内核处理所有操作系统进程，例如内存管理、任务调度、I/O、进程间通信和整体系统控制。这分两个阶段加载 - 在第一阶段，内核（作为压缩的图像文件）被加载到内存中并解压缩，并设置一些基本功能，例如基本内存管理。</p>
<p dir="auto" _msttexthash="317018962" _msthash="783"><strong _istranslated="1">Init</strong>：是系统上所有进程的父进程，它由内核执行并负责启动所有其他进程。</p>
<ul dir="auto">
<li><code>SysV init</code><font _mstmutation="1" _msttexthash="1740981593" _msthash="784">- Init 的工作是“在内核完全运行后，让一切按照应有的方式运行。从本质上讲，它建立和运营整个用户空间。这包括检查和挂载文件系统、启动必要的用户服务，以及最终在系统启动完成后切换到用户环境。</font></li>
<li><code>systemd</code><font _mstmutation="1" _msttexthash="3252329587" _msthash="785">- systemd 的开发人员旨在替换从 Unix System V 继承的 Linux init 系统。与 init 一样，systemd 是管理其他守护进程的守护进程。所有守护进程（包括 systemd）都是后台进程。systemd 是第一个启动的守护进程（在引导期间）和最后一个终止的守护进程（在关闭期间）。</font></li>
<li><code>runinit</code><font _mstmutation="1" _msttexthash="1379123044" _msthash="786">- runinit 是一种用于类 Unix 操作系统的 init 方案，用于初始化、监督和结束整个操作系统中的进程。它是在 Linux、Mac OS X、*BSD 和 Solaris 操作系统上运行的 daemontools 进程监督工具包的重新实现。</font></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="787">有用的资源：</p>
<ul dir="auto">
<li><a href="https://opensource.com/article/18/1/analyzing-linux-boot-process" rel="nofollow" _msttexthash="28327351" _msthash="788">分析 Linux 引导过程</a></li>
<li><a href="https://linoxide.com/linux-how-to/systemd-boot-process/" rel="nofollow" _msttexthash="73760154" _msthash="789">systemd 引导过程在 Linux 中仔细观察</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="422097858" _msthash="790">Linux 守护程序如何以及为何丢弃权限？为什么有些守护进程需要 root 权限才能启动？解释。***</b></summary>
<p dir="auto" _msttexthash="9197435" _msthash="791">待完成。</p>
</details>
<details>
<summary><b _msttexthash="116066028" _msthash="792">为什么 1.00 的负载在单核机器上并不理想？</b></summary><br>
<p dir="auto" _msttexthash="316649242" _msthash="793">负载 1.00 的问题在于您没有余量。在实践中，许多系统管理员会在 0.70 处划一条线。</p>
<p dir="auto" _msttexthash="566047768" _msthash="794">“需要调查”的经验法则：0.70 如果您的平均负载保持在 &gt; 0.70 以上，那么是时候在情况变得更糟之前进行调查了。</p>
<p dir="auto" _msttexthash="822502421" _msthash="795">“立即修复”经验法则：1.00。如果您的平均负载保持在 1.00 以上，请找到问题并立即修复。否则，你会在半夜被吵醒，这不会很有趣。</p>
<p dir="auto" _msttexthash="1945039460" _msthash="796">经验法则：5.0。如果您的负载平均值高于 5.00，则可能会遇到严重问题，您的盒子要么挂起，要么速度变慢，这将（莫名其妙地）发生在最糟糕的时间，例如半夜或当您在会议上演讲时。不要让它到达那里。</p>
<p dir="auto" _msttexthash="28005783" _msthash="797">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/618130/proper-way-of-interpreting-system-load-on-a-4-core-8-thread-processor" rel="nofollow" _msttexthash="129938237" _msthash="798">解释 4 核 8 线程处理器上的系统负载的正确方法</a></li>
<li><a href="http://blog.scoutapp.com/articles/2009/07/31/understanding-load-averages" rel="nofollow" _msttexthash="106639715" _msthash="799">了解 Linux CPU 负载 - 什么时候应该担心？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="238476199" _msthash="800">有效用户是 root，但真实用户 ID 还是你的名字，这是什么意思？</b></summary><br>
<p dir="auto" _msttexthash="1070388878" _msthash="801"><strong _istranslated="1">真实用户 ID</strong> 是您的实际身份（拥有进程的用户），<strong _istranslated="1">而有效用户 ID</strong> 是操作系统在决定是否允许您执行某项操作时查看的内容（大多数情况下，有一些例外）。</p>
<p dir="auto" _msttexthash="499288049" _msthash="802">登录时，登录 shell 会将<strong _istranslated="1">真实用户 ID 和有效用户 ID</strong> 设置为与密码文件提供的值（您的<strong _istranslated="1">真实用户 ID</strong>）相同。</p>
<p dir="auto" _msttexthash="572138151" _msthash="803">例如，如果你执行 setuid，除了以另一个用户（例如 <strong _istranslated="1">root</strong>）身份运行之外，setuid 程序还应该代表你做一些事情。</p>
<p dir="auto" _msttexthash="653822585" _msthash="804">执行 setuid 后，它将拥有您的<strong _istranslated="1">真实 ID</strong>（因为您是流程所有者）和文件所有者的有效用户 ID（例如 <strong _istranslated="1">root</strong>），因为它是 setuid。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="44892601" _msthash="805">让我们使用以下示例：</font><code>passwd</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>-rwsr-xr-x 1 root root 45396 may 25  2012 /usr/bin/passwd</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="-rwsr-xr-x 1 root root 45396 may 25  2012 /usr/bin/passwd" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="92891188" _msthash="806">当用户 2 想要更改其密码时，他们执行 .</font><code>/usr/bin/passwd</code></p>
<p dir="auto" _msttexthash="86124870" _msthash="807"><strong _istranslated="1">RUID</strong> 将为 user2，但该进程的 <strong _istranslated="1">EUID</strong> 将为 root。</p>
<p dir="auto" _msttexthash="717683018" _msthash="808">user2 只能使用 passwd 来更改自己的密码，因为 passwd 内部会检查 <strong _istranslated="1">RUID</strong>，如果它不是 root，则其操作将仅限于真实用户的密码。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="242205535" _msthash="809">在 passwd 的情况下，<strong _mstmutation="1" _istranslated="1">EUID</strong> 必须成为 root，因为该进程需要写入 and/或 。</font><code>/etc/passwd</code><code>/etc/shadow</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="810">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/30493424/what-is-the-difference-between-a-process-pid-ppid-uid-euid-gid-and-egid" rel="nofollow" _msttexthash="231235329" _msthash="811">真实 User ID、有效 User ID 和保存的 User ID 有什么区别？（原文）</a></li>
<li><a href="https://stackoverflow.com/questions/30493424/what-is-the-difference-between-a-process-pid-ppid-uid-euid-gid-and-egid" rel="nofollow" _msttexthash="100996766" _msthash="812">pid、ppid、uid、euid、gid 和 egid 有什么区别？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="324933544" _msthash="813">开发者添加了 cron job，它会生成大量的日志文件。你如何防止它们变得这么大？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="877699030" _msthash="814">使用 是处理日志文件的常用方法。但是，与其添加内容，不如将自己的作业添加到 ，否则在版本升级期间，您将不得不查看配置文件的更多差异。</font><code>logrotate</code><code>/etc/logrotate.conf</code><code>/etc/logrotate.d/</code></p>
<p dir="auto" _msttexthash="450198164" _msthash="815">如果它正在积极地写入，那么你真的没有太多可以通过截断的方式来做。您唯一的选择是截断文件：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">:</span> <span class="pl-k">&gt;</span>/var/log/massive-logfile</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value=": >/var/log/massive-logfile" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="165306219" _msthash="816">这非常有用，因为它可以在不中断进程的情况下截断文件。</p>
<p dir="auto" _msttexthash="28005783" _msthash="817">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.linode.com/docs/uptime/logs/use-logrotate-to-manage-log-files/" rel="nofollow" _msttexthash="56479956" _msthash="818">如何使用 logrotate 管理日志文件</a></li>
<li><a href="https://www.ibm.com/developerworks/library/l-lpic1-108-2/index.html" rel="nofollow" _msttexthash="21451716" _msthash="819">系统日志记录</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="156211328" _msthash="820">Linux 内核如何创建、管理和删除系统中的进程？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="821">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="822">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.tldp.org/LDP/tlk/kernel/processes.html" rel="nofollow" _msttexthash="11088155" _msthash="823">Linux 进程</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="528706165" _msthash="824">说明您可以在 <code _istranslated="1">top</code> 和 <code _istranslated="1">htop</code> 中看到的所选信息。如何使用这些工具诊断负载、高用户时间和内存不足问题？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="825">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="826">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.svennd.be/top-explained-visually/" rel="nofollow" _msttexthash="20851064" _msthash="827">top 直观解释</a></li>
<li><a href="https://codeahoy.com/2017/01/20/hhtop-explained-visually/" rel="nofollow" _msttexthash="22663342" _msthash="828">htop 直观解释</a></li>
<li><a href="https://peteris.rocks/blog/htop/" rel="nofollow" _msttexthash="142726116" _msthash="829">在 Linux 上的 htop/top 中可以看到的所有内容的解释</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="73062184" _msthash="830">您如何识别占用资源的进程？</b></summary><br>
<p dir="auto"><code>top</code><font _mstmutation="1" _msttexthash="81845140" _msthash="831">只要你看对的数字，效果就相当好。</font></p>
<ul dir="auto">
<li _msttexthash="59528248" _msthash="832"><strong _istranslated="1">M</strong> 按当前驻留内存使用情况排序</li>
<li _msttexthash="73552206" _msthash="833"><strong _istranslated="1">T</strong> 按总（或累积）CPU 使用率排序</li>
<li _msttexthash="127531534" _msthash="834"><strong _istranslated="1">P</strong> 按当前 CPU 使用率排序（这是默认刷新）</li>
<li _msttexthash="76712194" _msthash="835"><strong _istranslated="1">？</strong>显示所有 top 命令的使用情况摘要</li>
</ul>
<p dir="auto" _msttexthash="459743427" _msthash="836">在解决计算机进程运行缓慢的原因并决定要杀死哪些进程/卸载哪些软件时，这是非常重要的信息。</p>
<p dir="auto" _msttexthash="28005783" _msthash="837">有用的资源：</p>
<ul dir="auto">
<li><a href="https://superuser.com/questions/326300/how-to-find-the-processes-which-are-hogging-the-machine" rel="nofollow" _msttexthash="46586345" _msthash="838">如何找到占用机器的进程</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="345817316" _msthash="839">您需要升级 200 台服务器的 <code _istranslated="1">ntpd</code> 服务。将所有这些升级到最新版本的最佳方法是什么？</b></summary><br>
<p dir="auto" _msttexthash="177196240" _msthash="840">通过使用 <strong _istranslated="1">Infrastructure as a Code</strong> 方法，有多种好方法：</p>
<ol dir="auto">
<li _msttexthash="55196479" _msthash="841"><strong _istranslated="1">配置同步变更管理模型</strong>：</li>
</ol>
<p dir="auto"><font _mstmutation="1" _msttexthash="4085795519" _msthash="842">有配置管理工具（Ansible、Chef、Puppet、Saltstack 等），可用于自动更新所有服务器上的服务。为了保持系统稳定，服务器上的系统软件包通常只自动更新安全更新。软件包的主要版本或次要版本通常在配置定义中进行版本锁定，以防止服务配置错误。然后，通过在配置定义中更改版本来部署更改。</font><code>ntpd</code><code>ntpd</code></p>
<p dir="auto" _msttexthash="2670068284" _msthash="843">使用这种方法，在将更改大规模部署到基础设施中时要小心。部署管道应包括 Unit、Integration 和 System 测试，并最终首先部署到 Staging 环境中以证明配置。如果测试证明配置正确性，则应通过增量推出来完成部署，并能够在出现错误或失败时回滚。</p>
<ol start="2" dir="auto">
<li _msttexthash="37874369" _msthash="844"><strong _istranslated="1">不可变服务器模型</strong>：</li>
</ol>
<p dir="auto" _msttexthash="4522777194" _msthash="845">在不可变服务器模型中，整个单元（服务器、容器）被新的更新镜像替换，而不是对正在运行的服务器进行更改（这消除了配置漂移）。使用这种方法，您通常使用 Packer 或 Docker 等工具通过 Dockerfile 构建服务器映像。然后，与上面的选项 （1.） 类似地测试和部署此映像，但现在使用 Canary Release 等技术，该技术也具有增量推出和回滚的能力。</p>
<p dir="auto" _msttexthash="28005783" _msthash="846">有用的资源：</p>
<ul dir="auto">
<li><a href="http://shop.oreilly.com/product/0636920039297.do" rel="nofollow" _msttexthash="139061988" _msthash="847">基础结构即代码 - 第 8 章：更新和更改服务器的模式</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="249545764" _msthash="848">如何在 Linux/Unix 上永久设置 <code _istranslated="1">$PATH</code>？为什么这个变量如此重要？***</b></summary>
<p dir="auto" _msttexthash="9197435" _msthash="849">待完成。</p>
</details>
<details>
<summary><b _msttexthash="362150581" _msthash="850">当您的服务器启动时，控制台上会出现一些错误。如何检查启动消息以及它们存储在哪里？</b></summary><br>
<p dir="auto" _msttexthash="74590347" _msthash="851">您的控制台有两种类型的消息：</p>
<ul dir="auto">
<li _msttexthash="56602767" _msthash="852"><strong _istranslated="1">由内核生成</strong>（通过 printk）</li>
<li _msttexthash="123219642" _msthash="853"><strong _istranslated="1">由 userspace 生成</strong>（通常是您的 init 系统）</li>
</ul>
<p dir="auto"><font _mstmutation="1" _msttexthash="973504207" _msthash="854">内核消息始终存储在 <strong _mstmutation="1" _istranslated="1">kmsg</strong> 缓冲区中，可通过 command 查看。它们也经常被复制到您的 <strong _mstmutation="1" _istranslated="1">syslog</strong> 中。这也适用于写入 的用户空间消息，但这种情况相当罕见。</font><code>dmesg</code><code>/dev/kmsg</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="532633478" _msthash="855">同时，当用户空间将其花哨的启动状态文本写入 或 时，它根本不会存储在任何地方。它只是在屏幕上，就是这样。</font><code>/dev/console</code><code>/dev/tty1</code></p>
<p dir="auto"><code>dmesg</code><font _mstmutation="1" _msttexthash="662479038" _msthash="856">用于查看内核环缓冲区中包含的引导消息。环形缓冲区是固定大小的缓冲区，添加到其中的任何新数据都会覆盖其中最早的数据。</font></p>
<p dir="auto" _msttexthash="1517128678" _msthash="857">它显示引导过程完成后的操作，例如传递给内核的命令行选项;检测到的硬件组件、添加新 USB 设备时的事件或 NIC（网络接口卡）故障等错误，驱动程序报告在网络上未检测到链接活动等等。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="605844811" _msthash="858">如果系统日志记录是通过 journal 组件完成的，则应使用 。它显示的消息包括内核和引导消息;来自 syslog 或各种服务的消息。</font><code>journalctl</code></p>
<p dir="auto" _msttexthash="507879268" _msthash="859">引导问题/错误要求系统管理员结合特定命令（不同版本的 Linux 处理方式不同）来查看某些重要文件：</p>
<ul dir="auto">
<li><code>/var/log/boot.log</code><font _mstmutation="1" _msttexthash="153714379" _msthash="860">- 系统启动日志，它包含系统启动期间展开的所有内容</font></li>
<li><code>/var/log/messages</code><font _mstmutation="1" _msttexthash="153725650" _msthash="861">- 存储全局系统消息，包括系统启动期间记录的消息</font></li>
<li><code>/var/log/dmesg</code><font _mstmutation="1" _msttexthash="39051532" _msthash="862">- 包含内核环缓冲区信息</font></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="863">有用的资源：</p>
<ul dir="auto">
<li><a href="https://superuser.com/questions/1188407/how-to-view-all-boot-messages-in-linux-after-booting" rel="nofollow" _msttexthash="171443909" _msthash="864">启动后如何在 Linux 中查看所有启动消息？（原文）</a></li>
<li><a href="https://superuser.com/questions/565927/differences-in-var-log-syslog-dmesg-messages-log-files" rel="nofollow" _msttexthash="153085543" _msthash="865">/var/log/{syslog，dmesg，messages} 日志文件中的差异</a></li>
<li><a href="https://serverfault.com/questions/516411/all-debian-boot-messages" rel="nofollow" _msttexthash="141580777" _msthash="866">以后如何查看启动 Debian 系统时滚动显示的信息？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="253040073" _msthash="867">交换使用率过高。造成这种情况的原因是什么以及如何解决交换问题？</b></summary><br>
<p dir="auto" _msttexthash="627765580" _msthash="868"><strong _istranslated="1">交换</strong>空间是当可用内存已充分利用时分配给操作系统使用的物理内存的有限量。内存管理涉及在物理存储之间交换内存部分。</p>
<p dir="auto" _msttexthash="1931325448" _msthash="869">如果系统需要更多内存资源并且 RAM 已满，则内存中的非活动页将移动到交换空间。虽然交换空间可以帮助具有少量 RAM 的计算机，但不应将其视为更多 RAM 的替代品。<strong _istranslated="1">交换</strong>空间位于硬盘驱动器上，其访问时间比物理内存慢。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2667689843" _msthash="870">工作负载会增加您的 RAM 需求。您正在运行需要更多内存的工作负载。使用整个 swap 表明了这一点。此外，更改为 <strong _mstmutation="1" _istranslated="1">1</strong> 可能不是一个明智的决定。设置为 <strong _mstmutation="1" _istranslated="1">1</strong> 并不表示不会进行交换。它只是表明内核在交换方面会有多激进，它并没有消除交换。如果需要，将进行交换。</font><code>swappiness</code><code>swappiness</code></p>
<ul dir="auto">
<li>
<p dir="auto" _msttexthash="1421359030" _msthash="871"><strong _istranslated="1">增加交换空间的大小</strong> - 首先，您将增加磁盘使用。如果您的磁盘速度不够快，无法跟上，那么您的系统最终可能会抖动，并且当数据换入和换出内存时，您的速度会变慢。这将导致瓶颈。</p>
</li>
<li>
<p dir="auto" _msttexthash="590713188" _msthash="872"><strong _istranslated="1">添加更多 RAM</strong> - 真正的解决方案是添加更多内存。RAM 是无可替代的，如果您有足够的内存，您的交换空间就会更少。</p>
</li>
</ul>
<p dir="auto" _msttexthash="61594975" _msthash="873">要监控交换空间使用情况：</p>
<ul dir="auto">
<li><code>cat /proc/swaps</code><font _mstmutation="1" _msttexthash="10980710" _msthash="874">- 查看 Total 和 Used Swap Size</font></li>
<li><code>grep SwapTotal /proc/meminfo</code><font _mstmutation="1" _msttexthash="28692989" _msthash="875">- 显示总交换空间</font></li>
<li><code>free</code><font _mstmutation="1" _msttexthash="119874170" _msthash="876">- 显示可用和已用系统内存量（也称为 SWAP）</font></li>
<li><code>vmstat</code><font _mstmutation="1" _msttexthash="31803486" _msthash="877">- 检查交换统计信息</font></li>
<li><code>top</code><font _mstmutation="1" _msttexthash="52250796" _msthash="878">， - 检查交换空间使用情况</font><code>htop</code></li>
<li><code>atop</code><font _mstmutation="1" _msttexthash="74806277" _msthash="879">- 表示您的系统正在超额使用内存</font></li>
<li _msttexthash="426877711" _msthash="880">或使用单行 shell 命令列出所有应用程序以及 Search 正在使用的交换空间量（以 KB 为单位）：</li>
</ul>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">for</span> <span class="pl-smi">_fd</span> <span class="pl-k">in</span> /proc/<span class="pl-k">*</span>/status <span class="pl-k">;</span> <span class="pl-k">do</span>
  awk <span class="pl-s"><span class="pl-pds">'</span>/VmSwap|Name/{printf $2 " " $3}END{ print ""}<span class="pl-pds">'</span></span> <span class="pl-smi">$_fd</span>
<span class="pl-k">done</span> <span class="pl-k">|</span> sort -k 2 -n -r <span class="pl-k">|</span> less</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="for _fd in /proc/*/status ; do
  awk '/VmSwap|Name/{printf $2 &quot; &quot; $3}END{ print &quot;&quot;}' $_fd
done | sort -k 2 -n -r | less" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="881">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.linuxatemyram.com/" rel="nofollow" _msttexthash="42085186" _msthash="882">Linux 吃了我的内存！</a></li>
<li><a href="https://stackoverflow.com/questions/479953/how-to-find-out-which-processes-are-using-swap-space-in-linux" rel="nofollow" _msttexthash="132891759" _msthash="883">如何找出哪些进程正在使用 Linux 中的交换空间？</a></li>
<li><a href="https://www.tecmint.com/commands-to-monitor-swap-space-usage-in-linux/" rel="nofollow" _msttexthash="121893863" _msthash="884">在 Linux 中监控交换空间使用情况的 8 个有用命令</a></li>
<li><a href="https://serverfault.com/questions/499301/what-is-the-danger-in-having-a-fully-used-swap-in-an-ubuntu-server" rel="nofollow" _msttexthash="148808816" _msthash="885">在 Ubuntu 服务器中拥有完全使用的 SWAP 有什么危险？</a></li>
<li><a href="https://askubuntu.com/questions/1357/how-to-empty-swap-if-there-is-free-ram" rel="nofollow" _msttexthash="84713109" _msthash="886">如果有空闲 RAM，如何清空交换？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="103079834" _msthash="887">什么是 umask？如何为用户永久设置？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1024414118" _msthash="888">在 Linux 和其他类似 Unix 的操作系统上，新文件是使用一组默认权限创建的。具体来说，可以通过应用称为 .该命令用于设置此掩码，或显示其当前值。</font><code>umask</code><code>umask</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="67674334" _msthash="889">永久更改 （设置例如 ）：</font><code>umask 02</code></p>
<ul dir="auto">
<li><code>~/.profile</code></li>
<li><code>~/.bashrc</code></li>
<li><code>~/.zshrc</code></li>
<li><code>~/.cshrc</code></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="890">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.cyberciti.biz/tips/understanding-linux-unix-umask-value-usage.html" rel="nofollow" _msttexthash="119200692" _msthash="891">什么是 umask 以及如何在 Linux 下设置默认 umask？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="107798834" _msthash="892">说明以下 umask 值之间的差异：000、002、022、027、077 和 277。</b></summary><br>
<markdown-accessiblity-table data-catalyst=""><table>
  <tbody><tr>
    <th _msttexthash="8980959" _msthash="893">乌马斯</th>
    <th _msttexthash="11714196" _msthash="894">文件结果</th>
    <th _msttexthash="12555465" _msthash="895">目录结果</th>
  </tr>
  <tr>
    <td _msttexthash="14976" _msthash="896">000</td>
    <td _msttexthash="132249" _msthash="897">666 RW- RW- RW-</td>
    <td _msttexthash="210132" _msthash="898">777 rwx rwx rwx</td>
  </tr>
 <tr>
    <td _msttexthash="15210" _msthash="899">002</td>
    <td _msttexthash="149357" _msthash="900">664 rw- rw- r--</td>
    <td _msttexthash="193544" _msthash="901">775 rwx rwx r-x</td>
  </tr>
  <tr>
    <td _msttexthash="15418" _msthash="902">022</td>
    <td _msttexthash="135681" _msthash="903">644 rw- r-- r--</td>
    <td _msttexthash="179868" _msthash="904">755 rwx r-x r-x</td>
  </tr>
<tr>
    <td _msttexthash="16003" _msthash="905">027</td>
    <td _msttexthash="106717" _msthash="906">640 RW- R-- ---</td>
    <td _msttexthash="122005" _msthash="907">750 RWX R-X ---</td>
  </tr>
<tr>
    <td _msttexthash="16523" _msthash="908">077</td>
    <td _msttexthash="100048" _msthash="909">600 RW---- ---</td>
    <td _msttexthash="106847" _msthash="910">700 RWX --- ---</td>
  </tr>
<tr>
    <td _msttexthash="16705" _msthash="911">277</td>
    <td _msttexthash="6810232" _msthash="912">400 卢比-- --- ---</td>
    <td _msttexthash="100659" _msthash="913">500 R-X --- ---</td>
  </tr>
</tbody></table></markdown-accessiblity-table>
<p dir="auto" _msttexthash="28005783" _msthash="914">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.cyberciti.biz/tips/understanding-linux-unix-umask-value-usage.html" rel="nofollow" _msttexthash="119200692" _msthash="915">什么是 umask 以及如何在 Linux 下设置默认 umask？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="72803770" _msthash="916">符号链接和硬链接有什么区别？</b></summary><br>
<p dir="auto" _msttexthash="211264001" _msthash="917">在文件系统文件下面，由 inode 表示（或者是多个 inode 不确定）</p>
<ul dir="auto">
<li _msttexthash="93463812" _msthash="918">文件系统中的文件基本上是指向 inode 的链接</li>
<li _msttexthash="214452459" _msthash="919">然后，硬链接只会创建另一个文件，其中包含指向同一底层 inode 的链接</li>
</ul>
<p dir="auto" _msttexthash="674515166" _msthash="920">删除文件时，它会删除一个指向底层 inode 的链接。仅当删除指向 inode 的所有链接时，才会删除 inode（或可删除/可重写）。</p>
<ul dir="auto">
<li _msttexthash="113334819" _msthash="921">符号链接是指向文件系统中另一个名称的链接</li>
</ul>
<p dir="auto" _msttexthash="1115015733" _msthash="922">建立硬链接后，该链接将指向 inode。删除、重命名或移动原始文件不会影响硬链接，因为它会链接到底层 inode。对 inode 上数据的任何更改都会反映在引用该 inode 的所有文件中。</p>
<p dir="auto" _msttexthash="457746237" _msthash="923">注意：硬链接仅在同一文件系统中有效。符号链接可以跨越文件系统，因为它们只是另一个文件的名称。</p>
<p dir="auto" _msttexthash="12358476" _msthash="924">差异：</p>
<ul dir="auto">
<li _msttexthash="120522025" _msthash="925">无法为目录创建<strong _istranslated="1">硬链接</strong>。只能为文件创建硬链接</li>
<li _msttexthash="149216002" _msthash="926"><strong _istranslated="1">软链接</strong>也称为符号链接或可以链接到目录的符号链接</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="927">有用的资源：</p>
<ul dir="auto">
<li><a href="https://medium.com/@wendymayorgasegura/what-is-the-difference-between-a-hard-link-and-a-symbolic-link-8c0493041b62" rel="nofollow" _msttexthash="72448207" _msthash="928">硬链接和符号链接有什么区别？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="127085660" _msthash="929">粘性钻头是如何工作的？<code _istranslated="1">SUID/GUID</code> 是一样的吗？</b></summary><br>
<p dir="auto" _msttexthash="378591681" _msthash="930">这可能是我最讨厌的事情之一，人们总是把事情搞砸。<strong _istranslated="1">SUID/GUID</strong> 位和<strong _istranslated="1">粘滞位</strong>是两个完全不同的东西。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="120593759" _msthash="931">如果你这样做，你可以阅读关于 <strong _mstmutation="1" _istranslated="1">SUID</strong> 和 <strong _mstmutation="1" _istranslated="1">sticky-bits</strong> 的信息。</font><code>man chmod</code></p>
<p dir="auto"><strong _msttexthash="92482" _msthash="932">SUID/GUID</strong></p>
<p dir="auto" _msttexthash="2814966908" _msthash="933">上面的手册页试图说明的是，对于用户八进制（rwx 的第一组）和八进制组（rwx 的第 2 组），x 位在 rwxrwxrwx 中的位置可以采用 x 变为 s 的额外状态。发生这种情况时，此文件在执行时（如果它是一个程序而不仅仅是一个 shell 脚本）将以文件所有者或组的权限运行。</p>
<p dir="auto" _msttexthash="743454504" _msthash="934">因此，如果文件归 root 所有并且 <strong _istranslated="1">SUID</strong> 位已打开，则程序将以 root 身份运行。即使您以普通用户的身份执行它。同样的事情也适用于 <strong _istranslated="1">GUID</strong> 位。</p>
<p dir="auto" _msttexthash="11924939" _msthash="935">例子：</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="44603832" _msthash="936"><strong _mstmutation="1" _istranslated="1">没有 suid/guid</strong> - 只设置了位。</font><code>rwxr-xr-x</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ls -lt b.pl
-rwxr-xr-x 1 root root 179 Jan  9 01:01 b.pl</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ls -lt b.pl
-rwxr-xr-x 1 root root 179 Jan  9 01:01 b.pl" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="149103734" _msthash="937"><strong _mstmutation="1" _istranslated="1">启用SUID和用户的可执行位（小写S）</strong> - 位已设置。</font><code>rwsr-x-r-x</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chmod u+s b.pl
ls -lt b.pl
-rwsr-xr-x 1 root root 179 Jan  9 01:01 b.pl</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chmod u+s b.pl
ls -lt b.pl
-rwsr-xr-x 1 root root 179 Jan  9 01:01 b.pl" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="141446006" _msthash="938"><strong _mstmutation="1" _istranslated="1">suid 启用且可执行位禁用（大写 S）</strong> - 位已设置。</font><code>rwSr-xr-x</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chmod u-x b.pl
ls -lt b.pl
-rwSr-xr-x 1 root root 179 Jan  9 01:01 b.pl</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chmod u-x b.pl
ls -lt b.pl
-rwSr-xr-x 1 root root 179 Jan  9 01:01 b.pl" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="170136499" _msthash="939"><strong _mstmutation="1" _istranslated="1">guid &amp; group的可执行位已启用（小写s）</strong> - 位已设置。</font><code>rwxr-sr-x</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chmod g+s b.pl
ls -lt b.pl
-rwxr-sr-x 1 root root 179 Jan  9 01:01 b.pl</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chmod g+s b.pl
ls -lt b.pl
-rwxr-sr-x 1 root root 179 Jan  9 01:01 b.pl" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="138509722" _msthash="940"><strong _mstmutation="1" _istranslated="1">启用GUID和禁用可执行位（大写S）</strong> - 位已设置。</font><code>rwxr-Sr-x</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chmod g-x b.pl
ls -lt b.pl
-rwxr-Sr-x 1 root root 179 Jan  9 01:01 b.pl</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chmod g-x b.pl
ls -lt b.pl
-rwxr-Sr-x 1 root root 179 Jan  9 01:01 b.pl" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="7837713" _msthash="941">粘性位</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="113693788" _msthash="942">另一方面，粘滞位表示为 ，例如目录：</font><code>t</code><code>/tmp</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ls -l /<span class="pl-k">|</span>grep tmp
drwxrwxrwt. 168 root root 28672 Jun 14 08:36 tmp</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ls -l /|grep tmp
drwxrwxrwt. 168 root root 28672 Jun 14 08:36 tmp" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="1180661001" _msthash="943">这个位应该一直被称为 <em _istranslated="1">restricted deletion bit</em>，因为这是它的真正含义。当启用此模式位时，它会创建一个目录，以便用户只能删除他们是其所有者的文件和目录。</p>
<p dir="auto" _msttexthash="28005783" _msthash="944">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/79395/how-does-the-sticky-bit-work" rel="nofollow" _msttexthash="97860776" _msthash="945">粘性钻头是如何工作的？（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="170781416" _msthash="946">命令前 <code _istranslated="1">LC_ALL=C</code> 有什么作用？在什么情况下它会有用？</b></summary><br>
<p dir="auto"><code>LC_ALL</code><font _mstmutation="1" _msttexthash="364058578" _msthash="947">是覆盖所有其他本地化设置的环境变量。这会一次将所有类型变量设置为指定的区域设置。</font><code>LC_</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="477815299" _msthash="948">设置 before command 的主要原因是可以简单地获得英文输出（通常更改命令使用的区域设置）。</font><code>LC_ALL=C</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="523569228" _msthash="949">另一方面，提高命令执行的速度也很重要，例如 或。使用区域设置提高了我们的性能并缩短了命令执行时间。</font><code>LC_ALL=C</code><code>grep</code><code>fgrep</code><code>LC_ALL=C</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="413525567" _msthash="950">例如，如果您设置系统从该目录打开了多个文件。对于最少的打开和读取操作，将执行这些操作。</font><code>LC_ALL=en_US.utf8</code><code>/usr/lib/locale</code><code>LC_ALL=C</code></p>
<p dir="auto" _msttexthash="157876537" _msthash="951">如果要恢复会话的所有正常（原始）区域设置：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>LC_ALL=</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="LC_ALL=" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="255820422" _msthash="952">如果不起作用，请尝试使用 （如果仍然不起作用，请尝试 ）：</font><code>LC_ALL</code><code>LANG</code><code>LANGUAGE</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>LANG=C date +%A
Monday</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="LANG=C date +%A
Monday" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="953">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/87745/what-does-lc-all-c-do" rel="nofollow" _msttexthash="95074642" _msthash="954">LC_ALL=C 有什么作用？（原文）</a></li>
<li><a href="https://www.inmotionhosting.com/support/website/ssh/speed-up-grep-searches-with-lc-all" rel="nofollow" _msttexthash="53438086" _msthash="955">使用 LC_ALL=C 加快 grep 搜索速度</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="90213487" _msthash="956">如何实现 Web 应用程序的高可用性？***</b></summary>
<p dir="auto" _msttexthash="9197435" _msthash="957">待完成。</p>
</details>
<details>
<summary><b _msttexthash="525368116" _msthash="958">您正在配置新服务器。其中一个步骤是设置应用程序目录的权限。您将采取哪些步骤以及要避免哪些错误？</b></summary><br>
<p dir="auto"><strong _msttexthash="52371007" _msthash="959">1） 主要要求 - 记住这一点</strong></p>
<ul dir="auto">
<li _msttexthash="85003737" _msthash="960">哪些用户有权访问应用程序文件系统</li>
<li _msttexthash="147809766" _msthash="961">web服务器的权限，例如Apache和应用服务器，例如uwsgi</li>
<li><font _mstmutation="1" _msttexthash="172972020" _msthash="962">特定目录（如 <strong _mstmutation="1" _istranslated="1">uploads</strong>、<strong _mstmutation="1" _istranslated="1">cache</strong>）和主应用程序目录（如</font><code>/var/www/app01/html</code></li>
<li><font _mstmutation="1" _msttexthash="156946127" _msthash="963">用户和 <strong _mstmutation="1" _istranslated="1">suid</strong>/<strong _mstmutation="1" _istranslated="1">sgid</strong> 的值正确（仅适用于特定情况）</font><code>umask</code></li>
<li _msttexthash="53548235" _msthash="964">所有未来文件和目录的权限</li>
<li _msttexthash="42052855" _msthash="965">cron 作业和脚本的权限</li>
</ul>
<p dir="auto"><strong _msttexthash="31357495" _msthash="966">2） 应用程序目录</strong></p>
<p dir="auto"><code>/var/www</code><font _mstmutation="1" _msttexthash="183866618" _msthash="967">包含每个网站的目录（应用程序的隔离），例如 ，</font><code>/var/www/app01</code><code>/var/www/app02</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>mkdir /var/www/{app01,app02}</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="mkdir /var/www/{app01,app02}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="48886383" _msthash="968">3） 应用程序所有者和组</strong></p>
<p dir="auto" _msttexthash="1059092008" _msthash="969">每个应用程序都有一个指定的<strong _istranslated="1">所有者</strong>（例如 <strong _istranslated="1">u01-prod</strong>、<strong _istranslated="1">u02-prod</strong>）和<strong _istranslated="1">组</strong>（例如 <strong _istranslated="1">g01-prod</strong>、<strong _istranslated="1">g02-prod</strong>），它们被设置为网站目录中所有文件和目录的所有者：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chown -R u01-prod:g01-prod /var/www/app01
chown -R u02-prod:g02-prod /var/www/app02</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chown -R u01-prod:g01-prod /var/www/app01
chown -R u02-prod:g02-prod /var/www/app02" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="49651368" _msthash="970">4） 开发者所有者和群组</strong></p>
<p dir="auto" _msttexthash="281990891" _msthash="971">维护网站的所有用户都有自己的组，并且这些组都附加到应用程序组：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>id alice
uid=2000(alice) gid=4000(alice) groups=8000(g01-prod)
id bob
uid=2001(bob) gid=4001(bob) groups=8000(g01-prod),8001(g02-prod)</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="id alice
uid=2000(alice) gid=4000(alice) groups=8000(g01-prod)
id bob
uid=2001(bob) gid=4001(bob) groups=8000(g01-prod),8001(g02-prod)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="239957926" _msthash="972">因此，<strong _mstmutation="1" _istranslated="1">alice</strong> 用户具有 和 的标准权限，<strong _mstmutation="1" _istranslated="1">而 bob</strong> 用户具有 和 的标准权限。</font><code>/var/www/app01</code><code>/var/www/app01</code><code>/var/www/app02</code></p>
<p dir="auto"><strong _msttexthash="49262564" _msthash="973">5） Web 服务器所有者和组</strong></p>
<p dir="auto" _msttexthash="1368350737" _msthash="974">任何需要由 Web 服务器写入的文件或目录都有其所有者。如果 Web 服务器是 Apache，则默认所有者/组是 <strong _istranslated="1">apache：apache</strong> 或 <strong _istranslated="1">www-data：www-data</strong>，对于 Nginx，它将是 <strong _istranslated="1">nginx：nginx</strong>。请勿更改这些设置。</p>
<p dir="auto" _msttexthash="1078582583" _msthash="975">如果应用程序与<strong _istranslated="1">像uwsgi</strong>或php这样的应用服务器一起工作，<strong _istranslated="1">那么fpm</strong>应该在特定的配置文件中设置适当的用户和组 （例如，对于<strong _istranslated="1">app01</strong>，它将是<strong _istranslated="1">u01-prod：g01-prod</strong>）。</p>
<p dir="auto"><strong _msttexthash="14890265" _msthash="976">6） 权限</strong></p>
<p dir="auto" _msttexthash="92660438" _msthash="977">使用<strong _istranslated="1">访问控制列表</strong>正确设置权限：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> For web server</span>
setfacl -Rdm <span class="pl-s"><span class="pl-pds">"</span>g:apache:rwx<span class="pl-pds">"</span></span> /var/www/app01
setfacl -Rm <span class="pl-s"><span class="pl-pds">"</span>g:apache:rwx<span class="pl-pds">"</span></span> /var/www/app01

<span class="pl-c"><span class="pl-c">#</span> For developers</span>
setfacl -Rdm <span class="pl-s"><span class="pl-pds">"</span>g:g01-prod:rwx<span class="pl-pds">"</span></span> /var/www/app01
setfacl -Rm <span class="pl-s"><span class="pl-pds">"</span>g:g01-prod:rwx<span class="pl-pds">"</span></span> /var/www/app01</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# For web server
setfacl -Rdm &quot;g:apache:rwx&quot; /var/www/app01
setfacl -Rm &quot;g:apache:rwx&quot; /var/www/app01

# For developers
setfacl -Rdm &quot;g:g01-prod:rwx&quot; /var/www/app01
setfacl -Rm &quot;g:g01-prod:rwx&quot; /var/www/app01" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="115469783" _msthash="978">如果您使用 <strong _istranslated="1">SELinux</strong>，请记住安全上下文：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chcon -R system_u:object_r:httpd_sys_content_t /var/www/app01</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chcon -R system_u:object_r:httpd_sys_content_t /var/www/app01" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="23292477" _msthash="979">7） 安全错误</strong></p>
<ul dir="auto">
<li _msttexthash="39091702" _msthash="980">文件和目录的 <strong _istranslated="1">root</strong> 所有者</li>
<li _msttexthash="251155892" _msthash="981"><strong _istranslated="1">root</strong> 从不执行 website 目录中的任何文件，也不应该在 root 目录中创建文件</li>
<li _msttexthash="247453986" _msthash="982">扩展到 <strong _istranslated="1">777</strong> 等广泛权限，因此一些关键文件可能是全局可写和全局可读的</li>
<li _msttexthash="120272204" _msthash="983">避免使用 suid root 创建维护脚本或其他关键文件</li>
</ul>
<p dir="auto" _msttexthash="405674685" _msthash="984">如果您允许您的站点修改构成运行站点的代码的文件，那么您会让某人更容易接管您的服务器。</p>
<p dir="auto" _msttexthash="2773939766" _msthash="985">文件上传工具允许用户上传具有任何名称和任何内容的文件。这允许用户将邮件中继 PHP 脚本上传到您的站点，他们可以将其放置在他们想要的任何位置，将您的服务器变成转发未经请求的商业电子邮件的机器。此脚本还可用于从数据库中读取每个电子邮件地址或其他个人信息。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="982967089" _msthash="986">如果恶意用户可以上传具有任何名称的文件，但不能控制其内容，那么他们很容易上传一个文件，该文件会覆盖您（或其他关键文件）并破坏您的网站。</font><code>index.php</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="987">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/124800/how-to-setup-linux-permissions-for-the-www-folder" rel="nofollow" _msttexthash="75035519" _msthash="988">如何为 WWW 文件夹设置 linux 权限？</a></li>
<li><a href="https://serverfault.com/questions/357108/what-permissions-should-my-website-files-folders-have-on-a-linux-webserver" rel="nofollow" _msttexthash="196501487" _msthash="989">我的网站文件/文件夹在 Linux Web 服务器上应该具有哪些权限？</a></li>
<li><a href="https://www.agwa.name/blog/post/security_pitfalls_of_setgid_programs" rel="nofollow" _msttexthash="43670640" _msthash="990">setgid 程序的安全陷阱</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="909660557" _msthash="991">当您从运行级别 3 运行 <code _istranslated="1">telinit 1</code> 时，init 将采取哪些步骤？这最终的结果会是什么？如果你用 <code _istranslated="1">telinit 6</code> 而不是 <code _istranslated="1">reboot</code> 命令，你的服务器会重启吗？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="992">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="993">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/434560/what-differences-it-will-make-if-i-use-telinit-6-instead-of-reboot-command" rel="nofollow" _msttexthash="391945606" _msthash="994">如果我使用“telinit 6”而不是“reboot”命令来重新启动我的计算机，会产生什么区别？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="290089046" _msthash="995">我忘记了 root 密码！我在 BSD 中做什么？启动到单用户模式的目的是什么？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="144906996" _msthash="996">重新启动系统，在提示符处键入以进入<strong _mstmutation="1" _istranslated="1">单用户模式</strong>。</font><code>boot -s</code><code>Boot:</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="159673514" _msthash="997">在有关要使用的 shell 的问题处，点击 which 将显示提示。</font><code>Enter</code><code>#</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="262098291" _msthash="998">输入 以重新挂载根文件系统读/写，然后运行 以重新挂载所有文件系统。</font><code>mount -urw /</code><code>mount -a</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="122210842" _msthash="999">运行 以更改 root 密码，然后运行 以继续启动。</font><code>passwd root</code><code>exit</code></p>
<p dir="auto" _msttexthash="1537476668" _msthash="1000"><strong _istranslated="1">单用户模式</strong>基本上应该让你以root权限登录并更改几乎任何东西。例如，在恢复损坏的 master 数据库或 system 数据库时，或者更改服务器配置选项（例如密码恢复）时，可以使用单用户模式。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1001">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.cyberciti.biz/tips/howto-freebsd-reset-recover-root-password.html" rel="nofollow" _msttexthash="45971978" _msthash="1002">FreeBSD 重置或恢复 root 密码</a></li>
<li><a href="http://www.linfo.org/single_user_mode.html" rel="nofollow" _msttexthash="22059206" _msthash="1003">单用户模式定义</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="141344047" _msthash="1004">如何在不调用文本编辑器的情况下修改文本文件？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="11876891" _msthash="1005">例如：</font><br></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> cat  &gt;filename ... - overwrite file</span>
<span class="pl-c"><span class="pl-c">#</span> cat &gt;&gt;filename ... - append to file</span>
cat <span class="pl-k">&gt;</span> filename <span class="pl-s"><span class="pl-k">&lt;&lt;</span> <span class="pl-k">__EOF__</span></span>
<span class="pl-s">data</span>
<span class="pl-s"><span class="pl-k">__EOF__</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# cat  >filename ... - overwrite file
# cat >>filename ... - append to file
cat > filename << __EOF__
data
__EOF__" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="172818997" _msthash="1006">如何更改内核参数？您可能需要调整哪些内核选项？***</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="769039479" _msthash="1007">要在类 Unix 中设置内核参数，请先编辑文件，进行更改后保存文件并运行命令，此命令将永久进行更改，而无需重新启动机器。</font><code>/etc/sysctl.conf</code><code>sysctl -p</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1008">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.tecmint.com/change-modify-linux-kernel-runtime-parameters/" rel="nofollow" _msttexthash="112089419" _msthash="1009">如何以持久和非持久方式更改内核运行时参数</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="32544876" _msthash="1010">解释 <code _istranslated="1">/proc</code> 文件系统。</b></summary><br>
<p dir="auto"><code>/proc</code><font _mstmutation="1" _msttexthash="270319959" _msthash="1011">是一个虚拟文件系统，提供有关内核、硬件和正在运行的进程的详细信息。</font></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="494014170" _msthash="1012">由于包含虚拟文件，因此称为虚拟文件系统。这些虚拟文件具有独特的品质。它们中的大多数都列为零字节。</font><code>/proc</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="391973465" _msthash="1013">虚拟文件（如 、 和 ）提供了系统硬件的最新一瞥。其他：file 和 directory 提供系统配置信息和接口。</font><code>/proc/interrupts</code><code>/proc/meminfo</code><code>/proc/mounts</code><code>/proc/partitions</code><code>/proc/filesystems</code><code>/proc/sys/</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1014">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.tldp.org/LDP/Linux-Filesystem-Hierarchy/html/proc.html" rel="nofollow" _msttexthash="44964036" _msthash="1015">Linux 文件系统层次结构 - /proc</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="152971026" _msthash="1016">描述您的数据备份过程。您应该多久测试一次备份？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1017">待完成。</p>
</details>
<details>
<summary><b _msttexthash="79479634" _msthash="1018">解释 ext3/ext4 中的三种类型的日志。</b></summary><br>
<p dir="auto" _msttexthash="175604780" _msthash="1019"><strong _istranslated="1">在 ext3/ext4</strong> 文件系统中，有三种类型的日志可用：</p>
<ul dir="auto">
<li _msttexthash="78052871" _msthash="1020"><strong _istranslated="1">日记帐</strong> - 元数据和内容保存在日记帐中</li>
<li _msttexthash="416369681" _msthash="1021"><strong _istranslated="1">Ordered</strong> - 日志中仅保存元数据。只有在将内容写入磁盘后，才会记录元数据。这是默认设置</li>
<li _msttexthash="328380884" _msthash="1022"><strong _istranslated="1">Writeback</strong> - 日志中仅保存元数据。元数据可能在内容写入磁盘之前或之后被记录下来</li>
</ul>
</details>
<details>
<summary><b _msttexthash="181004551" _msthash="1023">什么是 inode？如何找到文件的 inode 编号以及如何使用它？</b></summary><br>
<p dir="auto" _msttexthash="1392030640" _msthash="1024"><strong _istranslated="1">inode</strong> 是 Linux 和其他类 Unix 操作系统上文件系统上的一种数据结构，它存储有关文件的所有信息，但其名称和实际数据除外。数据结构是一种存储数据以便可以有效使用数据的方法。</p>
<p dir="auto" _msttexthash="934235744" _msthash="1025">Unix 文件存储在磁盘的两个不同部分 - 数据块和 inode。我不会讨论超级块和其他深奥的信息。数据块包含文件的 “内容”。有关文件的信息存储在其他位置 - 在 inode 中。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2377497304" _msthash="1026">使用命令可以很容易地找到文件的 inode 编号，默认情况下，该命令列出了当前目录（即用户当前正在使用的目录）中的对象（即文件、链接和目录），并带有其选项。因此，例如，以下内容将显示当前目录中每个对象的名称及其 inode 编号：</font><code>ls</code><code>-i</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ls -i</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ls -i" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><code>df's</code> <code>-i</code><font _mstmutation="1" _msttexthash="2998141094" _msthash="1027">option 指示它提供有关每个文件系统上的 inode 的信息，而不是有关可用空间的信息。具体来说，它告诉 df 为每个挂载的文件系统返回 inode 的总数、可用 inode 的数量、已使用的 inode 的数量和已使用的 inode 的百分比。此选项可以与以下选项一起使用，以使输出更易于阅读：</font><code>-h</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>df -hi</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="df -hi" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="20731997" _msthash="1028">按 inode 查找文件</strong></p>
<p dir="auto" _msttexthash="130543049" _msthash="1029">如果您知道 inode，则可以使用 find 命令找到它：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>find <span class="pl-c1">.</span> -inum 435304 -print</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="find . -inum 435304 -print" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="36471721" _msthash="1030">删除名称陌生的文件</strong></p>
<p dir="auto" _msttexthash="889010980" _msthash="1031">有时，创建的文件名中包含奇怪的字符。Unix 文件系统将允许将任何字符作为文件名的一部分，但 null （ASCII 000） 或 “/” 除外。允许使用其他所有字符。</p>
<p dir="auto" _msttexthash="932872837" _msthash="1032">用户可以创建包含字符的文件，从而难以查看目录或文件。他们可以创建末尾带有空格的目录 “.. ”，或者使用以下方法创建名称中包含退格键的文件：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>touch <span class="pl-s"><span class="pl-pds">`</span>printf <span class="pl-s"><span class="pl-pds">"</span>aa\bb<span class="pl-pds">"</span></span><span class="pl-pds">`</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="touch `printf &quot;aa\bb&quot;`" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="96909358" _msthash="1033">现在，当您使用该命令时会发生什么：</font><code>ls</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ls
aa<span class="pl-k">?</span>b
ls <span class="pl-k">|</span> grep <span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>
ab</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ls
aa?b
ls | grep 'a'
ab" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="356229731" _msthash="1034">请注意，当将结果发送到终端时，它会在文件名中放置一个 “<strong _mstmutation="1" _istranslated="1">？</strong>” 以显示不可打印的字符。</font><code>ls</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="576955964" _msthash="1035">您可以使用删除此文件，它会在删除每个文件之前提示您。但是，一旦您知道 inode 编号，您也可以使用它来删除文件。</font><code>rm -i *</code><code>find</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ls -i
435304 aa<span class="pl-k">?</span>b
find <span class="pl-c1">.</span> -inum 435304 -delete</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ls -i
435304 aa?b
find . -inum 435304 -delete" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="1036">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.thegeekstuff.com/2012/01/linux-inodes/" rel="nofollow" _msttexthash="104475696" _msthash="1037">通过示例了解 UNIX/Linux 索引节点基础知识</a></li>
<li><a href="https://unix.stackexchange.com/questions/387087/what-is-an-inode-as-defined-by-posix/387093" rel="nofollow" _msttexthash="42153514" _msthash="1038">什么是 POSIX 定义的 inode？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="427446175" _msthash="1039"><code _istranslated="1">ls -l</code> 将文件属性显示为问号。这意味着什么，您将采取哪些步骤来删除未使用的“僵尸”文件？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="195366184" _msthash="1040">此问题可能更难解决，因为可能需要几个步骤 - 有时您有 get 、 或 。</font><code>test/file: Permission denied</code><code>test/file: No such file or directory</code><code>test/file: Input/output error</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2983856889" _msthash="1041">当用户无法对文件执行 操作（需要执行权限），但可以读取目录条目（需要对目录的读取访问权限）时，会发生这种情况。因此，您会获得目录中的文件列表，但无法获取有关这些文件的任何信息，因为它们无法读取。如果你的目录具有读取权限但未执行，则会看到此内容。</font><code>stat()</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="845070096" _msthash="1042">某些进程（如 a）会生成临时文件，这些文件会快速创建和删除，如果您尝试调用其他简单的文件管理命令（如 等），则会导致错误。</font><code>rsync</code><code>rm</code><code>mv</code></p>
<p dir="auto" _msttexthash="21144175" _msthash="1043">输出示例：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">??????????</span> <span class="pl-k">?</span> <span class="pl-k">?</span>        <span class="pl-k">?</span>               <span class="pl-k">?</span>            <span class="pl-k">?</span> sess_kee6fu9ag7tiph2jae</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="?????????? ? ?        ?               ?            ? sess_kee6fu9ag7tiph2jae" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol dir="auto">
<li><font _mstmutation="1" _msttexthash="48907716" _msthash="1044">更改权限：并尝试删除</font><code>chmod 0777 sess_kee6fu9ag7tiph2jae</code></li>
<li><font _mstmutation="1" _msttexthash="54579824" _msthash="1045">更改所有者：并尝试删除</font><code>chown root:root sess_kee6fu9ag7tiph2jae</code></li>
<li><font _mstmutation="1" _msttexthash="103049440" _msthash="1046">更改目录的权限和所有者：并尝试删除</font><code>chmod -R 0777 dir/ &amp;&amp; chown -R root:root dir/</code></li>
<li><font _mstmutation="1" _msttexthash="66346592" _msthash="1047">重新创建文件：然后尝试删除</font><code>touch sess_kee6fu9ag7tiph2jae</code></li>
<li><font _mstmutation="1" _msttexthash="509369692" _msthash="1048">请注意服务器上其他正在运行的进程，例如 ，有时当 NFS 服务器严重过载时，您可以将其视为暂时性错误</font><code>rsync</code></li>
<li><font _mstmutation="1" _msttexthash="92602445" _msthash="1049">找到 file inode： ，然后尝试 remove：</font><code>ls -i</code><code>find . -inum &lt;inode_num&gt; -delete</code></li>
<li _msttexthash="97434870" _msthash="1050">重新挂载（如果可能）您的文件系统</li>
<li><font _mstmutation="1" _msttexthash="80718898" _msthash="1051">将系统引导至单用户模式，并使用</font><code>fsck</code></li>
</ol>
<p dir="auto" _msttexthash="28005783" _msthash="1052">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/65616/question-marks-showing-in-ls-of-directory-io-errors-too" rel="nofollow" _msttexthash="62134046" _msthash="1053">问号显示在目录的 ls 中。IO 错误。</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="68130985" _msthash="1054">是否支持 LVM。它提供什么好处？</b></summary><br>
<ul dir="auto">
<li _msttexthash="71310720" _msthash="1055">LVM 使移动应用程序变得非常容易</li>
<li _msttexthash="68011515" _msthash="1056">您可以将卷组扩展到新的物理卷上</li>
<li _msttexthash="78394290" _msthash="1057">移动旧物理卷的任意数量的逻辑卷</li>
<li _msttexthash="102852074" _msthash="1058">从卷组中删除该卷，而无需卸载任何分区</li>
<li _msttexthash="90299417" _msthash="1059">您还可以创建逻辑卷的快照以进行备份</li>
<li _msttexthash="239478603" _msthash="1060">LVM 具有内置的镜像支持，因此您可以在多个物理卷之间镜像逻辑卷</li>
<li _msttexthash="17066842" _msthash="1061">LVM 甚至支持 TRIM</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1062">有用的资源：</p>
<ul dir="auto">
<li><a href="https://askubuntu.com/questions/3596/what-is-lvm-and-what-is-it-used-for" rel="nofollow" _msttexthash="76758604" _msthash="1063">什么是 LVM，它的用途是什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="50616033" _msthash="1064">如何增加 LVM 分区的大小？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="50643515" _msthash="1065">使用命令调整 LVM 分区的大小。</font><code>lvextend</code></p>
<ul dir="auto">
<li _msttexthash="28416375" _msthash="1066">将大小扩展 500MB：</li>
</ul>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>lvextend -L +500M /dev/vgroup/lvolume</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="lvextend -L +500M /dev/vgroup/lvolume" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li _msttexthash="64047516" _msthash="1067">扩展所有可用的可用空间：</li>
</ul>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>lvextend -l +100%FREE /dev/vgroup/lvolume</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="lvextend -l +100%FREE /dev/vgroup/lvolume" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="58150300" _msthash="1068">和 / 或 调整文件系统大小：</font><code>resize2fs</code><code>xfs_growfs</code></p>
<ul dir="auto">
<li _msttexthash="37476465" _msthash="1069">对于 EXT 文件系统：</li>
</ul>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>resize2fs /dev/vgroup/lvolume</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="resize2fs /dev/vgroup/lvolume" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li _msttexthash="37476205" _msthash="1070">对于 XFS 文件系统：</li>
</ul>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>xfs_growfs mountpoint_for_/dev/vgroup/lvolume</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="xfs_growfs mountpoint_for_/dev/vgroup/lvolume" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="1071">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.tldp.org/HOWTO/LVM-HOWTO/extendlv.html" rel="nofollow" _msttexthash="16904173" _msthash="1072">扩展逻辑卷</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="49748062" _msthash="1073">什么是僵尸/失效进程？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="402590786" _msthash="1074">是已完成执行（通过系统调用）但在 process 表中仍有条目的进程：它是处于“<strong _mstmutation="1" _istranslated="1">Terminated state</strong>”的进程。</font><code>exit</code></p>
<p dir="auto" _msttexthash="925188771" _msthash="1075">标记为 <strong _istranslated="1">defunct</strong> 的进程是死进程（所谓的“僵尸”），由于其父进程没有正确销毁它们而保留下来。如果父进程退出，这些进程将被 init 销毁。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1076">有用的资源：</p>
<ul dir="auto">
<li><a href="https://askubuntu.com/questions/201303/what-is-a-defunct-process-and-why-doesnt-it-get-killed" rel="nofollow" _msttexthash="96276921" _msthash="1077">什么是进程，为什么它没有被杀死？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="643947928" _msthash="1078">在生产环境中升级/更新系统的正确方法是什么？您是否自动化了这些流程？您是否为他们设置了停机时间？编写推荐。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1079">待完成。</p>
</details>
<details>
<summary><b _msttexthash="413370516" _msthash="1080">你在配置 MySQL 服务器时朋友问你：<i _istranslated="1">安装 mysql 后我应该运行 <code _istranslated="1">sudo mysql_secure_installation</code> 吗？</i>你怎么看？</b></summary><br>
<p dir="auto" _msttexthash="254142915" _msthash="1081">如果您运行 command 会更好，因为它提供了许多安全选项，例如：</p>
<ul dir="auto">
<li _msttexthash="51132224" _msthash="1082">您可以为 root 账户设置密码</li>
<li _msttexthash="105949974" _msthash="1083">您可以删除可从本地主机外部访问的 root 账户</li>
<li _msttexthash="42975582" _msthash="1084">您可以删除匿名用户帐户</li>
<li _msttexthash="192129548" _msthash="1085">您可以删除 test 数据库，默认情况下，匿名用户可以访问</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1086">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/20760908/what-is-purpose-of-using-mysql-secure-installation" rel="nofollow" _msttexthash="113832095" _msthash="1087">使用 mysql_secure_installation 的目的是什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="70101200" _msthash="1088">介绍并解释使用 <code _istranslated="1">kill</code> 命令的好方法。</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="445139981" _msthash="1089">说到杀戮过程，除非绝对强制性，否则永远不要使用。由于其蛮力，这种杀戮可能会引起问题。</font><code>kill -9/SIGKILL</code></p>
<p dir="auto" _msttexthash="69696419" _msthash="1090">始终尝试使用以下简单过程：</p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="831617631" _msthash="1091">首先，首先发送 <strong _mstmutation="1" _istranslated="1">SIGTERM</strong> （） 信号，它告诉进程关闭，并且通常被接受为干净关闭时使用的信号（但请记住，此信号可以忽略）。</font><code>kill -15</code></li>
<li><font _mstmutation="1" _msttexthash="602211376" _msthash="1092">接下来尝试发送 <strong _mstmutation="1" _istranslated="1">SIGHUP</strong> （） 信号，该信号通常用于告诉进程关闭和重新启动，此信号也可以被进程捕获并忽略。</font><code>kill -1</code></li>
</ul>
<p dir="auto" _msttexthash="138755617" _msthash="1093">大多数时候，这就是您所需要的 - 而且要干净得多。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1094">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/8916/when-should-i-not-kill-9-a-process" rel="nofollow" _msttexthash="78921349" _msthash="1095">什么时候不应该杀死 -9 一个进程？</a></li>
<li><a href="https://major.io/2010/03/18/sigterm-vs-sigkill/" rel="nofollow" _msttexthash="3829917" _msthash="1096">SIGTERM 与 SIGKILL</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="291975515" _msthash="1097">什么是 <code _istranslated="1">strace</code> 命令，应该如何使用？说明连接到已在运行的进程的示例。</b></summary><br>
<p dir="auto"><code>strace</code><font _mstmutation="1" _msttexthash="1030577314" _msthash="1098">是一个功能强大的命令行工具，用于调试和排除类 Unix 操作系统（如 Linux）中的程序故障。它捕获并记录进程发出的所有系统调用以及进程接收到的信号。</font></p>
<p dir="auto"><strong _msttexthash="11346504" _msthash="1099">Strace 概述</strong></p>
<p dir="auto"><code>strace</code><font _mstmutation="1" _msttexthash="728542269" _msthash="1100">可以看作是一个轻量级的调试器。它允许程序员/用户快速了解程序如何与操作系统交互。它通过监视系统调用和信号来实现此目的。</font></p>
<p dir="auto"><strong _msttexthash="4971109" _msthash="1101">使用</strong></p>
<p dir="auto" _msttexthash="878468162" _msthash="1102">当您没有源代码或不想真正完成它时，这很适合。此外，如果您不想打开 <strong _istranslated="1">GDB</strong>，而只是对了解外部交互感兴趣，那么它对您自己的代码也很有用。</p>
<p dir="auto"><strong _msttexthash="31101187" _msthash="1103">附加到进程的示例</strong></p>
<p dir="auto"><code>strace -p &lt;PID&gt;</code><font _mstmutation="1" _msttexthash="26513084" _msthash="1104">- 将进程附加到 strace。</font></p>
<p dir="auto"><code>strace -e trace=read,write -p &lt;PID&gt;</code><font _mstmutation="1" _msttexthash="1097683405" _msthash="1105">- 通过这种方式，您还可以跟踪进程/程序的事件，例如 read 和 write（在本例中）。所以在这里，它将打印所有此类事件，包括进程的读取和写入系统调用。</font></p>
<p dir="auto" _msttexthash="18970406" _msthash="1106">其他此类示例</p>
<ul dir="auto">
<li><code>-e trace=network</code><font _mstmutation="1" _msttexthash="83129228" _msthash="1107">- 跟踪所有与网络相关的系统调用。</font></li>
<li><code>-e trace=signal</code><font _mstmutation="1" _msttexthash="83493982" _msthash="1108">- 跟踪所有与 Signal 相关的系统调用。</font></li>
<li><code>-e trace=ipc</code><font _mstmutation="1" _msttexthash="74665539" _msthash="1109">- 跟踪所有与 IPC 相关的系统调用。</font></li>
<li><code>-e trace=desc</code><font _mstmutation="1" _msttexthash="108141475" _msthash="1110">- 跟踪所有与文件描述符相关的系统调用。</font></li>
<li><code>-e trace=memory</code><font _mstmutation="1" _msttexthash="95321252" _msthash="1111">- 跟踪所有与内存映射相关的系统调用。</font></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1112">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/174942/how-should-strace-be-used" rel="nofollow" _msttexthash="84872008" _msthash="1113">应该如何使用 strace？（原文）</a></li>
<li><a href="https://stackoverflow.com/questions/7482076/how-does-strace-connect-to-an-already-running-process" rel="nofollow" _msttexthash="169339378" _msthash="1114">strace 如何连接到已在运行的进程？（原文）</a></li>
<li><a href="http://timetobleed.com/hello-world/" rel="nofollow" _msttexthash="73095139" _msthash="1115">strace：为了乐趣、利润和调试</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="182072241" _msthash="1116">何时使用访问控制列表代替 chmod 命令或与 <code _istranslated="1">chmod</code> 命令结合使用？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1117">待完成。</p>
</details>
<details>
<summary><b _msttexthash="78133874" _msthash="1118"><code _istranslated="1">/etc/shadow</code> 文件支持哪些算法？</b></summary><br>
<p dir="auto" _msttexthash="42818438" _msthash="1119">典型的电流算法是：</p>
<ul dir="auto">
<li _msttexthash="20280" _msthash="1120">MD5</li>
<li _msttexthash="39372229" _msthash="1121">SHA-1（也称为 SHA）</li>
</ul>
<p dir="auto" _msttexthash="101657517" _msthash="1122">两者都不应再用于加密/安全目的！！</p>
<ul dir="auto">
<li _msttexthash="53040" _msthash="1123">SHA-256</li>
<li _msttexthash="9973184" _msthash="1124">SHA-512 系列</li>
<li _msttexthash="357483256" _msthash="1125">SHA-3（KECCAK 于 2012 年 10 月被宣布为新的联邦批准哈希算法竞赛的获胜者）</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1126">有用的资源：</p>
<ul dir="auto">
<li><a href="https://crypto.stackexchange.com/questions/40841/what-is-the-algorithm-used-to-encrypt-linux-passwords" rel="nofollow" _msttexthash="70386667" _msthash="1127">加密 Linux 密码的算法是什么？</a></li>
<li><a href="https://unix.stackexchange.com/questions/430141/how-to-find-the-hashing-algorithm-used-to-obfuscate-passwords" rel="nofollow" _msttexthash="90393732" _msthash="1128">如何找到用于混淆密码的哈希算法？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="83200221" _msthash="1129">ulimit 在类 Unix 系统中有什么用？</b></summary><br>
<p dir="auto" _msttexthash="1616849975" _msthash="1130">大多数类 Unix 操作系统（包括 Linux 和 BSD）都提供了基于每个进程和每个用户限制和控制系统资源（如线程、文件和网络连接）的使用的方法。这些 “<strong _istranslated="1">ulimit</strong>” 可防止单个用户使用过多的系统资源。</p>
</details>
<details>
<summary><b _msttexthash="56122040" _msthash="1131">什么是软限制和硬限制？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1094117089" _msthash="1132"><strong _mstmutation="1" _istranslated="1">硬限制</strong> 是用户允许的最大值，由超级用户或 root 设置。此值在 file 中设置。用户可以在需要更多资源时自行提高<strong _mstmutation="1" _istranslated="1">软限制</strong>，但不能将<strong _mstmutation="1" _istranslated="1">软限制</strong>设置为高于<strong _mstmutation="1" _istranslated="1">硬限制</strong>。</font><code>/etc/security/limits.conf</code></p>
</details>
<details>
<summary><b _msttexthash="853739497" _msthash="1133">在配置 HAProxy 以使用 Redis 期间，您会收到来自日志的<code _istranslated="1">常规套接字错误（权限被拒绝）。</code>SELinux 已启用。在 CLI 中解释基本的 SELinux 故障排除。***</b></summary><br>
<p dir="auto" _msttexthash="28005783" _msthash="1134">有用的资源：</p>
<ul dir="auto">
<li><a href="https://access.redhat.com/articles/2191331" rel="nofollow" _msttexthash="52831376" _msthash="1135">CLI 中的基本 SELinux 故障排除</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="532714429" _msthash="1136">您已配置 RSA 密钥登录，但您的服务器显示<code _istranslated="1">服务器按预期拒绝了我们的密钥</code>。您将在哪里寻找问题的原因？</b></summary><br>
<p dir="auto"><strong _msttexthash="11279853" _msthash="1137">服务器端</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="202829757" _msthash="1138">在 file 中设置可能是你所需要的，尽管有更高的级别：</font><code>LogLevel VERBOSE</code><code>/etc/ssh/sshd_config</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="63897353" _msthash="1139">SSH 身份验证失败记录在 或 中。</font><code>/var/log/auth.log</code><code>/var/log/secure</code><code>/var/log/audit/audit.log</code></p>
<p dir="auto" _msttexthash="159454386" _msthash="1140">以下内容应仅提供与 ssh 相关的日志行（例如）：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>grep <span class="pl-s"><span class="pl-pds">'</span>sshd<span class="pl-pds">'</span></span> /var/log/auth.log</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="grep 'sshd' /var/log/auth.log" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="182526721" _msthash="1141">接下来，列出所有失败的 SSH 登录的最简单命令如下所示：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>grep <span class="pl-s"><span class="pl-pds">"</span>Failed password<span class="pl-pds">"</span></span> /var/log/auth.log</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="grep &quot;Failed password&quot; /var/log/auth.log" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="31173779" _msthash="1142">同样有用的是：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>grep <span class="pl-s"><span class="pl-pds">"</span>Failed\|Failure<span class="pl-pds">"</span></span> /var/log/auth.log</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="grep &quot;Failed\|Failure&quot; /var/log/auth.log" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="536425825" _msthash="1143">在较新的 Linux 发行版上，您可以通过命令 （ 或 ） 查询由 Systemd 守护程序维护的运行时日志文件。例如：</font><code>journalctl</code><code>ssh.service</code><code>sshd.service</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>journalctl _SYSTEMD_UNIT=ssh.service <span class="pl-k">|</span> egrep <span class="pl-s"><span class="pl-pds">"</span>Failed|Failure<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="journalctl _SYSTEMD_UNIT=ssh.service | egrep &quot;Failed|Failure&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="8431657" _msthash="1144">客户端</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="844574536" _msthash="1145">此外，您应该使用 SSH 客户端运行 - 它位于第一级详细程度。接下来，您可以为更多调试消息启用额外的（2 级和 3 级）详细程度，例如 .</font><code>-v|--verbose</code><code>-vv</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1146">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.tecmint.com/enable-debugging-mode-in-ssh/" rel="nofollow" _msttexthash="97780787" _msthash="1147">在 SSH 中启用调试模式以解决连接问题</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="315402568" _msthash="1148">为什么大多数发行版使用 ext4，而不是 XFS 或其他文件系统？为什么有这么多？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1149">待完成。</p>
</details>
<details>
<summary><b _msttexthash="117777855" _msthash="1150">项目经理需要新的 SQL Server。你问她/他什么？***</b></summary><br>
<p dir="auto" _msttexthash="58420674" _msthash="1151">我希望 DBA 提出如下问题：</p>
<ul dir="auto">
<li _msttexthash="212652232" _msthash="1152">数据库会有多大？（我们是否可以将数据库添加到现有服务器）</li>
<li _msttexthash="183985243" _msthash="1153">数据库有多重要？（关于集群、灾难恢复、高可用性）</li>
</ul>
</details>
<details>
<summary><b _msttexthash="67278289" _msthash="1154">创建一个包含 100 行随机值的文件。</b></summary><br>
<p dir="auto" _msttexthash="11876891" _msthash="1155">例如：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>cat /dev/urandom <span class="pl-k">|</span> tr -dc <span class="pl-s"><span class="pl-pds">'</span>a-zA-Z0-9<span class="pl-pds">'</span></span> <span class="pl-k">|</span> fold -w 32 <span class="pl-k">|</span> head -n 100 <span class="pl-k">&gt;</span> /path/to/file</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 32 | head -n 100 > /path/to/file" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="159498378" _msthash="1156">如何在没有密码的情况下以其他用户身份运行脚本？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="52058396" _msthash="1157">例如（使用 command）：</font><code>visudo</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>user1 ALL=(user2) NOPASSWD: /opt/scripts/bin/generate.sh</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="user1 ALL=(user2) NOPASSWD: /opt/scripts/bin/generate.sh" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="106632032" _msthash="1158">命令路径必须是绝对的！然后从 user1 shell 调用。</font><code>sudo -u user2 /opt/scripts/bin/generate.sh</code></p>
</details>
<details>
<summary><b _msttexthash="226920785" _msthash="1159">如何检查是否在 bash 脚本中以 root 身份运行？你应该注意什么？</b></summary><br>
<p dir="auto" _msttexthash="227868628" _msthash="1160">在 bash 脚本中，您可以通过多种方式检查正在运行的用户是否为 root。</p>
<p dir="auto" _msttexthash="1308830120" _msthash="1161">作为警告，请勿使用 root 用户名检查用户是否为 root。无法保证 ID 为 0 的用户称为 root。这是一个非常强大的约定，被广泛遵循，但任何人都可以将超级用户重命名为另一个名称。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="353201264" _msthash="1162">我认为使用 bash 时最好的方法是使用 because 可以更改并且不会反映运行脚本的真实用户。</font><code>$EUID</code><code>$UID</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">if</span> <span class="pl-s"><span class="pl-pds">((</span> <span class="pl-smi">$EUID</span> <span class="pl-k">!=</span> <span class="pl-c1">0</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">then</span>
  <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>Please run as root<span class="pl-pds">"</span></span>
  <span class="pl-c1">exit</span>
<span class="pl-k">fi</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="if (( $EUID != 0 )); then
  echo &quot;Please run as root&quot;
  exit
fi" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="426959143" _msthash="1163">您能否举一个具体的例子来说明何时指示使用 <code _istranslated="1">nobody</code> 帐户？告诉我以 <code _istranslated="1">nobody</code> 和 <code _istranslated="1">www-data</code> 帐户运行 httpd 服务的区别。</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="912708355" _msthash="1164">在许多 Unix 变体中， 是用户帐户的约定名称，该帐户不拥有任何文件，不属于特权组，并且除了其他所有用户都具有的功能外，没有任何功能。</font><code>nobody</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="446893837" _msthash="1165">通常以 方式运行守护程序，尤其是服务器，以限制获得守护程序控制权的恶意用户可能造成的损害。</font><code>nobody</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2021953115" _msthash="1166">但是，如果像这样运行多个守护进程，则此技术的有用性会降低，因为获得对一个守护进程的控制权将提供对所有守护进程的控制。原因是 -owned 进程能够相互发送信号，甚至相互调试，从而允许它们读取甚至修改彼此的内存。</font><code>nobody</code></p>
<p dir="auto"><strong _msttexthash="67371603" _msthash="1167">我什么时候应该使用 <code _istranslated="1">nobody</code> 帐户？</strong></p>
<p dir="auto" _msttexthash="253723405" _msthash="1168">当程序的操作不需要权限时。当没有任何磁盘活动时，这一点最为明显。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2025387390" _msthash="1169">一个真实的例子是 <strong _mstmutation="1" _istranslated="1">memcached</strong>（一个键值内存缓存/数据库/事物），它位于我的计算机和在该帐户下运行的服务器上。为什么？因为它不需要任何权限，并且给它一个确实对文件具有写入权限的帐户将是一个不必要的风险。</font><code>nobody</code></p>
<p dir="auto" _msttexthash="1229908043" _msthash="1170">一个很好的例子是 Web 服务器。想象一下，如果 Apache 以 root 身份运行，并且有人找到了一种通过 Apache 向控制台发送自定义命令的方法，那么它将可以访问您的整个系统。</p>
<p dir="auto"><code>nobody</code><font _mstmutation="1" _msttexthash="748917676" _msthash="1171">account 也被用作受限 shell，用于为用户提供文件系统访问权限，而无需像 bash 这样的实际 shell。这应该会阻止他们执行任务。</font></p>
<p dir="auto"><strong _msttexthash="65086515" _msthash="1172"><code _istranslated="1">httpd 的 nobody</code> 或 <code _istranslated="1">www-data</code> （Apache）</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="617120205" _msthash="1173">启动时，Apache 需要 root 访问权限，但它很快就会放弃此访问权限并假定非特权用户的身份。此用户可以是 或 、 或 。</font><code>nobody</code><code>apache</code><code>www-data</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="843705239" _msthash="1174">多个应用程序使用该用户作为默认用户。例如，您可能从来都不希望 Apache 服务覆盖属于 bind 的文件。拥有每个服务的账户往往是一个非常好的主意。</font><code>nobody</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2235669670" _msthash="1175">让 Apache 运行起来非常简单，只需更新用户和组设置即可。但正如我上面提到的，我并不真的推荐那个特定的用户/组。您完全有可能在将来的某个时间向系统中添加一个也作为 运行的服务，而您会忘记已将文件系统上的写入权限授予了 user 。</font><code>nobody:nobody</code><code>nobody</code><code>nobody</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1657640972" _msthash="1176">如果以某种方式遭到入侵，它们可能比应用程序隔离用户（如 .当然，这在很大程度上取决于文件和组权限。 使用其他人的权限，而应用程序特定用户可以配置为允许文件读取访问，但仍可以拒绝其他人。</font><code>nobody</code><code>www-data</code><code>nobody</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1177">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/186568/what-is-nobody-user-and-group" rel="nofollow" _msttexthash="48941477" _msthash="1178">什么是 nobody 用户和组？</a></li>
<li><a href="http://linuxg.net/the-linux-and-unix-nobody-user/" rel="nofollow" _msttexthash="20489768" _msthash="1179">Linux 和 Unix Nobody 用户</a></li>
<li><a href="https://askubuntu.com/questions/329714/what-is-the-purpose-of-the-nobody-user" rel="nofollow" _msttexthash="72299448" _msthash="1180">“nobody”用户的目的是什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="144477385" _msthash="1181">有没有办法将输出重定向到文件并使其显示在 stdout 上？</b></summary><br>
<p dir="auto" _msttexthash="36794121" _msthash="1182">所需的命令名为 tee：</p>
<p dir="auto"><code>foo | tee output.file</code></p>
<p dir="auto" _msttexthash="52862667" _msthash="1183">例如，如果你只关心 stdout：</p>
<p dir="auto"><code>ls -a | tee output.file</code></p>
<p dir="auto" _msttexthash="73811920" _msthash="1184">如果要包含 stderr，请执行：</p>
<p dir="auto"><code>program [arguments...] 2&gt;&amp;1 | tee outfile</code></p>
<p dir="auto"><code>2&gt;&amp;1</code><font _mstmutation="1" _msttexthash="982330349" _msthash="1185">将通道 2 （stderr/standard error） 重定向到通道 1 （stdout/standard output），使得两者都写入 stdout。它还被定向到从 tee 命令开始的给定输出文件。</font></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="124838935" _msthash="1186">此外，如果要附加到日志文件，请使用 as：</font><code>tee -a</code></p>
<p dir="auto"><code>program [arguments...] 2&gt;&amp;1 | tee -a outfile</code></p>
</details>
<details>
<summary><b _msttexthash="347287590" _msthash="1187">首选的 bash shebang 是什么，为什么？使用 <code _istranslated="1">./script</code> 或 <code _istranslated="1">bash 脚本</code>执行文件有什么区别？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="499164861" _msthash="1188">为了便于移植，您应该使用：不同的 *nixes 将 bash 放在不同的地方，使用是一种解决方法，可以运行在 .</font><code>#!/usr/bin/env bash</code><code>/usr/bin/env</code><code>PATH</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2612439791" _msthash="1189">Running 正是这样做的，并且需要对文件的 execute 权限，但与它的程序类型无关。它可能是一个 <strong _mstmutation="1" _istranslated="1">bash 脚本</strong>、<strong _mstmutation="1" _istranslated="1">一个 sh 脚本</strong>，或者一个 <strong _mstmutation="1" _istranslated="1">Perl</strong>、<strong _mstmutation="1" _istranslated="1">Python</strong>、<strong _mstmutation="1" _istranslated="1">awk</strong> 或 <strong _mstmutation="1" _istranslated="1">expect 脚本</strong>，或者一个实际的<strong _mstmutation="1" _istranslated="1">二进制可执行文件</strong>。运行 将强制它在 下运行，而不是在其他任何内容下运行。</font><code>./script</code><code>bash script</code><code>sh</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1190">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/10376206/what-is-the-preferred-bash-shebang" rel="nofollow" _msttexthash="111799363" _msthash="1191">首选的 Bash shebang 是什么？（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="289885817" _msthash="1192">您必须运行将执行很长时间的命令。如何防止在 ssh 会话丢弃后终止此进程？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="74213087" _msthash="1193">用于使您的进程忽略挂断信号：</font><code>nohup</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>nohup long-running-process <span class="pl-k">&amp;</span>
<span class="pl-c1">exit</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="nohup long-running-process &amp;
exit" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="38271207" _msthash="1194">或者您想使用 <strong _istranslated="1">GNU Screen</strong>：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>screen -d -m long-running-process
<span class="pl-c1">exit</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="screen -d -m long-running-process
exit" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="1195">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.tecmint.com/keep-remote-ssh-sessions-running-after-disconnection/" rel="nofollow" _msttexthash="141147721" _msthash="1196">断开连接后保持远程 SSH 会话和进程运行的 5 种方法</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="85375485" _msthash="1197">中间认证机构的主要目的是什么？</b></summary><br>
<p dir="auto" _msttexthash="252335447" _msthash="1198">要了解中间 CA 的主要用途，您应该首先了解<strong _istranslated="1">根 CA</strong>、<strong _istranslated="1">中间 CA</strong> 和 <strong _istranslated="1">SSL 证书链信任</strong>。</p>
<p dir="auto" _msttexthash="2889659331" _msthash="1199"><strong _istranslated="1">根 CA</strong> 是主 CA，通常不直接签署最终实体/服务器证书。他们颁发根证书，这些证书通常预装在所有浏览器、移动设备和应用程序中。这些证书的私钥用于签署其他后续证书，称为中间证书。根 CA 通常保持“脱机”状态，并处于高度安全的环境中，访问权限受到严格限制。</p>
<p dir="auto" _msttexthash="1798249973" _msthash="1200"><strong _istranslated="1">中间 CA</strong> 是按一个或多个级别从属于根 CA 的 CA，受这些 CA 信任以代表其签署证书。创建和使用中间 CA 的目的主要是为了安全，因为如果中间私钥被盗用，则根 CA 可以吊销中间证书并使用新的加密密钥对创建新证书。</p>
<p dir="auto" _msttexthash="3271309873" _msthash="1201"><strong _istranslated="1">SSL 证书链信任</strong> 是 SSL 证书的列表，从根证书到最终实体/服务器证书。要使 SSL 证书受信任，它必须由受信任的 CA 颁发，该 CA 包含在连接设备（浏览器、移动设备和应用程序）的受信任 CA 列表中。因此，连接设备将测试链信任中每个 SSL 证书的可信度，直到它与受信任的 CA 颁发的证书匹配。</p>
<p dir="auto" _msttexthash="1347317075" _msthash="1202"><strong _istranslated="1">根-中间 CA</strong> 结构由每个主要 CA 创建，以防止根密钥泄露的灾难性影响。如果根密钥泄露，它将使根证书和所有从属证书不可信。因此，创建中间 CA 是确保严格保护主根密钥的最佳实践。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1203">有用的资源：</p>
<ul dir="auto">
<li><a href="https://knowledge.digicert.com/solution/SO16297.html" rel="nofollow" _msttexthash="29379935" _msthash="1204">证书链的工作原理</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="71757829" _msthash="1205">配置更改后如何重新加载 PostgreSQL？</b></summary><br>
<p dir="auto" _msttexthash="22099389" _msthash="1206">解决方案 1：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>systemctl reload postgresql</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="systemctl reload postgresql" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="22099532" _msthash="1207">解决方案 2：</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>su - postgres
/usr/bin/pg_ctl reload
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="su - postgres
/usr/bin/pg_ctl reload" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="22099675" _msthash="1208">解决方案 3：</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>SELECT pg_reload_conf();
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="SELECT pg_reload_conf();" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="245908169" _msthash="1209">您已向 <code _istranslated="1">.profile</code> 添加了多个别名。如何在不退出的情况下重新加载 shell？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="308103874" _msthash="1210">最好的方法是因为用新进程替换当前进程。同样好的（但其他的）解决方案是 。</font><code>exec $SHELL -l</code><code>exec</code><code>. ~/.profile</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1211">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/4608187/how-to-reload-bash-profile-from-the-command-line" rel="nofollow" _msttexthash="66379131" _msthash="1212">如何从命令行重新加载.bash_profile？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="115055824" _msthash="1213">如何在不保存 shell 历史记录的情况下退出？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">kill</span> -9 <span class="pl-smi">$$</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="kill -9 $$" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="2285010" _msthash="1214">或</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">unset</span> HISTFILE <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">exit</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="unset HISTFILE &amp;&amp; exit" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="1215">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/25049/how-do-i-close-a-terminal-without-saving-the-history" rel="nofollow" _msttexthash="115832782" _msthash="1216">如何在不保存历史记录的情况下关闭终端？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="147763135" _msthash="1217">这个 UID 0 toor 账户是什么？我是否受到了威胁？</b></summary><br>
<p dir="auto" _msttexthash="583063650" _msthash="1218"><strong _istranslated="1">toor</strong> 是另一种超级用户帐户，其中 toor 是 root 倒写。它旨在与非标准 shell 一起使用，因此 root 的默认 shell 不需要更改。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2824689426" _msthash="1219">这一点很重要，因为 shell 不是基本分发的一部分，而是从端口或软件包安装的，默认情况下，它们位于不同的文件系统上。如果 root 的 shell 位于 中，并且包含 ） 的文件系统未挂载，则 root 将无法登录以解决问题，并且必须重新启动到单用户模式才能进入 shell 的路径。</font><code>/usr/local/bin</code><code>/usr/local/bin</code><code>/usr/local/bin</code></p>
<p dir="auto" _msttexthash="1954069156" _msthash="1220">有些人使用非标准 shell 将 toor 用于日常 root 任务，将 root 与标准 shell 一起用于单用户模式或紧急情况。默认情况下，用户无法使用 toor 登录，因为它没有密码，因此请以 root 身份登录并在使用 toor 登录之前为 toor 设置密码。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1221">有用的资源：</p>
<ul dir="auto">
<li><a href="https://administratosphere.wordpress.com/2007/10/04/the-root-account-and-toor/" rel="nofollow" _msttexthash="34369569" _msthash="1222">根账户（和 toor）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="411798751" _msthash="1223">有没有一种简单的方法可以在复杂目录结构中的 1000 个文件中搜索以查找包含特定字符串的文件？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="28997475" _msthash="1224">例如，使用 ：</font><code>fgrep</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>fgrep <span class="pl-k">*</span> -R <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="fgrep * -R &quot;string&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="9076834" _msthash="1225">或：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>grep -insr <span class="pl-s"><span class="pl-pds">"</span>pattern<span class="pl-pds">"</span></span> <span class="pl-k">*</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="grep -insr &quot;pattern&quot; *" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li><code>-i</code><font _mstmutation="1" _msttexthash="79494792" _msthash="1226">忽略 <strong _mstmutation="1" _istranslated="1">PATTERN</strong> 和 input 文件中的大小写区别</font></li>
<li><code>-n</code><font _mstmutation="1" _msttexthash="166233886" _msthash="1227">在其输入文件中，为每行输出添加从 1 开始的行号作为前缀</font></li>
<li><code>-s</code><font _mstmutation="1" _msttexthash="120625986" _msthash="1228">禁止显示有关不存在或不可读文件的错误消息。</font></li>
<li><code>-r</code><font _mstmutation="1" _msttexthash="66500148" _msthash="1229">递归读取每个目录下的所有文件。</font></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1230">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/15622328/how-to-grep-a-string-in-a-directory-and-all-its-subdirectories-files-in-linux" rel="nofollow" _msttexthash="166048909" _msthash="1231">如何在 LINUX 中的目录及其所有子目录文件中 grep 字符串？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="116472447" _msthash="1232">如何找出运行时加载的动态库可执行文件？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="70556668" _msthash="1233">您可以使用 command 执行此操作：</font><code>ldd</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ldd /bin/ls</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ldd /bin/ls" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="186320030" _msthash="1234">您的任务是同步测试环境和生产环境。您将采取哪些步骤？</b></summary><br>
<p dir="auto" _msttexthash="229069568" _msthash="1235">很容易陷入关于克隆环境的 bikeshing，而错过了真正的重点：</p>
<ul dir="auto">
<li _msttexthash="27234727" _msthash="1236">只有生产才是生产</li>
</ul>
<p dir="auto" _msttexthash="182995436" _msthash="1237">每次部署时，您都会测试部署代码 + 软件 + 环境的独特组合。</p>
<p dir="auto" _msttexthash="960681254" _msthash="1238">每隔一段时间，一个好的解决方案是定期克隆生产服务器以创建测试服务器。您可以在带有快照的开发/测试下创建具有生产环境精确副本的实例，例如：</p>
<ul dir="auto">
<li _msttexthash="19505031" _msthash="1239">生成生产快照</li>
<li _msttexthash="69452084" _msthash="1240">将快照复制到暂存（或其他）</li>
<li _msttexthash="40013337" _msthash="1241">使用此快照创建新磁盘</li>
</ul>
<p dir="auto" _msttexthash="1095930472" _msthash="1242">当然，您可以启动各种系统组件或整个系统的克隆，并捕获真实流量以离线重放（系统测试的黄金标准）。但许多系统太大、太复杂且成本高昂，无法克隆。</p>
<p dir="auto" _msttexthash="1112535775" _msthash="1243">在环境同步之前，一种很好的方法是跟踪您对测试环境所做的每一次更改，并提供一种将其传播到生产环境的方法，这样您就不会跳过任何步骤并尽可能顺利地完成。</p>
<p dir="auto" _msttexthash="334176271" _msthash="1244">此外，从生产环境更新测试环境的 structure comparison tool 或 deploy scripts 也是一个很好的解决方案。</p>
<p dir="auto"><strong _msttexthash="14660698" _msthash="1245">预同步任务</strong></p>
<p dir="auto" _msttexthash="792443171" _msthash="1246">首先，通知开发人员和客户不要对测试环境进行更改（如果可能，请禁用针对此环境的测试域或设置包含同步信息的静态页面）。</p>
<p dir="auto" _msttexthash="89762543" _msthash="1247">对这两个环境进行备份/快照也很重要。</p>
<p dir="auto"><strong _msttexthash="17748120" _msthash="1248">数据库服务器</strong></p>
<ul dir="auto">
<li _msttexthash="95168645" _msthash="1249">同步/更新系统版本（例如软件包）</li>
<li _msttexthash="105634906" _msthash="1250">从生产数据库服务器上的数据库创建转储文件</li>
<li _msttexthash="55182413" _msthash="1251">在测试 DB Server 上导入转储文件</li>
<li _msttexthash="245643944" _msthash="1252">如有必要，同步登录权限、角色、数据库权限、打开的数据库连接和其他</li>
</ul>
<p dir="auto"><strong _msttexthash="32295445" _msthash="1253">Web/应用程序服务器</strong></p>
<ul dir="auto">
<li _msttexthash="95168645" _msthash="1254">同步/更新系统版本（例如软件包）</li>
<li _msttexthash="112090277" _msthash="1255">如有必要，更新内核参数、防火墙规则和其他</li>
<li _msttexthash="123869720" _msthash="1256">同步/更新所有正在运行/重要服务的配置文件</li>
<li _msttexthash="124747402" _msthash="1257">同步/更新用户帐户（例如权限）及其主目录</li>
<li _msttexthash="51343253" _msthash="1258">从 git/svn 存储库部署项目</li>
<li _msttexthash="143042016" _msthash="1259">同步/更新项目中存在的重要目录，例如 <strong _istranslated="1">static</strong>、<strong _istranslated="1">asset</strong> 和其他</li>
<li _msttexthash="51203737" _msthash="1260">项目目录的同步/更新权限</li>
<li _msttexthash="21613072" _msthash="1261">删除/更新所有 Webhook</li>
<li _msttexthash="12233728" _msthash="1262">更新 Cron 作业</li>
</ul>
<p dir="auto"><strong _msttexthash="9112155" _msthash="1263">其他任务</strong></p>
<ul dir="auto">
<li _msttexthash="124622394" _msthash="1264">更新了用于测试域和特定 URL 的负载均衡器配置</li>
<li _msttexthash="78853307" _msthash="1265">更新了队列、会话和存储实例的配置</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1266">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/639668/keeping-testing-and-production-server-environments-clean-in-sync-and-consisten" rel="nofollow" _msttexthash="115394292" _msthash="1267">保持测试和生产服务器环境的清洁、同步和一致</a></li>
</ul>
</details>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="37147851" _msthash="1268">网络问题 （24）</h6><a id="user-content-network-questions-24" class="anchor" aria-label="永久链接：网络问题 （24）" href="#network-questions-24" _mstaria-label="779246" _msthash="1269"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="49324106" _msthash="1270">在工作站上配置虚拟接口。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1271">待完成。</p>
</details>
<details>
<summary><b _msttexthash="297162749" _msthash="1272">根据 HTTP 监视器，网站已关闭。您可以 telnet 到端口，那么如何解决它呢？</b></summary><br>
<p dir="auto" _msttexthash="1392540500" _msthash="1273">如果您可以 telnet 到该端口，则意味着侦听该端口的服务正在运行，您可以连接到它（这不是网络问题）。最好以这种方式检查域解析到的 IP 地址，并使用相同的域来测试连接。</p>
<p dir="auto" _msttexthash="1216480408" _msthash="1274">首先，检查您的网站是否从其他位置在线。然后，它会让您知道该站点是否在所有位置都已关闭，或者是否只有您的网络无法查看它。检查 Web 浏览器返回的内容也是一个好主意。</p>
<p dir="auto"><strong _msttexthash="32212440" _msthash="1275">如果只有 IP 连接有效</strong></p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="166569221" _msthash="1276">您可以使用 whois 查看哪些 DNS 服务器为站点提供主机名：</font><code>whois www.example.com</code></li>
<li><font _mstmutation="1" _msttexthash="181708813" _msthash="1277">您可以使用 OR 等工具测试 DNS 以查看主机名是否正在解析：</font><code>dig</code><code>host</code><code>host www.example.org dns.example.org</code></li>
<li><font _mstmutation="1" _msttexthash="75073583" _msthash="1278">您还可以检查全球公共 DNS 服务器：</font><code>host www.example.com 9.9.9.9</code></li>
</ul>
<p dir="auto" _msttexthash="109935033" _msthash="1279">如果域未解析，则可能是 DNS 服务器有问题。</p>
<p dir="auto"><strong _msttexthash="25354537" _msthash="1280">如果域解析正确</strong></p>
<ul dir="auto">
<li _msttexthash="260872339" _msthash="1281">调查日志文件并解决与日志有关的问题，这是显示问题所在的最佳方式</li>
<li _msttexthash="961249133" _msthash="1282">检查 http 状态代码，通常是带有 5xx 的响应，也许服务器过载是因为客户端与网站或特定 URL 建立了大量连接？也许您的缓存规则无法正常工作？</li>
<li><font _mstmutation="1" _msttexthash="410442994" _msthash="1283">检查 Web/代理服务器配置（例如），也许另一个系统管理员对域配置进行了一些更改？</font><code>nginx -t -c &lt;/path/to/nginx.conf&gt;</code></li>
<li _msttexthash="212170972" _msthash="1284">也许服务器上的某些内容崩溃了？也许空间不足或内存不足？</li>
<li _msttexthash="68736915" _msthash="1285">也许是网站上的编程错误？</li>
</ul>
</details>
<details>
<summary><b _msttexthash="186595916" _msthash="1286">负载平衡会极大地影响服务器性能。讨论几种负载平衡机制。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1287">待完成。</p>
</details>
<details>
<summary><b _msttexthash="199332900" _msthash="1288">列出在 DNS 问题期间可能会降级的网络故障排除工具的示例。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1289">待完成。</p>
</details>
<details>
<summary><b _msttexthash="60536879" _msthash="1290">解释 HTTP 1.1 和 HTTP 2.0 之间的区别。</b></summary><br>
<p dir="auto" _msttexthash="693654000" _msthash="1291"><b _istranslated="1">HTTP/2</b> 支持查询多路复用、标头压缩、优先级和更智能的数据包流管理。这样可以减少延迟并加快现代网页上的内容下载速度。</p>
<p dir="auto" _msttexthash="49425519" _msthash="1292">与 <strong _istranslated="1">HTTP/1.1</strong> 的主要区别：</p>
<ul dir="auto">
<li _msttexthash="65491231" _msthash="1293">它是二进制的，而不是文本的</li>
<li _msttexthash="53225575" _msthash="1294">完全多路复用，而不是 ordered 和 blocking</li>
<li _msttexthash="68464045" _msthash="1295">因此可以使用一个连接进行并行</li>
<li _msttexthash="45561451" _msthash="1296">使用标头压缩来减少开销</li>
<li _msttexthash="109189639" _msthash="1297">允许服务器主动将响应“推送”到客户端缓存中</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1298">有用的资源：</p>
<ul dir="auto">
<li><a href="https://kinsta.com/learn/what-is-http2/" rel="nofollow" _msttexthash="32236854" _msthash="1299">什么是 HTTP/2 - 终极指南</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="305882044" _msthash="1300">开发团队报告错误：<code _istranslated="1">POST http://ws.int/api/v1/Submit/ 导致 413 请求实体太大</code>。怎么了？</b></summary><br>
<p dir="auto"><strong _msttexthash="37220222" _msthash="1301">修改域的 NGINX 配置文件</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="44340686" _msthash="1302">设置正确的变量值：</font><code>client_max_body_size</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>client_max_body_size 20M<span class="pl-k">;</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="client_max_body_size 20M;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="44636995" _msthash="1303">重新启动 Nginx 以应用更改。</p>
<p dir="auto"><strong _msttexthash="66751841" _msthash="1304">修改php.ini文件以进行上传限制</strong></p>
<p dir="auto" _msttexthash="379396732" _msthash="1305">并非所有配置都需要它，但您可能还必须修改 PHP 上传设置，以确保 php 配置不会超出限制。</p>
<p dir="auto" _msttexthash="49445916" _msthash="1306">现在逐个找到以下指令：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>upload_max_filesize
post_max_size</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="upload_max_filesize
post_max_size" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="137560618" _msthash="1307">并将其限制增加到 20M，默认情况下它们是 8M 和 2M：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>upload_max_filesize = 20M
post_max_size = 20M</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="upload_max_filesize = 20M
post_max_size = 20M" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="34884863" _msthash="1308">最后保存并重新启动 PHP。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1309">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/814767/413-request-entity-too-large-in-nginx-with-client-max-body-size-set" rel="nofollow" _msttexthash="120464825" _msthash="1310">413 设置了 client_max_body_size 的 Nginx 中请求实体太大</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="122961839" _msthash="1311">什么是握手机制，为什么我们需要 3 次握手？</b></summary><br>
<p dir="auto" _msttexthash="967175846" _msthash="1312">当一台设备向另一台设备发送消息，表明它想要建立通信通道时，<strong _istranslated="1">握</strong>手开始。然后，这两个设备来回发送多条消息，使它们能够就通信协议达成一致。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1367230930" _msthash="1313"><strong _mstmutation="1" _istranslated="1">三次握手</strong>是 TCP/IP 网络中使用的一种在本地主机/客户端和服务器之间创建连接的方法。这是一个三步法，要求客户端和服务器在实际数据通信开始之前交换 （， ， ） 数据包。</font><code>SYN</code><code>ACK</code><code>SYN</code><code>SYN-ACK</code><code>ACK</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1314">有用的资源：</p>
<ul dir="auto">
<li><a href="https://networkengineering.stackexchange.com/questions/24068/why-do-we-need-a-3-way-handshake-why-not-just-2-way" rel="nofollow" _msttexthash="117611338" _msthash="1315">为什么我们需要 3 次握手？为什么不只 2 路？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="31716438" _msthash="1316">为什么 UDP 比 TCP 快？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1091059853" _msthash="1317"><strong _mstmutation="1" _istranslated="1">UDP</strong> 比 <strong _mstmutation="1" _istranslated="1">TCP</strong> 更快，原因很简单，因为它不存在允许连续数据包流的确认数据包 （），而不是使用 TCP 窗口大小和往返时间 （） 计算的确认一组数据包的 TCP。</font><code>ACK</code><code>RTT</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1318">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/47903/udp-vs-tcp-how-much-faster-is-it" rel="nofollow" _msttexthash="56799145" _msthash="1319">UDP 与 TCP，它快了多少？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="172471546" _msthash="1320">在您看来，提高安全性的 5 个最重要的 OpenSSH 参数是什么？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1321">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1322">有用的资源：</p>
<ul dir="auto">
<li><a href="https://linux-audit.com/audit-and-harden-your-ssh-configuration/" rel="nofollow" _msttexthash="29271931" _msthash="1323">OpenSSH 安全性和强化</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="73963747" _msthash="1324">什么是 NAT？它是做什么用的？</b></summary><br>
<p dir="auto" _msttexthash="1853706517" _msthash="1325">它允许使用未注册 IP 地址的专用 IP 网络连接到 Internet。<strong _istranslated="1">NAT</strong> 在路由器上运行，通常将两个网络连接在一起，并在将数据包转发到另一个网络之前，将内部网络中的私有（非全局唯一）地址转换为合法地址。</p>
<p dir="auto" _msttexthash="1607975005" _msthash="1326">可以使用 <strong _istranslated="1">NAT</strong> 为需要在网络外部进行特殊访问的工作站或其他计算机分配特定的外部 IP，从而允许它们与需要唯一公共 IP 地址的计算机和应用程序进行通信。<strong _istranslated="1">NAT</strong> 也是防火墙安全的一个非常重要的方面。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1327">有用的资源：</p>
<ul dir="auto">
<li><a href="http://www.firewall.cx/networking-topics/network-address-translation-nat/227-nat-concepts.html" rel="nofollow" _msttexthash="58972706" _msthash="1328">网络地址转换 （NAT） 概念</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="47069763" _msthash="1329">生成树的目的是什么？</b></summary><br>
<p dir="auto" _msttexthash="2471139411" _msthash="1330">该协议在 OSI 模型的第 2 层运行，目的是防止网络上出现环路。如果没有 <strong _istranslated="1">STP</strong>，冗余交换机部署将产生广播风暴，即使是最强大的网络也会瘫痪。基于原始 IEEE 802.1D 标准有几次迭代;每个 Loop 的运行方式与其他 Loop 略有不同，但在很大程度上实现了相同的无 Loop 目标。</p>
</details>
<details>
<summary><b _msttexthash="122776459" _msthash="1331">如何检查我的 Linux Server 上正在侦听哪些端口？</b></summary><br>
<p dir="auto" _msttexthash="12611911" _msthash="1332">使用：</p>
<ul dir="auto">
<li><code>lsof -i</code></li>
<li><code>ss -l</code></li>
<li><code>netstat -atn</code><font _mstmutation="1" _msttexthash="4838626" _msthash="1333">- 对于 TCP</font></li>
<li><code>netstat -aun</code><font _mstmutation="1" _msttexthash="4838899" _msthash="1334">- 对于 UDP</font></li>
<li><code>netstat -tulapn</code></li>
</ul>
</details>
<details>
<summary><b _msttexthash="270399740" _msthash="1335">连接到远程主机时，<code _istranslated="1">主机密钥验证失败</code>是什么意思？你会自动接受吗？</b></summary><br>
<p dir="auto"><code>Host key verification failed</code><font _mstmutation="1" _msttexthash="3353349025" _msthash="1336">表示远程主机的 Host Key 已更改。如果连接到一台主机密钥已更改的计算机，并且该计算机在未复制其旧主机密钥的情况下进行了升级，则很容易发生这种情况。这里的主机密钥可以证明，当您使用 ssh 重新连接到远程计算机时，您正在与首次访问该计算机时连接的同一台计算机通信。</font><code>/etc/ssh</code></p>
<p dir="auto" _msttexthash="4470831716" _msthash="1337">每当您通过 SSH 连接到服务器时，该服务器的公钥都会存储在您的主目录（如果使用 Mac 或 Windows 桌面，则可能存储在您的本地帐户设置中）文件中，称为 <strong _istranslated="1">known_hosts</strong>。当您重新连接到同一服务器时，SSH 连接将验证当前公钥是否与您保存在 <strong _istranslated="1">known_hosts</strong> 文件中的公钥匹配。如果服务器的密钥自上次连接到服务器后发生更改，您将收到上述错误。</p>
<p dir="auto" _msttexthash="837669924" _msthash="1338">不要按照某些人的建议删除整个 <strong _istranslated="1">known_hosts</strong> 文件，这完全使警告的意义无效。这是一项安全功能，用于警告您可能已经发生了中间人攻击。</p>
<p dir="auto" _msttexthash="225677998" _msthash="1339">在接受新的主机密钥之前，请联系您/其他系统管理员进行验证。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1340">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/13363553/git-error-host-key-verification-failed-when-connecting-to-remote-repository" rel="nofollow" _msttexthash="94662672" _msthash="1341">连接到远程存储库时出现 Git 错误：“Host Key Verification Failed”</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="64631931" _msthash="1342">如何使用 <code _istranslated="1">telnet</code> 发送 HTTP 请求？</b></summary><br>
<p dir="auto" _msttexthash="11876891" _msthash="1343">例如：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>telnet example.com 80
Trying 192.168.252.10...
Connected to example.com.
Escape character is <span class="pl-s"><span class="pl-pds">'</span>^]<span class="pl-pds">'</span></span>.
GET /questions HTTP/1.0
Host: example.com

HTTP/1.1 200 OK
Content-Type: text/html<span class="pl-k">;</span> charset=utf-8
...</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="telnet example.com 80
Trying 192.168.252.10...
Connected to example.com.
Escape character is '^]'.
GET /questions HTTP/1.0
Host: example.com

HTTP/1.1 200 OK
Content-Type: text/html; charset=utf-8
..." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="107548506" _msthash="1344">如何在 Linux 中使用例如 80 端口杀死程序？</b></summary><br>
<p dir="auto" _msttexthash="72713992" _msthash="1345">要列出侦听端口 80 的任何进程：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> with lsof</span>
lsof -i:80

<span class="pl-c"><span class="pl-c">#</span> with fuser</span>
fuser 80/tcp</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# with lsof
lsof -i:80

# with fuser
fuser 80/tcp" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="74235304" _msthash="1346">要终止任何侦听端口 80 的进程：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">kill</span> <span class="pl-s"><span class="pl-pds">$(</span>lsof -t -i:80<span class="pl-pds">)</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="kill $(lsof -t -i:80)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="25606529" _msthash="1347">或更猛烈地：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">kill</span> -9 <span class="pl-s"><span class="pl-pds">$(</span>lsof -t -i:80<span class="pl-pds">)</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="kill -9 $(lsof -t -i:80)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="22467276" _msthash="1348">或使用 command：</font><code>fuser</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>fuser -k 80/tcp</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="fuser -k 80/tcp" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="1349">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/11583562/how-to-kill-a-process-running-on-particular-port-in-linux/32592965" rel="nofollow" _msttexthash="141721827" _msthash="1350">如何杀死在 Linux 中的特定端口上运行的进程？</a></li>
<li><a href="https://unix.stackexchange.com/questions/106561/finding-the-pid-of-the-process-using-a-specific-port" rel="nofollow" _msttexthash="66651871" _msthash="1351">使用特定端口查找进程的 PID？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="345357818" _msthash="1352">您得到 <code _istranslated="1">curl：（56） 对等体重置 TCP 连接</code>。您将采取哪些步骤来解决此问题？</b></summary><br>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="363092353" _msthash="1353">检查 URL 是否正确，也许您应该添加或设置正确的 header？另请检查方案（http 或 https）</font><code>www</code><code>Host:</code></li>
<li _msttexthash="72024940" _msthash="1354">检查域是否正在解析为正确的 IP 地址</li>
<li><font _mstmutation="1" _msttexthash="248094002" _msthash="1355">使用 启用调试跟踪。 是一个非常通用的错误，因此很难了解更多信息</font><code>--trace-ascii curl.dump</code><code>Recv failure</code></li>
<li><font _mstmutation="1" _msttexthash="107414541" _msthash="1356">使用外部代理进行来自外部 IP 的调试连接</font><code>--proxy</code></li>
<li><font _mstmutation="1" _msttexthash="157717001" _msthash="1357">使用网络嗅探器（例如 ）在较低的 TCP/IP 层中调试连接</font><code>tcpdump</code></li>
<li _msttexthash="181909923" _msthash="1358">检查生产环境和网络出口点上的防火墙规则，并检查 NAT 规则</li>
<li _msttexthash="93926794" _msthash="1359">检查通过您的网络传输的数据包的 MTU 大小</li>
<li><font _mstmutation="1" _msttexthash="137011082" _msthash="1360">如果连接到 HTTPS 协议，请使用 SSL/TLS 参数检查 SSL 版本</font><code>curl</code></li>
<li _msttexthash="257735491" _msthash="1361">这可能是客户端的问题，例如 Netfilter 丢弃或限制从您的 IP 地址到域的连接</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1362">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/10285700/curl-error-recv-failure-connection-reset-by-peer-php-curl" rel="nofollow" _msttexthash="119871323" _msthash="1363">CURL 错误：接收失败：对等体重置连接 - PHP Curl</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="117634166" _msthash="1364">如何使用 iptables 允许进出特定 IP 的流量？</b></summary><br>
<p dir="auto" _msttexthash="11876891" _msthash="1365">例如：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>/sbin/iptables -A INPUT -p tcp -s XXX.XXX.XXX.XXX -j ACCEPT
/sbin/iptables -A OUTPUT -p tcp -d  XXX.XXX.XXX.XXX -j ACCEPT</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="/sbin/iptables -A INPUT -p tcp -s XXX.XXX.XXX.XXX -j ACCEPT
/sbin/iptables -A OUTPUT -p tcp -d  XXX.XXX.XXX.XXX -j ACCEPT" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="103453532" _msthash="1366">如何在 OpenBSD 中使用 <code _istranslated="1">pf</code> 阻止滥用 IP 地址？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="242986081" _msthash="1367">执行此操作的最佳方法是在 ： 中定义一个表并创建规则来阻止主机 ：</font><code>pf.conf</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>table <span class="pl-k">&lt;</span>badhosts<span class="pl-k">&gt;</span> persist
block on fxp0 from <span class="pl-k">&lt;</span>badhosts<span class="pl-k">&gt;</span> to any</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="table <badhosts> persist
block on fxp0 from <badhosts> to any" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="68810976" _msthash="1368">然后从中动态添加/删除 IP 地址：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>pfctl -t badhosts -T add 1.2.3.4
pfctl -t badhosts -T delete 1.2.3.4</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="pfctl -t badhosts -T add 1.2.3.4
pfctl -t badhosts -T delete 1.2.3.4" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="378530204" _msthash="1369">Apache 或 Nginx 等 Web 服务器何时将信息写入日志文件？在送达请求之前还是之后？</b></summary><br>
<p dir="auto" _msttexthash="1315936518" _msthash="1370">这两个服务器都提供了非常全面和灵活的日志记录功能 - 用于记录服务器上发生的所有事情，从初始请求到 URL 映射过程，再到连接的最终解析，包括过程中可能发生的任何错误。</p>
<p dir="auto"><strong _msttexthash="8679008" _msthash="1371">阿帕奇</strong></p>
<p dir="auto" _msttexthash="275876926" _msthash="1372">Apache 服务器访问日志记录服务器处理的所有请求（请求完成后）。</p>
<p dir="auto"><strong _msttexthash="14413711" _msthash="1373">Nginx 浏览器</strong></p>
<p dir="auto" _msttexthash="239326438" _msthash="1374">NGINX 在处理完请求后立即将客户端请求的相关信息写入访问日志中。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1375">有用的资源：</p>
<ul dir="auto">
<li><a href="https://webmasters.stackexchange.com/questions/65566/when-does-apache-log-to-access-log-before-or-after-serving-the-request" rel="nofollow" _msttexthash="162226493" _msthash="1376">Apache 何时记录到 access.log - 在提供请求之前或之后？</a></li>
<li><a href="https://serverfault.com/questions/693049/nginx-log-request-before-processing" rel="nofollow" _msttexthash="37742679" _msthash="1377">处理前的 nginx 日志请求</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="210161705" _msthash="1378">分析 Web 服务器日志并仅显示 <code _istranslated="1">5xx</code> http 代码。您使用哪些外部工具？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>tail -n 100 -f /path/to/logfile <span class="pl-k">|</span> grep <span class="pl-s"><span class="pl-pds">"</span>HTTP/[1-2].[0-1]<span class="pl-cce">\"</span> [5]<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="tail -n 100 -f /path/to/logfile | grep &quot;HTTP/[1-2].[0-1]\&quot; [5]&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="76588382" _msthash="1379">http/https 日志管理工具示例：</p>
<ul dir="auto">
<li _msttexthash="607432501" _msthash="1380"><strong _istranslated="1">GoAccess</strong> - 是一个开源的实时 Web 日志分析器和交互式查看器，在 *nix 系统的终端中运行或通过您的浏览器运行</li>
<li _msttexthash="272184549" _msthash="1381"><strong _istranslated="1">Graylog</strong> - 是一个免费的开源日志管理平台，支持深入的日志收集和分析</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1382">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackify.com/best-log-management-tools/" rel="nofollow" _msttexthash="207285247" _msthash="1383">最佳日志管理工具：51 个用于日志管理、监控、分析等的有用工具</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="752302278" _msthash="1384">开发者使用服务器上的私钥通过 ssh 部署 App。为什么这是不正确的行为，在这种情况下更好（但不理想）的解决方案是什么？</b></summary><br>
<p dir="auto" _msttexthash="550408339" _msthash="1385">您拥有个人账户的私有密钥。服务器需要您的公钥，以便它可以验证您尝试使用的账户的私钥是否已获得授权。</p>
<p dir="auto" _msttexthash="551282771" _msthash="1386">私钥的重点是它们是私有的，这意味着只有您拥有您的私钥。如果有人接管了您的私钥，它将能够随时冒充您。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1051082019" _msthash="1387">更好的解决方案是使用 ssh 密钥转发。一个 essence，如果它不存在，你需要创建一个文件。然后，添加主机（文件中的域名或 IP 地址，并设置 ）。例：</font><code>~/.ssh/config</code><code>ForwardAgent yes</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>Host git.example.com
    User john
    PreferredAuthentications publickey
    IdentityFile <span class="pl-k">~</span>/.ssh/id_rsa.git.example.com
    ForwardAgent yes</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="Host git.example.com
    User john
    PreferredAuthentications publickey
    IdentityFile ~/.ssh/id_rsa.git.example.com
    ForwardAgent yes" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="368938375" _msthash="1388">您的远程服务器必须允许在入站连接上转发 SSH 代理，并且您的本地服务器必须正在运行。</font><code>ssh-agent</code></p>
<p dir="auto" _msttexthash="4911346310" _msthash="1389">转发 ssh 代理 本身会带来安全风险。如果远程计算机上的某人可以访问您转发的 ssh 代理连接，他们仍然可以使用您的密钥。但是，这比在远程机器上存储密钥要好：攻击者只能使用 ssh 代理连接，而不能使用密钥本身。因此，只有当您登录到远程计算机时，他们才能执行任何操作。如果您将密钥存储在远程计算机上，他们可以复制该密钥并随时使用它。</p>
<p dir="auto" _msttexthash="413378108" _msthash="1390">如果您使用 ssh 密钥，请记住密码短语，强烈建议这样做，以降低密钥意外泄漏的风险。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1391">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/12257968/how-to-forward-local-keypair-in-a-ssh-session" rel="nofollow" _msttexthash="87514141" _msthash="1392">如何在 SSH 会话中转发本地密钥对？</a></li>
<li><a href="https://developer.github.com/v3/guides/using-ssh-agent-forwarding/" _msttexthash="24038391" _msthash="1393">使用 SSH 代理转发</a></li>
<li><a href="https://heipei.github.io/2015/02/26/SSH-Agent-Forwarding-considered-harmful/" rel="nofollow" _msttexthash="44984433" _msthash="1394">SSH 代理转发被视为有害</a></li>
<li><a href="https://www.commandprompt.com/blog/security_considerations_while_using_ssh-agent/" rel="nofollow" _msttexthash="64870546" _msthash="1395">使用 ssh-agent 时的安全注意事项</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="44096572" _msthash="1396">CORS 和 CSP 有什么区别？</b></summary><br>
<p dir="auto" _msttexthash="58286605" _msthash="1397"><strong _istranslated="1">CORS</strong> 允许放宽域的<strong _istranslated="1">同源策略</strong>。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="476869224" _msthash="1398">例如，通常，如果用户同时登录到 和 ，则同源策略会阻止向响应发出 AJAX 请求并获取对响应的访问权限。</font><code>example.com</code><code>example.org</code><code>example.com</code><code>example.org/current_user/full_user_details</code></p>
<p dir="auto" _msttexthash="252461950" _msthash="1399">这是 Web 的默认策略，可防止用户的数据在同时登录多个站点时泄露。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1658379723" _msthash="1400">现在有了 <strong _mstmutation="1" _istranslated="1">CORS</strong>，可以设置一个策略，允许源读取 AJAX 做出的响应。如果两者 和 都由同一家公司运行，并且允许用户的浏览器中在源之间共享数据，则可以执行此操作。它只影响 Thing 的 Client 端，而不会影响 Server 端。</font><code>example.org</code><code>https://example.com</code><code>example.com</code><code>example.org</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="3979168531" _msthash="1401">另一方面<strong _mstmutation="1" _istranslated="1">，CSP</strong> 设置了哪些内容可以在当前站点上运行的策略。例如，是否可以内联执行 JavaScript，或者可以从哪些域加载文件。这有利于作为抵御 <strong _mstmutation="1" _istranslated="1">XSS</strong> 攻击的另一道防线，攻击者将尝试将脚本注入 HTML 页面。通常 output 会被编码，但是假设开发人员只忘记了一个 output 字段。由于策略阻止内联脚本执行，因此攻击被阻止。</font><code>.js</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1402">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/39488241/what-is-the-difference-between-cors-and-csps" rel="nofollow" _msttexthash="96184075" _msthash="1403">CORS 和 CSP 有什么区别？（原文）</a></li>
<li><a href="https://colorblindprogramming.com/csp-sri-and-cors" rel="nofollow" _msttexthash="5664906" _msthash="1404">CSP、SRI 和 CORS</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="135008809" _msthash="1405">解释使用 <code _istranslated="1">nmap</code> 扫描时来自防火墙的四种响应类型。</b></summary><br>
<p dir="auto" _msttexthash="53807611" _msthash="1406">可能有四种类型的响应：</p>
<ul dir="auto">
<li _msttexthash="80729805" _msthash="1407"><strong _istranslated="1">开放端口</strong> - 在防火墙的情况下端口很少</li>
<li _msttexthash="152322729" _msthash="1408"><strong _istranslated="1">关闭端口</strong> - 由于防火墙的原因，大多数端口都已关闭</li>
<li><font _mstmutation="1" _msttexthash="52987792" _msthash="1409"><strong _mstmutation="1" _istranslated="1">已过滤</strong> - 不确定端口是否打开</font><code>nmap</code></li>
<li><font _mstmutation="1" _msttexthash="174941884" _msthash="1410"><strong _mstmutation="1" _istranslated="1">未过滤</strong> - 可以访问端口，但仍然对端口的打开状态感到困惑</font><code>nmap</code></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1411">有用的资源：</p>
<ul dir="auto">
<li><a href="https://security.stackexchange.com/questions/182504/nmap-closed-vs-filtered" rel="nofollow" _msttexthash="35463987" _msthash="1412">NMAP - 封闭式 vs 过滤式</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="176372807" _msthash="1413"><code _istranslated="1">tcpdump</code> 有什么作用？如何仅捕获进入接口的流量？</b></summary><br>
<p dir="auto"><code>tcpdump</code><font _mstmutation="1" _msttexthash="796112317" _msthash="1414">是一种功能最强大且使用最广泛的命令行数据包嗅探器或软件包分析器工具，用于捕获或过滤通过特定接口上的网络接收或传输的 TCP/IP 数据包。</font></p>
<p dir="auto"><code>tcpdump</code><font _mstmutation="1" _msttexthash="766875278" _msthash="1415">将你的网卡置于混杂模式，这基本上是告诉它接受它收到的每个数据包。它允许用户查看通过网络传递的所有流量。Wireshark 使用 pcap 捕获数据包。</font></p>
<p dir="auto" _msttexthash="159060577" _msthash="1416">如果您只想查看到达您的接口的数据包，您应该：</p>
<ul dir="auto">
<li><code>-Q in</code><font _mstmutation="1" _msttexthash="16087929" _msthash="1417">- 对于 Linux 版本</font><code>tcpdump</code></li>
<li><code>-D in</code><font _mstmutation="1" _msttexthash="14587950" _msthash="1418">- 对于 BSD 版本</font><code>tcpdump</code></li>
</ul>
<p dir="auto" _msttexthash="152287096" _msthash="1419">这两个参数都设置了应该捕获数据包的发送/接收方向。</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>tcpdump -nei eth0 -Q <span class="pl-k">in</span> host 192.168.252.125 and port 8080</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="tcpdump -nei eth0 -Q in host 192.168.252.125 and port 8080" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="40846559" _msthash="1420">Devops 问题 （7）</h6><a id="user-content-devops-questions-7" class="anchor" aria-label="永久链接： Devops 问题 （7）" href="#devops-questions-7" _mstaria-label="707642" _msthash="1421"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="141860524" _msthash="1422">哪些是顶级的 DevOps 工具？您使用过哪些工具？</b></summary><br>
<p dir="auto" _msttexthash="69184492" _msthash="1423">下面提到了最流行的 DevOps 工具：</p>
<ul dir="auto">
<li _msttexthash="48153248" _msthash="1424"><strong _istranslated="1">Git</strong>：版本控制系统工具</li>
<li _msttexthash="49446072" _msthash="1425"><strong _istranslated="1">Jenkins</strong>：持续集成工具</li>
<li _msttexthash="52634907" _msthash="1426"><strong _istranslated="1">Selenium</strong> ： 持续测试工具</li>
<li _msttexthash="134093882" _msthash="1427"><strong _istranslated="1">Puppet</strong>、<strong _istranslated="1">Chef</strong>、<strong _istranslated="1">Ansible</strong>：配置管理和部署工具</li>
<li _msttexthash="44802849" _msthash="1428"><strong _istranslated="1">Nagios</strong> ： 持续监控工具</li>
<li _msttexthash="34315515" _msthash="1429"><strong _istranslated="1">Docker</strong>：容器化工具</li>
</ul>
</details>
<details>
<summary><b _msttexthash="61047961" _msthash="1430">所有这些工具如何协同工作？</b></summary><br>
<p dir="auto" _msttexthash="69184492" _msthash="1431">下面提到了最流行的 DevOps 工具：</p>
<ul dir="auto">
<li _msttexthash="190629153" _msthash="1432">开发人员开发代码，此源代码由 Git 等版本控制系统工具管理。</li>
<li _msttexthash="300887418" _msthash="1433">开发人员将此代码发送到 Git 存储库，并在代码中所做的任何更改都提交到此存储库</li>
<li _msttexthash="261521104" _msthash="1434">Jenkins 使用 Git 插件从存储库中提取此代码，并使用 Ant 或 Maven 等工具构建它</li>
<li _msttexthash="806745069" _msthash="1435">像puppet这样的配置管理工具部署和配置测试环境，然后Jenkins在测试环境中发布此代码，测试环境是使用像selenium这样的工具完成的。</li>
<li _msttexthash="741739843" _msthash="1436">一旦代码经过测试，Jenkins会将其发送到生产服务器上进行部署（甚至生产服务器也由像puppet这样的工具进行配置和维护）</li>
<li _msttexthash="68749395" _msthash="1437">部署后 它由 Nagios 等工具持续监控</li>
<li _msttexthash="105897948" _msthash="1438">Docker 容器提供测试环境来测试构建功能</li>
</ul>
</details>
<details>
<summary><b _msttexthash="54016898" _msthash="1439">Ansible 中的剧本是什么？</b></summary><br>
<p dir="auto" _msttexthash="132330146" _msthash="1440">Playbook 是 Ansible 的配置、部署和编排语言。</p>
<p dir="auto" _msttexthash="685707256" _msthash="1441">它们可以描述您希望远程系统实施的策略，或一般 IT 流程中的一组步骤。Playbook 设计为人类可读的，并以基本文本语言开发。</p>
<p dir="auto" _msttexthash="322239827" _msthash="1442">在基本层面上，playbook 可用于管理远程计算机的配置和部署到远程计算机。</p>
</details>
<details>
<summary><b _msttexthash="121994249" _msthash="1443">什么是 Nagios 中的 NRPE （Nagios Remote Plugin Executor）？</b></summary><br>
<p dir="auto" _msttexthash="1112643168" _msthash="1444"><strong _istranslated="1">NRPE</strong> 插件旨在允许您在远程 Linux/Unix 机器上执行 Nagios 插件。这样做的主要原因是允许 Nagios 监控远程机器上的 “本地” 资源（如 CPU 负载、内存使用情况等）。</p>
<p dir="auto" _msttexthash="395858281" _msthash="1445">由于这些公共资源通常不会向外部计算机公开，因此必须在远程 Linux/Unix 计算机上安装 <strong _istranslated="1">NRPE</strong> 等代理。</p>
</details>
<details>
<summary><b _msttexthash="98217171" _msthash="1446">Nagios 的主动和被动检查有什么区别？</b></summary><br>
<p dir="auto" _msttexthash="619078941" _msthash="1447">主动检查和被动检查之间的主要区别在于，主动检查是由 Nagios 发起和执行的，而被动检查是由外部应用程序执行的。</p>
<p dir="auto" _msttexthash="70633901" _msthash="1448">被动检查可用于监控以下服务：</p>
<ul dir="auto">
<li _msttexthash="174642143" _msthash="1449">本质上是异步的，无法通过定期轮询其状态来有效监控。</li>
<li _msttexthash="111609966" _msthash="1450">位于防火墙后面，无法从监控主机主动检查。</li>
</ul>
<p dir="auto" _msttexthash="74441913" _msthash="1451">Actives 检查的主要功能如下：</p>
<ul dir="auto">
<li _msttexthash="46254026" _msthash="1452">主动检查由 Nagios 进程启动。</li>
<li _msttexthash="33058571" _msthash="1453">主动检查定期运行。</li>
</ul>
</details>
<details>
<summary><b _msttexthash="51695631" _msthash="1454">如何 <code _istranslated="1">git clone</code> 包含子模块？</b></summary><br>
<p dir="auto" _msttexthash="11876891" _msthash="1455">例如：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> With -j8 - performance optimization</span>
git clone --recurse-submodules -j8 git://github.com/foo/bar.git

<span class="pl-c"><span class="pl-c">#</span> For already cloned repos or older Git versions</span>
git clone git://github.com/foo/bar.git
<span class="pl-c1">cd</span> bar
git submodule update --init --recursive</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# With -j8 - performance optimization
git clone --recurse-submodules -j8 git://github.com/foo/bar.git

# For already cloned repos or older Git versions
git clone git://github.com/foo/bar.git
cd bar
git submodule update --init --recursive" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="103382084" _msthash="1456">提及使用 Redis 有哪些优势？什么是 <code _istranslated="1">redis-cli</code>？</b></summary><br>
<ul dir="auto">
<li _msttexthash="84711536" _msthash="1457">它提供高速（比其他产品快得多）</li>
<li _msttexthash="34530002" _msthash="1458">它支持服务器端锁定</li>
<li _msttexthash="27703520" _msthash="1459">它有很多客户端库</li>
<li _msttexthash="81128775" _msthash="1460">它具有命令级别原子操作 （tx operation）</li>
<li _msttexthash="93186743" _msthash="1461">支持丰富的数据类型，如哈希、集、位图</li>
</ul>
<p dir="auto"><code>redis-cli</code><font _mstmutation="1" _msttexthash="492095682" _msthash="1462">是 <strong _mstmutation="1" _istranslated="1">Redis</strong> 命令行界面，一个简单的程序，允许直接从终端向 <strong _mstmutation="1" _istranslated="1">Redis</strong> 发送命令，并读取服务器发送的回复。</font></p>
<p dir="auto" _msttexthash="28005783" _msthash="1463">有用的资源：</p>
<ul dir="auto">
<li><a href="https://dzone.com/articles/10-traits-of-redis" rel="nofollow" _msttexthash="18153330" _msthash="1464">Redis 的 10 大优势</a></li>
</ul>
</details>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="47151429" _msthash="1465">网络安全问题 （4）</h6><a id="user-content-cyber-security-questions-4" class="anchor" aria-label="永久链接：网络安全问题 （4）" href="#cyber-security-questions-4" _mstaria-label="1057472" _msthash="1466"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="76653577" _msthash="1467">什么是 XSS，您将如何缓解它？</b></summary><br>
<p dir="auto" _msttexthash="1729969176" _msthash="1468"><strong _istranslated="1">跨站点脚本</strong>是 Web 应用程序中的一个 JavaScript 漏洞。解释这一点的最简单方法是，用户在客户端输入字段中输入脚本，并且该输入未经验证就得到处理。这会导致不受信任的数据在客户端被保存和执行。</p>
<p dir="auto" _msttexthash="178315891" _msthash="1469">XSS 的对策是输入验证、实施 CSP（内容安全策略）等。</p>
</details>
<details>
<summary><b _msttexthash="95535375" _msthash="1470">HIDS 与 NIDS，哪个更好，为什么？</b></summary><br>
<p dir="auto" _msttexthash="2165185360" _msthash="1471"><strong _istranslated="1">HIDS</strong> 是主机入侵检测系统，<strong _istranslated="1">NIDS</strong> 是网络入侵检测系统。这两个系统的工作方式相似。只是位置不同。<strong _istranslated="1">HIDS</strong> 放置在每个主机上，而 <strong _istranslated="1">NIDS</strong> 放置在网络中。对于企业来说，<strong _istranslated="1">NIDS</strong> 是首选，因为 <strong _istranslated="1">HIDS</strong> 难以管理，而且它还会消耗主机的处理能力。</p>
</details>
<details>
<summary><b _msttexthash="29696706" _msthash="1472">什么是合规性？</b></summary><br>
<p dir="auto" _msttexthash="1261039910" _msthash="1473">遵守政府/独立党/组织制定的一套标准，例如存储、处理或传输支付相关信息的行业需要遵守 PCI DSS（支付卡行业数据安全标准）。其他合规性示例可以是组织遵守自己的政策。</p>
</details>
<details>
<summary><b _msttexthash="66394367" _msthash="1474">什么是 WAF，它有哪些类型？</b></summary><br>
<p dir="auto" _msttexthash="529251905" _msthash="1475"><strong _istranslated="1">WAF</strong> 代表 Web 应用程序防火墙。它用于通过过滤合法流量和恶意流量来保护应用程序。<strong _istranslated="1">WAF</strong> 可以是盒式或基于云的。</p>
</details>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto" _msttexthash="44371171" _msthash="1476">💠 <a name="user-content-senior-sysadmin" _istranslated="1">高级系统管理员</a></h3><a id="user-content-diamond_shape_with_a_dot_inside-senior-sysadmin" class="anchor" aria-label="永久链接： :d iamond_shape_with_a_dot_inside： 高级系统管理员" href="#diamond_shape_with_a_dot_inside-senior-sysadmin" _mstaria-label="2664584" _msthash="1477"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="37093862" _msthash="1478">系统问题 （61）</h6><a id="user-content-system-questions-61" class="anchor" aria-label="永久链接： 系统问题 （61）" href="#system-questions-61" _mstaria-label="733239" _msthash="1479"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="232781770" _msthash="1480">解释您负责的当前架构，并指出它在哪些方面具有可扩展性或容错性。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1481">待完成。</p>
</details>
<details>
<summary><b _msttexthash="100124804" _msthash="1482">请告诉我代码是如何在当前生产中部署的。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1483">待完成。</p>
</details>
<details>
<summary><b _msttexthash="71696885" _msthash="1484">有哪些不同类型的内核？解释。</b></summary><br>
<p dir="auto"><strong _msttexthash="10385453" _msthash="1485">整体内核</strong></p>
<p dir="auto" _msttexthash="1286540047" _msthash="1486">在这种类型的内核架构的早期，所有基本的系统服务，如进程和内存管理、中断处理等，都被打包到内核空间的一个模块中。这种类型的架构导致了一些严重的缺点，例如：</p>
<ul dir="auto">
<li _msttexthash="40135277" _msthash="1487">内核的大小，非常大</li>
<li _msttexthash="438552933" _msthash="1488">可维护性差，这意味着错误修复或添加新功能会导致整个内核的重新编译，这可能会消耗数小时</li>
</ul>
<p dir="auto" _msttexthash="2552056039" _msthash="1489">在现代单体架构方法中，内核由不同的模块组成，这些模块可以动态加载和卸载。这种模块化方法允许轻松扩展操作系统的功能。使用这种方法，内核的可维护性变得非常容易，因为每次特定模块中发生更改或错误修复时，只需要加载和卸载相关的模块。</p>
<p dir="auto" _msttexthash="58101069" _msthash="1490">Linux 遵循整体式模块化方法。</p>
<p dir="auto"><strong _msttexthash="7520890" _msthash="1491">微内核</strong></p>
<p dir="auto" _msttexthash="1274318812" _msthash="1492">这种架构主要解决了内核代码不断增长的问题，而我们在单体方法中无法控制。这种架构允许一些基本服务（如设备驱动程序管理、协议栈、文件系统等）在用户空间中运行。</p>
<p dir="auto" _msttexthash="865525232" _msthash="1493">在此体系结构中，作为用户空间一部分的所有基本 OS 服务都作为服务器运行，这些服务器通过进程间通信 （IPC） 供系统中的其他程序使用。</p>
<p dir="auto" _msttexthash="2108311023" _msthash="1494">示例：我们有用于设备驱动程序、网络协议栈、文件系统、图形等的服务器。微内核服务器本质上是守护程序，就像任何其他程序一样，不同之处在于内核授予其中一些服务器与物理内存部分交互的权限，否则大多数程序都禁止这些部分。</p>
<p dir="auto"><strong _msttexthash="42463928" _msthash="1495">混合内核 （Modular Kernels）</strong></p>
<p dir="auto" _msttexthash="1017246867" _msthash="1496">这是上述两者的组合，其中关键思想是操作系统服务位于 Kernel Space 中，并且在用户空间中拥有服务没有消息传递，没有性能开销，也没有可靠性优势。</p>
<p dir="auto" _msttexthash="201189612" _msthash="1497">Microsoft 的 NT 内核一直使用此功能，一直到最新的 Windows 版本。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1498">有用的资源：</p>
<ul dir="auto">
<li><a href="https://keetmalin.wixsite.com/keetmalin/single-post/2017/08/24/An-Introduction-to-Kernels-The-Heart-of-Computing-Devices" rel="nofollow" _msttexthash="106900014" _msthash="1499">内核简介。计算设备的心脏。（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="155909559" _msthash="1500">程序返回缺少库的错误。如何提供动态可链接的库？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="786783907" _msthash="1501">环境变量是一组以冒号分隔的目录，其中应首先搜索库，然后再搜索标准目录集;这在调试新库或将非标准库用于特殊目的时非常有用。</font><code>LD_LIBRARY_PATH</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="502302229" _msthash="1502">最好的使用方法是在执行程序之前立即在命令行或脚本上设置它。这样，新将与系统的其他部分隔离开来。</font><code>LD_LIBRARY_PATH</code><code>LD_LIBRARY_PATH</code></p>
<p dir="auto" _msttexthash="20588035" _msthash="1503">使用示例：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">export</span> LD_LIBRARY_PATH=<span class="pl-s"><span class="pl-pds">"</span>/list/of/library/paths:/another/path<span class="pl-pds">"</span></span> ./program</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="export LD_LIBRARY_PATH=&quot;/list/of/library/paths:/another/path&quot; ./program" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="1504">有用的资源：</p>
<ul dir="auto">
<li><a href="http://wiredrevolution.com/system-administration/how-to-correctly-use-ld_library_path" rel="nofollow" _msttexthash="19314880" _msthash="1505">如何正确使用 LD_LIBRARY_PATH</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="140140806" _msthash="1506">为新手管理员编写安全使用 root 权限的最重要规则。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1507">待完成。</p>
</details>
<details>
<summary><b _msttexthash="93300051" _msthash="1508">在多个系统之间同步 UID/GID 有什么优势？</b></summary><br>
<p dir="auto" _msttexthash="169411593" _msthash="1509">您希望在整个网络中协调<strong _istranslated="1">用户/UID</strong> 和<strong _istranslated="1">组/GID</strong> 管理的原因有几个。</p>
<p dir="auto" _msttexthash="116091573" _msthash="1510">第一个相对明显 - 它与用户和管理的便利性有关。</p>
<p dir="auto" _msttexthash="1418881607" _msthash="1511">如果希望每个用户对整个网络中的系统具有相对统一的访问权限，那么他们将期望相同的用户名和密码在他们应该使用的每个系统上工作。如果他们更改了密码，他们将希望该更改是全局性的。</p>
<p dir="auto" _msttexthash="3110796156" _msthash="1512">它还与 Unix 和 Linux 中的名称和组名有关系。它们被映射为数字形式（分别为 <strong _istranslated="1">UID</strong> 和 <strong _istranslated="1">GID</strong>）。所有文件所有权 （inode） 和进程都使用这些数字来确定整个内核和驱动程序中的所有访问和身份。这些数值由显示或处理该信息的工具反向映射回其相应的主符号表示形式 （名称）。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2874197118" _msthash="1513">此外，还建议您采用不重复使用 <strong _mstmutation="1" _istranslated="1">UID</strong> 的策略。当用户离开您的组织时，您将“停用”他们的 <strong _mstmutation="1" _istranslated="1">UID</strong>（通过输出他们的密码来禁用他们的访问权限，将他们从组映射中删除，将他们的“shell”设置为某个二进制文件，并将他们的主目录设置为安全的<em _mstmutation="1" _istranslated="1">墓地</em> - 我在我的系统上使用）。</font><code>/bin/denied</code><code>/home/.graveyard</code></p>
<p dir="auto" _msttexthash="1442819326" _msthash="1514">其原因可能并不明显。但是，如果您将存档备份维护数年（或无限期），则需要避免因还原一个（早已消失的）用户的文件并发现它们归您的某个新用户所有而可能导致的任何歧义和混淆。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1515">有用的资源：</p>
<ul dir="auto">
<li><a href="https://linuxgazette.net/issue31/tag_uidgid.html" rel="nofollow" _msttexthash="73669154" _msthash="1516">UID/GID 同步和管理（原件）</a></li>
<li><a href="https://serverfault.com/questions/603987/whats-the-advantage-of-synchronizing-uid-gid-across-linux-machines" rel="nofollow" _msttexthash="111429695" _msthash="1517">在 Linux 计算机之间同步 UID/GID 有什么优势？</a></li>
<li><a href="https://unix.stackexchange.com/questions/141023/how-can-i-keep-user-acccounts-consistent-accross-multiple-machines" rel="nofollow" _msttexthash="112487622" _msthash="1518">如何使用户帐户在多台计算机上保持一致？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="98810985" _msthash="1519">成功的系统性能调整应遵循哪些原则？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1520">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1521">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.oreilly.com/library/view/system-performance-tuning/059600284X/ch01.html" rel="nofollow" _msttexthash="20167784" _msthash="1522">性能调优简介</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="91323336" _msthash="1523">描述 BSD 系统中的启动配置文件和目录。</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="261257880" _msthash="1524">在 BSD 中，主要的启动配置文件是 。系统启动脚本，例如 和 仅包含此文件。</font><code>/etc/defaults/rc.conf</code><code>/etc/rc</code><code>/etc/rc.d</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="161000697" _msthash="1525">如果要在系统启动中添加其他程序，则需要 change file 而不是 。</font><code>/etc/rc.conf</code><code>/etc/defaults/rc.conf</code></p>
</details>
<details>
<summary><b _msttexthash="698189271" _msthash="1526">CPU 花费了完成 IO 操作的大部分时间。您使用哪些工具来诊断究竟等待了哪些进程等待 IO？如何最大限度地减少 IO 等待时间？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1527">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1528">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/12679/can-anyone-explain-precisely-what-iowait-is" rel="nofollow" _msttexthash="70438498" _msthash="1529">谁能准确解释一下 IOWait 是什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="227553898" _msthash="1530">初级开发人员不小心破坏了生产数据库。您如何防止此类情况发生？</b></summary><br>
<p dir="auto"><strong _msttexthash="29776890" _msthash="1531">创建灾难恢复计划</strong></p>
<p dir="auto" _msttexthash="659407944" _msthash="1532">灾难恢复和业务连续性规划是组织整体风险管理不可或缺的一部分。是用于恢复和保护业务 IT 基础架构的记录过程或一组过程。</p>
<p dir="auto" _msttexthash="388874330" _msthash="1533">如果您没有恢复解决方案，那么您的恢复工作将变成重建工作，从头开始重建丢失的任何内容。</p>
<p dir="auto" _msttexthash="301121288" _msthash="1534">您应该使用现实生活中常见的数据灾难场景来模拟备份在危机中的作用和不会做什么。</p>
<p dir="auto"><strong _msttexthash="17618601" _msthash="1535">创建容灾中心</strong></p>
<p dir="auto" _msttexthash="730444221" _msthash="1536">因此，如果主位置的运行发生意外中断，服务和所有运营活动都将切换到备份中心，因此服务的不可用程度被限制在绝对最低限度。</p>
<p dir="auto" _msttexthash="635547419" _msthash="1537">设施是否有足够的带宽选项和能力来扩展和处理重大灾难期间增加的负载？是否有资源可用于定期测试故障转移？</p>
<p dir="auto"><strong _msttexthash="63630229" _msthash="1538">创建定期备份并进行测试！</strong></p>
<p dir="auto" _msttexthash="664333839" _msthash="1539">备份是保护数据投资的一种方式。通过拥有多个数据副本，即使一个被销毁也没关系（成本只是从备份中恢复丢失的数据）。</p>
<p dir="auto" _msttexthash="143959569" _msthash="1540">当您丢失数据时，有一件事是肯定的：停机时间。</p>
<p dir="auto" _msttexthash="1637202489" _msthash="1541">为了确保任何备份的有效性和完整性，必须定期执行还原测试。理想情况下，应在每次备份完成后进行测试，以确保可以成功保护和恢复数据。但是，由于缺乏可用资源或时间限制，这通常不切实际。</p>
<p dir="auto" _msttexthash="87553128" _msthash="1542">备份整个虚拟机及其中间的重要组件。</p>
<p dir="auto"><strong _msttexthash="29445156" _msthash="1543">创建快照：vm、disks 或 lvm</strong></p>
<p dir="auto" _msttexthash="707583799" _msthash="1544">如果您想从以前的状态恢复服务器，快照是完美的选择，但它只是一种“快速方法”，在更改了太多项目后，它无法恢复系统。</p>
<p dir="auto" _msttexthash="174622942" _msthash="1545">始终在对生产环境进行更改之前创建它们（不仅如此）。</p>
<p dir="auto" _msttexthash="1299231323" _msthash="1546">Disk snapshots 用于生成整个 Disk 的快照。这些快照并不容易恢复单个数据块（例如丢失的用户帐户），尽管这是可能的。主要目的是在磁盘发生故障时恢复整个磁盘。</p>
<p dir="auto" _msttexthash="173085029" _msthash="1547">LVM 快照主要用于轻松地将数据从生产环境复制到暂存环境。</p>
<p dir="auto" _msttexthash="57100134" _msthash="1548">请记住：快照不是备份！</p>
<p dir="auto"><strong _msttexthash="24182548" _msthash="1549">开发和测试环境</strong></p>
<p dir="auto" _msttexthash="363933778" _msthash="1550">生产环境是公司或客户使用的应用程序及其数据库的真实实例。生产数据库包含所有真实数据。</p>
<p dir="auto" _msttexthash="1445677805" _msthash="1551">直接基于 production 数据库设置开发环境，而不是为此使用备份（无需上述操作）。您的工程师可以访问的开发和测试环境，以及只有少数人可以在批准的更改后将更新推送到的 prod 环境。</p>
<p dir="auto" _msttexthash="2169175255" _msthash="1552">所有环境（如 prod、dev 和 test）都应该有一个主要区别：服务的授权数据。例如，测试环境上的 postgres 数据库实例应该与生产基础一致（如果可能），但是，为了消除数据库名称和登录名的错误，授权密码应该不同。</p>
<p dir="auto"><strong _msttexthash="12987936" _msthash="1553">单点故障</strong></p>
<p dir="auto" _msttexthash="434974280" _msthash="1554">避免单点故障的常规方法是为每个必要的资源提供冗余组件，以便在组件发生故障时服务可以继续。</p>
<p dir="auto"><strong _msttexthash="45624306" _msthash="1555">数据库的同步和复制过程</strong></p>
<p dir="auto" _msttexthash="64043044" _msthash="1556">复制过程非常脆弱且容易出错。</p>
<p dir="auto" _msttexthash="1126205587" _msthash="1557">数据复制的延迟也最好稍长一些（例如，对于 DRC）。与副本一样，数据更改通常会在几分钟内复制，因此一旦发生这种情况，丢失的数据也不会出现在副本数据库中。</p>
<p dir="auto"><strong _msttexthash="204187971" _msthash="1558">创建具有用户、角色和权限的数据库模型，使用不同的保护方法</strong></p>
<p dir="auto" _msttexthash="879835918" _msthash="1559">只有非常高级的开发人员才具有数据库管理员访问权限。另一个确实不需要写入访问权限来克隆数据库。另一方面，不要给开发人员对 prod 的写权限。</p>
<p dir="auto" _msttexthash="480425309" _msthash="1560">生产数据库应拒绝来自任何不是运行生产应用程序的服务器和 pc 的连接，即使它提供了有效的用户名/密码。</p>
<p dir="auto" _msttexthash="679328195" _msthash="1561">的开发机器怎么能像那样访问生产数据库呢？一个简单的防火墙规则，只让需要数据库数据的服务器访问数据库怎么样？</p>
<p dir="auto"><strong _msttexthash="63438414" _msthash="1562">在失败后创建摘要/事后分析文档</strong></p>
<p dir="auto" _msttexthash="311549134" _msthash="1563">事后分析受众包括客户、直接下属、同行、公司的执行团队，通常还包括投资者。</p>
<p dir="auto" _msttexthash="1475961487" _msthash="1564">在时间轴上解释导致中断的原因。每个事件都以特定时间的特定触发器开始，这通常会导致一些意外行为。例如，我们的服务器重新启动了，我们希望它们能完好无损地恢复，但这并没有发生。</p>
<p dir="auto" _msttexthash="950538381" _msthash="1565">此外，每个事件都有一个根本原因：重启本身是触发的，但驱动程序中的错误导致了实际的中断。最后，每个事件都有后果，最明显的是网站宕机。</p>
<p dir="auto" _msttexthash="177819161" _msthash="1566">事后分析回答了最重要的一个问题，即什么可以防止中断。</p>
<p dir="auto" _msttexthash="509529007" _msthash="1567">尽管中断可能多么痛苦，但你能做的最糟糕的事情就是埋葬它，永远不要以清晰透明的方式正确结束事件。</p>
<p dir="auto"><strong _msttexthash="44560035" _msthash="1568">如果你也犯了一个大错误......</strong></p>
<blockquote>
<p dir="auto">"<font _mstmutation="1" _msttexthash="143594087" _msthash="1569"><em _mstmutation="1" _istranslated="1">人类只是拥有更大计算机的猿猴。</em>- african_cheetah （Reddit）</font></p>
<p dir="auto">"<font _mstmutation="1" _msttexthash="205155184" _msthash="1570"><em _mstmutation="1" _istranslated="1">我开始感激无法获得我并非绝对需要的东西。</em>- warm_vanilla_sugar （Reddit）</font></p>
<p dir="auto" _msttexthash="214747390" _msthash="1571">记录在某个地方发生的任何事情。编写设置指南。失败是有启发性的。</p>
</blockquote>
<p dir="auto" _msttexthash="28005783" _msthash="1572">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.reddit.com/r/cscareerquestions/comments/6ez8ag/accidentally_destroyed_production_database_on/" rel="nofollow" _msttexthash="81215550" _msthash="1573">在作业的第一天意外破坏了生产数据库...</a></li>
<li><a href="https://about.gitlab.com/2017/02/10/postmortem-of-database-outage-of-january-31/" rel="nofollow" _msttexthash="57988138" _msthash="1574">1 月 31 日数据库中断的事后分析</a></li>
<li><a href="https://sysadmincasts.com/episodes/20-how-to-write-an-incident-report-postmortem" rel="nofollow" _msttexthash="44561205" _msthash="1575">如何撰写事件报告/事后分析</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="345479706" _msthash="1576">如何在不重启的情况下在 Linux 服务器中添加新磁盘？如何在 LVM 中重新扫描和添加它？</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1577">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1578">有用的资源：</p>
<ul dir="auto">
<li><a href="https://linoxide.com/linux-how-to/add-new-disk-centos-7-without-rebooting/" rel="nofollow" _msttexthash="123247189" _msthash="1579">如何在不重新启动的情况下在 Linux CentOS 7 中添加新磁盘</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="121646564" _msthash="1580">解释 Linux 中用于进程管理的每个系统调用。</b></summary><br>
<p dir="auto" _msttexthash="188190444" _msthash="1581">有一些用于进程 Management 的系统调用。这些选项如下：</p>
<ul dir="auto">
<li><code>fork()</code><font _mstmutation="1" _msttexthash="32098235" _msthash="1582">：用于创建新流程</font></li>
<li><code>exec()</code><font _mstmutation="1" _msttexthash="34153249" _msthash="1583">：用于执行新流程</font></li>
<li><code>wait()</code><font _mstmutation="1" _msttexthash="33984938" _msthash="1584">：用于使进程等待</font></li>
<li><code>exit()</code><font _mstmutation="1" _msttexthash="47293415" _msthash="1585">：用于退出或终止进程</font></li>
<li><code>getpid()</code><font _mstmutation="1" _msttexthash="44488314" _msthash="1586">：用于查找唯一的进程 ID</font></li>
<li><code>getppid()</code><font _mstmutation="1" _msttexthash="35203831" _msthash="1587">：用于检查父进程 ID</font></li>
<li><code>nice()</code><font _mstmutation="1" _msttexthash="88657348" _msthash="1588">：用于偏置当前正在运行的进程属性</font></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1589">有用的资源：</p>
<ul dir="auto">
<li><a href="http://faculty.salina.k-state.edu/tim/ossg/Introduction/sys_calls.html" rel="nofollow" _msttexthash="14381952" _msthash="1590">系统调用</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="70120518" _msthash="1591">无法挂载根文件系统。为什么？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1592">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1593">有用的资源：</p>
<ul dir="auto">
<li><a href="https://superuser.com/questions/193918/what-does-mounting-a-root-file-system-mean-exactly" rel="nofollow" _msttexthash="90328589" _msthash="1594">“挂载根文件系统”到底是什么意思？</a></li>
<li><a href="https://unix.stackexchange.com/questions/9944/how-does-a-kernel-mount-the-root-partition" rel="nofollow" _msttexthash="45419816" _msthash="1595">内核如何挂载根分区？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="98039825" _msthash="1596">您必须删除 100GB 文件。哪种方法最优？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1597">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1598">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/336917/is-there-a-way-to-delete-100gb-file-on-linux-without-thrashing-io-load" rel="nofollow" _msttexthash="167803012" _msthash="1599">有没有办法在 Linux 上删除 100GB 文件而不会抖动 IO/负载？</a></li>
<li><a href="https://serverfault.com/questions/183821/rm-on-a-directory-with-millions-of-files" rel="nofollow" _msttexthash="61483617" _msthash="1600">rm 在包含数百万个文件的目录上</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="79024114" _msthash="1601">解释 Linux 中的中断和中断处理程序。</b></summary><br>
<p dir="auto" _msttexthash="925319928" _msthash="1602">下面是低级处理的高级视图。我正在描述一个简单的典型架构，真实的架构可能更复杂，或者以不同的方式有所不同，在这个细节级别上并不重要。</p>
<p dir="auto" _msttexthash="1099144215" _msthash="1603">发生<strong _istranslated="1">中断</strong>时，处理器会查看中断是否被屏蔽。如果是，则在取消屏蔽之前不会发生任何事情。当中断被取消屏蔽时，如果有任何待处理的中断，处理器将选择一个中断。</p>
<p dir="auto" _msttexthash="1950230607" _msthash="1604">然后，处理器通过分支到内存中的特定地址来执行中断。该地址的代码称为中断<strong _istranslated="1">处理程序</strong>。当处理器在那里分支时，它会屏蔽中断（因此中断处理程序具有独占控制权）并将一些 registers 的内容保存在某个地方（通常是其他 registers）。</p>
<p dir="auto" _msttexthash="3133755833" _msthash="1605">中断处理程序执行它必须执行的操作，通常是通过与触发中断以发送或接收数据的外围设备通信来执行。如果 timer 引发了中断，则处理程序可能会触发 OS 调度程序，以切换到其他线程。当处理程序完成执行时，它会执行一个特殊的 return-from-interrupt 指令，该指令恢复保存的寄存器并取消屏蔽中断。</p>
<p dir="auto" _msttexthash="472962763" _msthash="1606">中断处理程序必须快速运行，因为它会阻止任何其他中断运行。在 Linux 内核中，中断处理分为两部分：</p>
<ul dir="auto">
<li _msttexthash="596000561" _msthash="1607">“上半部分”是中断处理程序。它执行最低限度的必要操作，通常与硬件通信，并在内核内存中的某个位置设置标志。</li>
<li _msttexthash="1305985122" _msthash="1608">“下半部分” 执行任何其他必要的处理，例如将数据复制到进程内存、更新内核数据结构等。它可能会花费时间，甚至阻塞等待系统的其他部分，因为它在启用中断的情况下运行。</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1609">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/5788/how-is-an-interrupt-handled-in-linux" rel="nofollow" _msttexthash="105097746" _msthash="1610">在 Linux 中如何处理中断？（原文）</a></li>
<li><a href="https://notes.shichao.io/lkd/ch7/" rel="nofollow" _msttexthash="32365541" _msthash="1611">中断和中断处理程序</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="437603127" _msthash="1612">在设计高可用性应用程序时，无论是在架构级别还是在应用程序级别，需要考虑哪些因素？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1613">待完成。</p>
</details>
<details>
<summary><b _msttexthash="62940813" _msthash="1614">索引节点中存储了哪些字段？</b></summary><br>
<p dir="auto" _msttexthash="341969459" _msthash="1615">在 POSIX 系统中，文件具有以下属性，可以通过 stat 系统调用来检索这些属性：</p>
<ul dir="auto">
<li _msttexthash="281762741" _msthash="1616"><strong _istranslated="1">设备 ID</strong>（用于标识包含该文件的设备，即序列号的唯一范围）。
文件序列号</li>
<li _msttexthash="252172973" _msthash="1617"><strong _istranslated="1">文件模式</strong>，用于确定文件类型以及文件的所有者、组和其他人如何访问文件</li>
<li _msttexthash="101528206" _msthash="1618"><strong _istranslated="1">一个链接计数</strong>，指示指向 inode 的硬链接数</li>
<li _msttexthash="29931863" _msthash="1619">文件所有者的用户 <strong _istranslated="1">ID</strong></li>
<li _msttexthash="12257024" _msthash="1620">文件的<strong _istranslated="1">组 ID</strong></li>
<li _msttexthash="107236116" _msthash="1621">如果文件是设备文件，则为该文件的设备 <strong _istranslated="1">ID</strong>。</li>
<li _msttexthash="60827182" _msthash="1622"><strong _istranslated="1">文件大小（</strong>以字节为单位）</li>
<li _msttexthash="1082810339" _msthash="1623"><strong _istranslated="1">时间戳</strong>，告知 inode 本身的上次修改时间（ctime、inode 更改时间）、上次修改的文件内容（mtime、修改时间）和上次访问的时间（atime、访问时间）</li>
<li _msttexthash="19072963" _msthash="1624">首选 <strong _istranslated="1">I/O 块大小</strong></li>
<li _msttexthash="34283262" _msthash="1625">分配给此文件的<strong _istranslated="1">块数</strong></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1626">有用的资源：</p>
<ul dir="auto">
<li><a href="http://www.grymoire.com/Unix/Inodes.html" rel="nofollow" _msttexthash="9079759" _msthash="1627">Inode - 简介</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="379770014" _msthash="1628">普通用户能够读取 <code _istranslated="1">/etc/passwd</code>。这是一个安全漏洞吗？你知道其他密码遮蔽方案吗？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="159839732" _msthash="1629">通常，<em _mstmutation="1" _istranslated="1">经过哈希处理的密码</em>存储在大多数 Linux 系统上：</font><code>/etc/shadow</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>-rw-r----- 1 root shadow 1349 2016-07-03 03:54 /etc/shadow</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="-rw-r----- 1 root shadow 1349 2016-07-03 03:54 /etc/shadow" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="33166211" _msthash="1630">它们存储在 BSD 系统上。</font><code>/etc/master.passwd</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="146901898" _msthash="1631">需要执行身份验证的程序仍需要以权限运行：</font><code>root</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>-rwsr-xr-x 1 root root 42792 2016-02-14 14:13 /usr/bin/passwd</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="-rwsr-xr-x 1 root root 42792 2016-02-14 14:13 /usr/bin/passwd" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="1453364419" _msthash="1632">如果您不喜欢系统上的程序和包含所有哈希密码的单个文件，您可以用 <strong _mstmutation="1" _istranslated="1">Openwall TCB PAM 模块</strong>替换它。这为每个用户提供了自己的文件来存储他们的哈希密码 - 因此，系统上的程序数量可以大大减少。</font><code>setuid root</code><code>setuid root</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1633">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/286654/ordinary-users-are-able-to-read-etc-passwd-is-this-a-security-hole/286657#286657" rel="nofollow" _msttexthash="240765629" _msthash="1634">普通用户都能读到 /etc/passwd，这是安全漏洞吗？（原文）</a></li>
<li><a href="https://www.openwall.com/tcb/" rel="nofollow" _msttexthash="40611467" _msthash="1635">tcb - /etc/shadow 的替代方案</a></li>
<li><a href="https://www.tldp.org/HOWTO/Shadow-Password-HOWTO-2.html" rel="nofollow" _msttexthash="59490821" _msthash="1636">为什么要影子你的 passwd 文件？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="92793961" _msthash="1637">使用 systemd 而不是 SysV init 有哪些好处？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1638">待完成。</p>
</details>
<details>
<summary><b _msttexthash="67333838" _msthash="1639">每次修改文件时如何运行 command？</b></summary><br>
<p dir="auto" _msttexthash="11876891" _msthash="1640">例如：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">while</span> inotifywait -e close_write filename <span class="pl-k">;</span> <span class="pl-k">do</span>

  <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>changed<span class="pl-pds">"</span></span> <span class="pl-k">&gt;&gt;</span> /var/log/changed

<span class="pl-k">done</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="while inotifywait -e close_write filename ; do

  echo &quot;changed&quot; >> /var/log/changed

done" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="104656604" _msthash="1641">您需要复制大量数据。解释最有效的方法。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1642">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1643">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/43014/copying-a-large-directory-tree-locally-cp-or-rsync" rel="nofollow" _msttexthash="90849512" _msthash="1644">在本地复制大型目录树？cp 还是 rsync？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="72257211" _msthash="1645">请介绍一下 LVM 的危险和注意事项。</b></summary><br>
<p dir="auto"><strong _msttexthash="23354084" _msthash="1646">使用 LVM 的风险</strong></p>
<ul dir="auto">
<li _msttexthash="171939079" _msthash="1647">容易受到 SSD 或 VM 虚拟机管理程序的写入缓存问题的影响</li>
<li _msttexthash="123701097" _msthash="1648">由于磁盘上的结构更复杂，因此更难恢复数据</li>
<li _msttexthash="54437929" _msthash="1649">更难正确调整文件系统大小</li>
<li _msttexthash="69649307" _msthash="1650">快照很难使用、速度慢且有问题</li>
<li _msttexthash="126447373" _msthash="1651">鉴于这些问题，需要一些技能才能正确配置</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1652">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/279571/lvm-dangers-and-caveats" rel="nofollow" _msttexthash="76597339" _msthash="1653">LVM 危险和注意事项（原版）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="713831911" _msthash="1654">你公司的 Python 开发团队有一个两难的选择：uwsgi 还是 gunicorn。从管理员的角度来看，每种解决方案的优缺点是什么？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1655">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1656">有用的资源：</p>
<ul dir="auto">
<li><a href="https://blog.kgriffs.com/2012/12/18/uwsgi-vs-gunicorn-vs-node-benchmarks.html" rel="nofollow" _msttexthash="187509712" _msthash="1657">uWSGI与Gunicorn之对比，或者如何让Python比Node运行得更快</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="169068211" _msthash="1658">如果 <code _istranslated="1">kill -9</code> 不起作用怎么办？描述使用 SIGKILL 不足的异常。</b></summary><br>
<p dir="auto"><code>kill -9</code> (<code>SIGKILL</code><font _mstmutation="1" _msttexthash="1343671433" _msthash="1659">） 始终有效，前提是您有权终止该进程。基本上，要么进程必须由你启动，而不是 setuid 或 setgid，要么你必须是 root。有一个例外：即使是 root 也无法向 PID 1（init 进程）发送致命信号。</font></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2390051430" _msthash="1660">但是，不能保证立即工作。所有信号（包括 ）都是异步传递的：内核可能需要一些时间来传递它们。通常，传递信号最多需要几微秒，正好是目标获得时间片所需的时间。但是，如果目标已阻止信号，则信号将排队，直到目标取消阻止它。</font><code>kill -9</code><code>SIGKILL</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="339158911" _msthash="1661">通常，进程无法阻止 。但内核代码可以，并且进程在调用系统调用时执行内核代码。</font><code>SIGKILL</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="378041196" _msthash="1662">在系统调用中阻塞的进程处于不间断休眠状态。or 命令将 （在大多数 unices） 中以状态 <strong _mstmutation="1" _istranslated="1">D</strong> 显示它。</font><code>ps</code><code>top</code></p>
<p dir="auto" _msttexthash="516278971" _msthash="1663">要删除 <strong _istranslated="1">D</strong> 状态进程，由于它是不可中断的，因此只有机器重启才能解决问题，以防系统没有自动处理它。</p>
<p dir="auto" _msttexthash="631113353" _msthash="1664">通常，进程长时间处于 <strong _istranslated="1">D</strong> 状态的可能性很小。如果是这样，那么系统中就有东西没有得到妥善处理。这也可能是一个潜在的 bug。</p>
<p dir="auto" _msttexthash="1412918533" _msthash="1665">长时间不间断休眠的一个典型例子是，当服务器没有响应时，进程通过 NFS 访问文件;现代实现往往不会施加不间断的睡眠（例如，在 Linux 下，intr 挂载选项允许信号中断 NFS 文件访问）。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2714540738" _msthash="1666">有时，您可能会在 or 输出中看到标记为 <strong _mstmutation="1" _istranslated="1">Z</strong>（或 <strong _mstmutation="1" _istranslated="1">Linux 下的 H</strong>）的条目。从技术上讲，这些不是进程，它们是僵尸进程，它们只不过是进程表中的一个条目，可以保留下来，以便可以通知父进程其子进程的死亡。当父进程注意（或死亡）时，它们会消失。</font><code>ps</code><code>top</code></p>
<p dir="auto" _msttexthash="20684521" _msthash="1667">摘要例外：</p>
<ul dir="auto">
<li _msttexthash="236236013" _msthash="1668">无法杀死僵尸进程，因为它们已经死了，正在等待其父进程收割它们</li>
<li _msttexthash="127230389" _msthash="1669">处于 blocked 状态的进程在再次唤醒之前不会死亡</li>
<li _msttexthash="521263522" _msthash="1670">init 进程很特殊：它不会获得它不想处理的信号，因此它可以忽略 <strong _istranslated="1">SIGKILL。</strong>此异常的一个例外是在 Linux 上对 init 进行 ptrace 时</li>
<li _msttexthash="931054709" _msthash="1671">即使发送了 <strong _istranslated="1">SIGKILL，</strong>不间断休眠的进程也可能不会终止（并释放其资源）。这是可能必须重新启动 Unix 系统以解决临时软件问题的少数情况之一</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1672">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/5642/what-if-kill-9-does-not-work" rel="nofollow" _msttexthash="120308968" _msthash="1673">如果 kill -9 不起作用怎么办？（原文）</a></li>
<li><a href="https://serverfault.com/questions/458261/how-to-kill-a-process-in-linux-if-kill-9-has-no-effect" rel="nofollow" _msttexthash="136000241" _msthash="1674">如果 kill -9 不起作用，如何在 Linux 中杀死一个进程</a></li>
<li><a href="https://unix.stackexchange.com/questions/8916/when-should-i-not-kill-9-a-process" rel="nofollow" _msttexthash="78921349" _msthash="1675">什么时候不应该杀死 -9 一个进程？</a></li>
<li><a href="https://major.io/2010/03/18/sigterm-vs-sigkill/" rel="nofollow" _msttexthash="3829917" _msthash="1676">SIGTERM 与 SIGKILL</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="181558767" _msthash="1677"><code _istranslated="1">nohup</code>、<code _istranslated="1">disown</code> 和 <code _istranslated="1">&amp;</code> 之间的区别。一起使用时会发生什么？</b></summary><br>
<ul dir="auto">
<li><code>&amp;</code><font _mstmutation="1" _msttexthash="242580273" _msthash="1678">将作业置于后台，即使其在尝试读取输入时阻塞，并使 shell 不等待其完成</font></li>
<li><code>disown</code><font _mstmutation="1" _msttexthash="1252003402" _msthash="1679">从 shell 的 Job Control 中删除该进程，但仍将其保持连接到终端。结果之一是 shell 不会向它发送 <strong _mstmutation="1" _istranslated="1">SIGHUP。</strong>显然，它只能应用于后台作业，因为在前台作业运行时无法输入它</font></li>
<li><code>nohup</code><font _mstmutation="1" _msttexthash="1781042510" _msthash="1680">断开进程与终端的连接，将其输出重定向到 <strong _mstmutation="1" _istranslated="1">SIGHUP 并使其免受 SIGHUP</strong> 的影响。其中一个效果（命名的）是该进程不会收到任何发送的 <strong _mstmutation="1" _istranslated="1">SIGHUP。</strong>它完全独立于 job control，原则上也可以用于前台 jobs（尽管这不是很有用）</font><code>nohup.out</code></li>
</ul>
<p dir="auto" _msttexthash="464427587" _msthash="1681">如果同时使用这三者，则进程将在后台运行，从 shell 的作业控制中删除，并有效地与终端断开连接。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1682">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/3886/difference-between-nohup-disown-and" rel="nofollow" _msttexthash="106359318" _msthash="1683">nohup、disown 和 &amp; （原版） 之间的区别</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="486522439" _msthash="1684">使用 <code _istranslated="1">chroot</code> 的主要优点是什么？我们何时以及为何使用它？在 chroot 环境中挂载 dev、proc、sys 的目的是什么？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1023034051" _msthash="1685">拥有 chroot 环境的一个优点是文件系统与物理主机完全隔离。 在文件系统内部有一个单独的文件系统，不同之处在于它使用新创建的 root（/） 作为其根目录。</font><code>chroot</code></p>
<p dir="auto" _msttexthash="944167523" _msthash="1686">chroot jail 是一种将进程及其子进程与系统其余部分隔离开来的方法。它应该仅用于不以 root 身份运行的进程，因为 root 用户可以非常容易地越狱。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="3046500574" _msthash="1687">其思路是创建一个目录树，您可以在其中复制或链接进程运行所需的所有系统文件。然后，使用 system 调用将根目录更改为此新树的底部，并启动在该 chroot 环境中运行的进程。由于它实际上无法引用修改后的根之外的路径，因此它无法对这些位置恶意执行操作（读/写等）。</font><code>chroot()</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1291053855" _msthash="1688">在 Linux 上，使用 bind mounts 是填充 chroot 树的好方法。使用它，您可以拉入文件夹，例如 和 同时不拉入 ，例如。只需将你想要的目录树绑定到你在 jail 目录中创建的目录即可。</font><code>/lib</code><code>/usr/lib</code><code>/usr</code></p>
<p dir="auto" _msttexthash="39361738" _msthash="1689">Chroot 环境可用于：</p>
<ul dir="auto">
<li _msttexthash="13607451" _msthash="1690">重新安装 Bootloader</li>
<li _msttexthash="27504308" _msthash="1691">重置忘记的密码</li>
<li _msttexthash="64217387" _msthash="1692">执行内核升级（或降级）</li>
<li _msttexthash="6140446" _msthash="1693">重建 initramdisk</li>
<li _msttexthash="4401020" _msthash="1694">修复 <strong _istranslated="1">/etc/fstab</strong></li>
<li _msttexthash="72243795" _msthash="1695">使用 Package Manager 重新安装软件包</li>
<li _msttexthash="11057280" _msthash="1696">无论什么</li>
</ul>
<p dir="auto" _msttexthash="381658888" _msthash="1697">在 chroot 环境中工作时，需要挂载一些特殊的文件系统，以便所有程序都能正常工作。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="151168108" _msthash="1698">限制是 ，默认情况下不挂载，但许多任务都需要 。</font><code>/dev</code><code>/sys</code><code>/proc</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1699">有用的资源：</p>
<ul dir="auto">
<li><a href="https://medium.com/@itseranga/chroot-316dc3c89584" rel="nofollow" _msttexthash="21760830" _msthash="1700">一切都与 Chroot 有关</a></li>
<li><a href="http://www.unixwiz.net/techtips/chroot-practices.html" rel="nofollow" _msttexthash="82547621" _msthash="1701">UNIX chroot（） 操作的最佳实践</a></li>
<li><a href="https://askubuntu.com/questions/32418/is-there-an-easier-way-to-chroot-than-bind-mounting" rel="nofollow" _msttexthash="95754594" _msthash="1702">有没有比绑定挂载更简单的 chroot 方法？</a></li>
<li><a href="https://superuser.com/questions/111152/whats-the-proper-way-to-prepare-chroot-to-recover-a-broken-linux-installation" rel="nofollow" _msttexthash="173546451" _msthash="1703">准备 chroot 以恢复损坏的 Linux 安装的正确方法是什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="240309082" _msthash="1704">什么是分段错误（段错误），如何确定导致这些错误的原因？</b></summary><br>
<p dir="auto" _msttexthash="580271406" _msthash="1705"><strong _istranslated="1">分段错误</strong>（又名 <em _istranslated="1">segfault</em>）是导致程序崩溃的常见情况。段错误是由程序尝试读取或写入非法内存位置引起的。</p>
<p dir="auto" _msttexthash="57816135" _msthash="1706">程序内存分为不同的部分：</p>
<ul dir="auto">
<li _msttexthash="28827318" _msthash="1707">程序指令的文本段</li>
<li _msttexthash="82702516" _msthash="1708">在编译时定义的变量和数组的数据段</li>
<li _msttexthash="160556461" _msthash="1709">子例程和函数中定义的临时（或自动）变量的堆栈段</li>
<li><font _mstmutation="1" _msttexthash="222259323" _msthash="1710">一个堆段，用于在运行时由函数分配的变量，例如 （在 C 中）</font><code>malloc</code></li>
</ul>
<p dir="auto" _msttexthash="2485149030" _msthash="1711">在实践中，段错误几乎总是由于尝试读取或写入不存在的数组元素、在使用指针之前未正确定义指针或（在 C 程序中）意外使用变量的值作为地址。因此，当进程 A 读取内存位置0x877时，它会读取驻留在 RAM 中不同物理位置的信息，而不是进程 B 读取自己的0x877。</p>
<p dir="auto" _msttexthash="306102316" _msthash="1712">所有现代操作系统都支持并使用分段，因此所有操作系统都可能产生分段错误。</p>
<p dir="auto" _msttexthash="105846429" _msthash="1713">在以下情况下，也可能发生分段错误：</p>
<ul dir="auto">
<li _msttexthash="149911957" _msthash="1714">一个有缺陷的程序/命令，只能通过应用补丁来修复</li>
<li _msttexthash="218430875" _msthash="1715">在 C 编程下，当您尝试访问超出数组末尾的数组时，它也会出现</li>
<li><font _mstmutation="1" _msttexthash="380866551" _msthash="1716">在 chroot 的 jail 中，当缺少关键的共享库、配置文件或条目时，可能会发生这种情况</font><code>/dev/</code></li>
<li _msttexthash="139160450" _msthash="1717">有时硬件或有故障的内存或驱动程序也会产生问题</li>
<li _msttexthash="216064446" _msthash="1718">为所有计算机设备保持建议的环境（过热也会导致此问题）</li>
</ul>
<p dir="auto" _msttexthash="150044063" _msthash="1719">要调试此类错误，请尝试以下一种或所有方法：</p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="20514663" _msthash="1720">启用 Core Files：</font><code>$ ulimit -c unlimited</code></li>
<li><font _mstmutation="1" _msttexthash="22283560" _msthash="1721">重现崩溃：</font><code>$ ./&lt;program&gt;</code></li>
<li><font _mstmutation="1" _msttexthash="40092286" _msthash="1722">使用 gdb 调试崩溃：</font><code>$ gdb &lt;program&gt; [core file]</code></li>
<li><font _mstmutation="1" _msttexthash="113991189" _msthash="1723">或者运行以获取带有回溯、加载的库等的报告</font><code>LD_PRELOAD=...path-to.../libSegFault.so &lt;program&gt;</code></li>
</ul>
<p dir="auto" _msttexthash="8617557" _msthash="1724">也：</p>
<ul dir="auto">
<li _msttexthash="55505099" _msthash="1725">确保安装和配置正确的硬件</li>
<li _msttexthash="83531851" _msthash="1726">始终应用所有补丁并使用更新的系统</li>
<li _msttexthash="55819218" _msthash="1727">确保所有依赖项都安装在 Jail 中</li>
<li _msttexthash="102738818" _msthash="1728">为支持的服务（如 Apache）启用核心转储</li>
<li><font _mstmutation="1" _msttexthash="121834973" _msthash="1729">use which 是一个有用的诊断、指导和调试工具</font><code>strace</code></li>
</ul>
<p dir="auto"><font _mstmutation="1" _msttexthash="1408238260" _msthash="1730">有时，分段错误不是由程序中的错误引起的，而是由系统内存限制设置得太低引起的。通常，导致此类问题（堆栈溢出）的是堆栈大小的限制。要检查内存限制，请使用 bash 中的命令。</font><code>ulimit</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1731">有用的资源：</p>
<ul dir="auto">
<li><a href="https://kb.iu.edu/d/aqsj" rel="nofollow" _msttexthash="282326382" _msthash="1732">什么是分段错误（段错误），如何确定导致它们的原因？（原文）</a></li>
<li><a href="https://stackoverflow.com/questions/3200526/what-is-a-segmentation-fault-on-linux" rel="nofollow" _msttexthash="67502539" _msthash="1733">Linux 上的分段错误是什么？</a></li>
<li><a href="https://unix.stackexchange.com/questions/296641/segmentation-fault-when-calling-a-recursive-bash-function" rel="nofollow" _msttexthash="76038781" _msthash="1734">调用递归 bash 函数时出现分段错误</a></li>
<li><a href="http://web.mit.edu/10.001/Web/Tips/tips_on_segmentation.html" rel="nofollow" _msttexthash="31254665" _msthash="1735">排查分段冲突/故障</a></li>
<li><a href="https://stackoverflow.com/questions/18706496/can-one-use-libsegfault-so-to-get-backtraces-for-sigabrt" rel="nofollow" _msttexthash="119981654" _msthash="1736">可以使用 libSegFault.so 来获取 SIGABRT 的回溯吗？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="303065113" _msthash="1737">其中一个进程运行缓慢。如何检查已经运行了多长时间以及您将使用哪些工具？</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1738">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1739">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/7870/how-to-check-how-long-a-process-has-been-running" rel="nofollow" _msttexthash="100520342" _msthash="1740">如何检查进程已经运行了多长时间？</a></li>
<li><a href="https://www.cyberciti.biz/faq/how-to-check-how-long-a-process-has-been-running/" rel="nofollow" _msttexthash="95085601" _msthash="1741">Linux 进程已经运行了多长时间？</a></li>
<li><a href="https://stackoverflow.com/questions/42677724/how-to-see-system-call-that-executed-in-current-time-by-process" rel="nofollow" _msttexthash="129370254" _msthash="1742">如何查看进程在当前时间执行的系统调用？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="73672495" _msthash="1743">Linux 中的文件描述符是什么？</b></summary><br>
<p dir="auto" _msttexthash="2029088412" _msthash="1744">在 Unix 和相关计算机操作系统中，文件描述符（FD，不太常见的 fildes）是用于访问文件或其他输入/输出资源（例如管道或网络套接字）的抽象指示符（句柄）。文件描述符构成了 POSIX 应用程序编程接口的一部分。</p>
</details>
<details>
<summary><b _msttexthash="269656257" _msthash="1745">您建议哪种额外馈送随机熵池的方式来生成随机密码？如何改进它？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="124449689" _msthash="1746">您应该使用 ，而不是 。和 之间的两个区别是：</font><code>/dev/urandom</code><code>/dev/random</code><code>/dev/random</code><code>/dev/urandom</code></p>
<ul dir="auto">
<li>
<p dir="auto"><code>/dev/random</code><font _mstmutation="1" _msttexthash="773900023" _msthash="1747"><em _mstmutation="1" _istranslated="1">在信息理论上安全的算法</em>上下文中，理论上可能更好。这种算法对今天的技术、明天的技术、外星人使用的技术以及上帝自己的 iPad 都是安全的。</font></p>
</li>
<li>
<p dir="auto"><code>/dev/urandom</code><font _mstmutation="1" _msttexthash="1684085195" _msthash="1748">不会阻塞，但可能会阻塞。 保持“它还有多少熵”的计数器，假设它产生的任何位都是丢失的熵位。阻止会导致非常实际的问题，例如，服务器在自动安装后无法启动，因为它在创建 SSH 服务器密钥时停滞不前。</font><code>/dev/random</code><code>/dev/random</code></p>
</li>
</ul>
<p dir="auto"><font _mstmutation="1" _msttexthash="76920636" _msthash="1749">所以你想用和停下来担心这个熵业务。</font><code>/dev/urandom</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="6820881028" _msthash="1750">诀窍是，永远不要阻塞，即使它应该阻塞：只要它自上次启动以来收到了足够字节的 “初始熵” （32 个随机字节就足够了） 就是安全的。普通的 Linux 安装会在安装时创建一个随机种子 （from ），并将其保存在磁盘上。每次重新启动时，将读取种子并将其馈送到 ，并立即生成 （from ） 新种子来替换它。因此，这保证了它始终具有足够的初始熵来产生加密强度高的 alea，完全足以用于任何普通的加密工作，包括密码生成。</font><code>/dev/urandom</code><code>/dev/urandom</code><code>/dev/random</code><code>/dev/urandom</code><code>/dev/urandom</code><code>/dev/urandom</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="5570372938" _msthash="1751">如果这些守护进程中的任何一个在所有可用熵都用尽后需要随机性，它们可能会暂停等待更多，这可能会导致您的应用程序出现过多的延迟。更糟糕的是，由于大多数现代应用程序要么使用在程序初始化时创建的自己的随机种子，要么使用以避免阻塞，因此您的应用程序将遭受质量较低的随机数据。这可能会影响安全通信的完整性，并可能增加对您的私人数据进行加密分析的机会。</font><code>/dev/urandom</code></p>
<p dir="auto" _msttexthash="112335015" _msthash="1752">要检查当前可用的熵字节数，请使用：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>cat /proc/sys/kernel/random/entropy_avail</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="cat /proc/sys/kernel/random/entropy_avail" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="6130956" _msthash="1753">RNG 工具</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="38046788" _msthash="1754">Fedora/Rh/Centos 类型： .</font><code>sudo yum install rng-tools</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="46034274" _msthash="1755">在 deb types： 上设置它。</font><code>sudo apt-get install rng-tools</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="51070422" _msthash="1756">然后在生成密钥之前运行。</font><code>sudo rngd -r /dev/urandom</code></p>
<p dir="auto"><strong _msttexthash="2400307" _msthash="1757">有</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="71736509" _msthash="1758">Fedora/Rh/Centos 类型：并添加到 .</font><code>sudo yum install haveged</code><code>/usr/local/sbin/haveged -w 1024</code><code>/etc/rc.local</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="86426704" _msthash="1759">在 deb types： 上，add to 进行设置。</font><code>sudo apt-get install haveged</code><code>DAEMON_ARGS="-w 1024"</code><code>/etc/default/haveged</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="51070422" _msthash="1760">然后在生成密钥之前运行。</font><code>sudo rngd -r /dev/urandom</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1761">有用的资源：</p>
<ul dir="auto">
<li><a href="https://security.stackexchange.com/questions/89/feeding-dev-random-entropy-pool" rel="nofollow" _msttexthash="94894410" _msthash="1762">喂养 /dev/random 熵池？（原文）</a></li>
<li><a href="https://serverfault.com/questions/214605/gpg-does-not-have-enough-entropy" rel="nofollow" _msttexthash="28122939" _msthash="1763">GPG 没有足够的熵</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="148845827" _msthash="1764"><code _istranslated="1">/sbin/nologin</code>、<code _istranslated="1">/bin/false</code> 和 <code _istranslated="1">/bin/true</code> 之间有什么区别？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="508110538" _msthash="1765">当设置为 shell 时，如果用户使用该 shell 登录，他们将收到一条礼貌的消息，指出“此帐户当前不可用”。</font><code>/sbin/nologin</code></p>
<p dir="auto"><code>/bin/false</code><font _mstmutation="1" _msttexthash="2327914524" _msthash="1766">只是一个立即退出的二进制文件，在调用时返回 false，因此当使用 false 作为 shell 的人登录时，当 false 退出时，他们会立即注销。将 shell 设置为 具有不允许某人登录的相同效果，但 false 可能用作 true 的约定，因为它更擅长传达 person 没有 shell 的概念。</font><code>/bin/true</code></p>
<p dir="auto"><code>/bin/nologin</code><font _mstmutation="1" _msttexthash="1178048807" _msthash="1767">是更用户友好的选项，会向尝试登录的用户提供可自定义的消息，因此理论上您会想要使用它;但是 nologin 和 false 的最终结果都是一样的，即某人没有 shell 并且无法通过 SSH 进入。</font></p>
<p dir="auto" _msttexthash="28005783" _msthash="1768">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/10852/whats-the-difference-between-sbin-nologin-and-bin-false" rel="nofollow" _msttexthash="52763555" _msthash="1769">/sbin/nologin 和 /bin/false 有什么区别</a></li>
<li><a href="https://superuser.com/questions/1183311/why-do-some-system-users-have-usr-bin-false-as-their-shell" rel="nofollow" _msttexthash="120873545" _msthash="1770">为什么一些系统用户将 /usr/bin/false 作为他们的 shell？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="93698657" _msthash="1771">哪些症状可能受到磁盘瓶颈的影响？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1772">待完成。</p>
</details>
<details>
<summary><b _msttexthash="160307290" _msthash="1773">在 FreeBSD 中<code _istranslated="1">，错误 maxproc limit exceeded by uid %i ...</code> 是什么意思？</b></summary><br>
<p dir="auto" _msttexthash="227694103" _msthash="1774">FreeBSD 内核一次只允许存在一定数量的进程。该数字基于 <strong _istranslated="1">kern.maxusers</strong> 变量。</p>
<p dir="auto" _msttexthash="1148839900" _msthash="1775"><strong _istranslated="1">kern.maxusers</strong> 还会影响各种其他内核内限制，例如网络缓冲区。如果机器负载较重，请增加 <strong _istranslated="1">kern.maxusers</strong>。除了最大进程数之外，这将增加这些其他系统限制。</p>
<p dir="auto" _msttexthash="751093005" _msthash="1776">要调整 <strong _istranslated="1">kern.maxusers</strong> 值，请参阅手册的 File/Process Limits 部分。虽然该部分引用打开的文件，但相同的限制适用于进程。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="360251489" _msthash="1777">如果机器负载较轻，但运行着大量的进程，请通过在 <strong _mstmutation="1" _istranslated="1">中定义 kern.maxproc</strong> 可调参数来调整它。</font><code>/boot/loader.conf</code></p>
</details>
<details>
<summary><b _msttexthash="102354382" _msthash="1778">如何逐行读取文件并将值分配给变量？</b></summary><br>
<p dir="auto" _msttexthash="11876891" _msthash="1779">例如：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">while</span> IFS=<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> <span class="pl-c1">read</span> -r line <span class="pl-k">||</span> [[ <span class="pl-k">-n</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$line</span><span class="pl-pds">"</span></span> ]] <span class="pl-k">;</span> <span class="pl-k">do</span>
  <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>Text read from file: <span class="pl-smi">$line</span><span class="pl-pds">"</span></span>
<span class="pl-k">done</span> <span class="pl-k">&lt;</span> <span class="pl-s"><span class="pl-pds">"</span>/path/to/filename<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="while IFS='' read -r line || [[ -n &quot;$line&quot; ]] ; do
  echo &quot;Text read from file: $line&quot;
done < &quot;/path/to/filename&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="14734499" _msthash="1780">解释：</p>
<ul dir="auto">
<li><code>IFS=''</code><font _mstmutation="1" _msttexthash="72590063" _msthash="1781">（或 ） 防止修剪前导/尾随空格。</font><code>IFS=</code></li>
<li><code>-r</code><font _mstmutation="1" _msttexthash="40084447" _msthash="1782">防止解释反斜杠转义。</font></li>
<li><code>|| [[ -n $line ]]</code><font _mstmutation="1" _msttexthash="315218787" _msthash="1783">防止最后一行不以 a 结尾而被忽略（因为 read 在遇到 EOF 时返回非零退出代码）。</font><code>\n</code></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1784">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/10929453/read-a-file-line-by-line-assigning-the-value-to-a-variable" rel="nofollow" _msttexthash="60266427" _msthash="1785">逐行读取文件，为变量赋值</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="326234649" _msthash="1786">客户报告说，他的网站在 ssllabs 扫描程序中获得了 B 级。准备 ssl 配置的最佳实践清单。***</b></summary><br>
<p dir="auto" _msttexthash="28005783" _msthash="1787">有用的资源：</p>
<ul dir="auto">
<li><a href="https://michael.lustfield.net/nginx/getting-a-perfect-ssl-labs-score" rel="nofollow" _msttexthash="29001622" _msthash="1788">获得完美的 SSL Labs 分数</a></li>
<li><a href="https://community.qualys.com/thread/14023" rel="nofollow" _msttexthash="35950980" _msthash="1789">17 个小建议如何提高 ssllabs.com/ssltest/</a></li>
<li><a href="https://stackoverflow.com/questions/41930060/how-do-you-score-a-with-100-on-all-categories-on-ssl-labs-test-with-lets-encry" rel="nofollow" _msttexthash="305626191" _msthash="1790">您如何在 SSL Labs 使用 Let's Encrypt 和 Nginx 进行测试的所有类别中获得 A+ 和 100 分？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="45469905" _msthash="1791">CPU 跳跃是什么意思？</b></summary><br>
<p dir="auto" _msttexthash="777017787" _msthash="1792">操作系统是一件非常忙碌的事情，尤其是当你让它做某事时（甚至你不做）。当我们关注一个活跃的企业环境时，总会有一些事情在发生。</p>
<p dir="auto" _msttexthash="2196063974" _msthash="1793">大多数此类活动是“突发”的，这意味着进程通常是静止的，并且具有短暂的高强度活动。这当然适用于任何类型的基于网络的活动（例如处理 PHP 请求），但也适用于操作系统维护（例如文件系统维护、页面回收、磁盘 I/O 请求）。</p>
<p dir="auto" _msttexthash="304049382" _msthash="1794">如果您假设有很多这样的突发进程，则会收到一个非常不规则且尖峰的 CPU 使用率图。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="126002266" _msthash="1795">如前所述，大量的上下文切换将使情况变得更糟。</font><code>500 - Internal Server Error</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1796">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/32185607/what-does-cpu-jumps-mean" rel="nofollow" _msttexthash="103037480" _msthash="1797">“CPU 跳跃”是什么意思？（原文）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="153854727" _msthash="1798">如何在 Linux 中跟踪系统调用？解释可能的方法。</b></summary><br>
<p dir="auto"><strong _msttexthash="13966628" _msthash="1799">SystemTap 系统</strong></p>
<p dir="auto" _msttexthash="119783209" _msthash="1800">这是最强大的方法。它甚至可以显示 call 参数：</p>
<p dir="auto" _msttexthash="13267618" _msthash="1801">用法：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>sudo apt-get install systemtap
sudo stap -e <span class="pl-s"><span class="pl-pds">'</span>probe syscall.mkdir { printf("%s[%d] -&gt; %s(%s)\n", execname(), pid(), name, argstr) }<span class="pl-pds">'</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="sudo apt-get install systemtap
sudo stap -e 'probe syscall.mkdir { printf(&quot;%s[%d] -> %s(%s)\n&quot;, execname(), pid(), name, argstr) }'" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="44947006" _msthash="1802">然后在另一个终端上：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>sudo rm -rf /tmp/a /tmp/b
mkdir /tmp/a
mkdir /tmp/b</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="sudo rm -rf /tmp/a /tmp/b
mkdir /tmp/a
mkdir /tmp/b" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="21144175" _msthash="1803">输出示例：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>mkdir[4590] -<span class="pl-k">&gt;</span> mkdir(<span class="pl-s"><span class="pl-pds">"</span>/tmp/a<span class="pl-pds">"</span></span>, 0777)
mkdir[4593] -<span class="pl-k">&gt;</span> mkdir(<span class="pl-s"><span class="pl-pds">"</span>/tmp/b<span class="pl-pds">"</span></span>, 0777)</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="mkdir[4590] -> mkdir(&quot;/tmp/a&quot;, 0777)
mkdir[4593] -> mkdir(&quot;/tmp/b&quot;, 0777)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="21473439" _msthash="1804">带有 <code _istranslated="1">-f|-ff</code> 参数的 <code _istranslated="1">strace</code></strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="70562609" _msthash="1805">您可以使用 and 选项。像这样：</font><code>-f</code><code>-ff</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>strace -f -e trace=process bash -c <span class="pl-s"><span class="pl-pds">'</span>ls; :</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="strace -f -e trace=process bash -c 'ls; :" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li>
<p dir="auto"><code>-f</code><font _mstmutation="1" _msttexthash="348233886" _msthash="1806">：跟踪子进程，因为它们是由于 fork（2） 系统调用而由当前跟踪的进程创建的。</font></p>
</li>
<li>
<p dir="auto"><code>-ff</code><font _mstmutation="1" _msttexthash="984860279" _msthash="1807">：如果 filename 选项有效，则每个进程跟踪都会写入 filename.pid，其中 pid 是每个进程的数字进程 ID。这与 不兼容，因为不会保留每个进程的计数。</font><code>-o</code><code>-c</code></p>
</li>
</ul>
<p dir="auto"><strong _msttexthash="93293525" _msthash="1808"><code _istranslated="1">ltrace -S</code> 同时显示系统调用和库调用</strong></p>
<p dir="auto" _msttexthash="183576354" _msthash="1809">因此，这个很棒的工具可以进一步了解可执行文件正在做什么。</p>
<p dir="auto"><strong _msttexthash="40673035" _msthash="1810"><code _istranslated="1">ftrace</code> 最小可运行示例</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="102586705" _msthash="1811">下面是一个最小的可运行示例。运行 ：</font><code>sudo</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#!</span>/bin/sh</span>
<span class="pl-c1">set</span> -eux

d=debug/tracing

mkdir -p debug
<span class="pl-k">if</span> <span class="pl-k">!</span> mountpoint -q debug<span class="pl-k">;</span> <span class="pl-k">then</span>
  mount -t debugfs nodev debug
<span class="pl-k">fi</span>

<span class="pl-c"><span class="pl-c">#</span> Stop tracing.</span>
<span class="pl-c1">echo</span> 0 <span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${d}</span>/tracing_on<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> Clear previous traces.</span>
<span class="pl-c1">echo</span> <span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${d}</span>/trace<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> Find the tracer name.</span>
cat <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${d}</span>/available_tracers<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> Disable tracing functions, show only system call events.</span>
<span class="pl-c1">echo</span> nop <span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${d}</span>/current_tracer<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> Find the event name with.</span>
grep mkdir <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${d}</span>/available_events<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> Enable tracing mkdir.</span>
<span class="pl-c"><span class="pl-c">#</span> Both statements below seem to do the exact same thing,</span>
<span class="pl-c"><span class="pl-c">#</span> just with different interfaces.</span>
<span class="pl-c"><span class="pl-c">#</span> https://www.kernel.org/static/html/v4.18/trace/events.html</span>
<span class="pl-c1">echo</span> sys_enter_mkdir <span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${d}</span>/set_event<span class="pl-pds">"</span></span>
<span class="pl-c"><span class="pl-c">#</span> echo 1 &gt; "${d}/events/syscalls/sys_enter_mkdir/enable"</span>

<span class="pl-c"><span class="pl-c">#</span> Start tracing.</span>
<span class="pl-c1">echo</span> 1 <span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${d}</span>/tracing_on<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> Generate two mkdir calls by two different processes.</span>
rm -rf /tmp/a /tmp/b
mkdir /tmp/a
mkdir /tmp/b

<span class="pl-c"><span class="pl-c">#</span> View the trace.</span>
cat <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${d}</span>/trace<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> Stop tracing.</span>
<span class="pl-c1">echo</span> 0 <span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${d}</span>/tracing_on<span class="pl-pds">"</span></span>

umount debug</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="#!/bin/sh
set -eux

d=debug/tracing

mkdir -p debug
if ! mountpoint -q debug; then
  mount -t debugfs nodev debug
fi

# Stop tracing.
echo 0 > &quot;${d}/tracing_on&quot;

# Clear previous traces.
echo > &quot;${d}/trace&quot;

# Find the tracer name.
cat &quot;${d}/available_tracers&quot;

# Disable tracing functions, show only system call events.
echo nop > &quot;${d}/current_tracer&quot;

# Find the event name with.
grep mkdir &quot;${d}/available_events&quot;

# Enable tracing mkdir.
# Both statements below seem to do the exact same thing,
# just with different interfaces.
# https://www.kernel.org/static/html/v4.18/trace/events.html
echo sys_enter_mkdir > &quot;${d}/set_event&quot;
# echo 1 > &quot;${d}/events/syscalls/sys_enter_mkdir/enable&quot;

# Start tracing.
echo 1 > &quot;${d}/tracing_on&quot;

# Generate two mkdir calls by two different processes.
rm -rf /tmp/a /tmp/b
mkdir /tmp/a
mkdir /tmp/b

# View the trace.
cat &quot;${d}/trace&quot;

# Stop tracing.
echo 0 > &quot;${d}/tracing_on&quot;

umount debug" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="21144175" _msthash="1812">输出示例：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> tracer: nop</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span>                              _-----=&gt; irqs-off https://sourceware.org/systemtap/documentation.html</span>
<span class="pl-c"><span class="pl-c">#</span>                             / _----=&gt; need-resched</span>
<span class="pl-c"><span class="pl-c">#</span>                            | / _---=&gt; hardirq/softirq</span>
<span class="pl-c"><span class="pl-c">#</span>                            || / _--=&gt; preempt-depth</span>
<span class="pl-c"><span class="pl-c">#</span>                            ||| /     delay</span>
<span class="pl-c"><span class="pl-c">#</span>           TASK-PID   CPU#  ||||    TIMESTAMP  FUNCTION</span>
<span class="pl-c"><span class="pl-c">#</span>              | |       |   ||||       |         |</span>
            mkdir-5619  [005] .... 10249.262531: sys_mkdir(pathname: 7fff93cbfcb0, mode: 1ff)
            mkdir-5620  [003] .... 10249.264613: sys_mkdir(pathname: 7ffcdc91ecb0, mode: 1ff)</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# tracer: nop
#
#                              _-----=> irqs-off https://sourceware.org/systemtap/documentation.html
#                             / _----=> need-resched
#                            | / _---=> hardirq/softirq
#                            || / _--=> preempt-depth
#                            ||| /     delay
#           TASK-PID   CPU#  ||||    TIMESTAMP  FUNCTION
#              | |       |   ||||       |         |
            mkdir-5619  [005] .... 10249.262531: sys_mkdir(pathname: 7fff93cbfcb0, mode: 1ff)
            mkdir-5620  [003] .... 10249.264613: sys_mkdir(pathname: 7ffcdc91ecb0, mode: 1ff)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="519071319" _msthash="1813">这种方法的一个很酷的地方是，它同时显示系统上所有进程的函数调用，尽管您也可以使用 过滤感兴趣的 PID。</font><code>set_ftrace_pid</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1814">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/29840213/how-do-i-trace-a-system-call-in-linux" rel="nofollow" _msttexthash="134801381" _msthash="1815">如何在 Linux 中跟踪系统调用？（原文）</a></li>
<li><a href="https://stackoverflow.com/questions/27608752/does-ftrace-allow-capture-of-system-call-arguments-to-the-linux-kernel-or-only" rel="nofollow" _msttexthash="344512922" _msthash="1816">ftrace 是否允许捕获 Linux 内核的系统调用参数，还是只允许捕获函数名称？</a></li>
<li><a href="https://stackoverflow.com/questions/52764544/how-to-trace-just-system-call-events-with-ftrace-without-showing-any-other-funct" rel="nofollow" _msttexthash="274597232" _msthash="1817">如何使用 ftrace 仅跟踪系统调用事件而不在 Linux 内核中显示任何其他函数？</a></li>
<li><a href="https://unix.stackexchange.com/questions/226524/what-system-call-is-used-to-load-libraries-in-linux" rel="nofollow" _msttexthash="102560900" _msthash="1818">在 Linux 中加载库使用什么系统调用？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="130312988" _msthash="1819">如何从目录中删除除某些文件之外的所有文件？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="33551206" _msthash="1820">解决方案 1 - 使用 ：</font><code>extglob</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">shopt</span> -s extglob
rm <span class="pl-k">!</span>(textfile.txt<span class="pl-k">|</span>backup.tar.gz<span class="pl-k">|</span>script.php<span class="pl-k">|</span>database.sql<span class="pl-k">|</span>info.txt)</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="shopt -s extglob
rm !(textfile.txt|backup.tar.gz|script.php|database.sql|info.txt)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="33551349" _msthash="1821">解决方案 2 - 使用 ：</font><code>find</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>find <span class="pl-c1">.</span> -type f -not -name <span class="pl-s"><span class="pl-pds">'</span>*txt<span class="pl-pds">'</span></span> -print0 <span class="pl-k">|</span> xargs -0 rm --</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="find . -type f -not -name '*txt' -print0 | xargs -0 rm --" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="120309930" _msthash="1822">如何在 Bash 中检查字符串是否包含子字符串？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="237306888" _msthash="1823">如果使用双括号，您也可以在 case 语句之外使用 （通配符）：</font><code>*</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>string=<span class="pl-s"><span class="pl-pds">'</span>some text<span class="pl-pds">'</span></span>
<span class="pl-k">if</span> [[ <span class="pl-smi">$string</span> <span class="pl-k">=</span> <span class="pl-k">*</span><span class="pl-s"><span class="pl-pds">"</span>My long<span class="pl-pds">"</span></span><span class="pl-k">*</span> ]] <span class="pl-k">;</span> <span class="pl-k">then</span>
  <span class="pl-c1">true</span>
<span class="pl-k">fi</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="string='some text'
if [[ $string = *&quot;My long&quot;* ]] ; then
  true
fi" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="136881771" _msthash="1824">解释 <code _istranslated="1">2&gt;&amp;-</code>、<code _istranslated="1">2&gt;/dev/null</code>、<code _istranslated="1">|&amp;</code><code _istranslated="1">、&amp;&gt;/dev/null</code> 和 <code _istranslated="1">&gt;/dev/null 2&gt;&amp;1</code> 之间的区别。</b></summary><br>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="39088231" _msthash="1825"><strong _mstmutation="1" _istranslated="1">数字 1</strong> = 标准输出（即</font><code>STDOUT</code>)</li>
<li><font _mstmutation="1" _msttexthash="39487760" _msthash="1826"><strong _mstmutation="1" _istranslated="1">数字 2</strong> = 标准误差（即</font><code>STDERR</code>)</li>
<li _msttexthash="142627758" _msthash="1827">如果未明确给出数字，则 shell （bash） 将假定<strong _istranslated="1">数字 1</strong></li>
</ul>
<p dir="auto" _msttexthash="59660094" _msthash="1828">首先，让我们解决这些函数。</p>
<p dir="auto"><code>2&gt;&amp;-</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="477446372" _msthash="1829">此 1 的一般形式是 ，其中 <strong _mstmutation="1" _istranslated="1">“M”</strong> 是文件描述符编号。这将关闭引用的任何文件描述符（即 <strong _mstmutation="1" _istranslated="1">“M”）</strong>的输出。</font><code>M&gt;&amp;-</code></p>
<p dir="auto"><code>2&gt;/dev/null</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="295541311" _msthash="1830">此 1 的一般形式是 ，其中 <strong _mstmutation="1" _istranslated="1">“M”</strong> 是文件描述符编号。这会将文件描述符 <strong _mstmutation="1" _istranslated="1">“M”</strong> 重定向到 。</font><code>M&gt;/dev/null</code><code>/dev/null</code></p>
<p dir="auto"><code>2&gt;&amp;1</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="448450951" _msthash="1831">这个的一般形式是，其中<strong _mstmutation="1" _istranslated="1">“M”</strong>和<strong _mstmutation="1" _istranslated="1">“N”</strong>是文件描述符编号。它将文件描述符 <strong _mstmutation="1" _istranslated="1">“M”</strong> 和 <strong _mstmutation="1" _istranslated="1">“N”</strong> 的输出合并到一个流中。</font><code>M&gt;&amp;N</code></p>
<p dir="auto"><code>|&amp;</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="71449326" _msthash="1832">这只是 的缩写。它是在 Bash 4 中添加的。</font><code>2&gt;&amp;1 |</code></p>
<p dir="auto"><code>&amp;&gt;/dev/null</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="240388993" _msthash="1833">这只是 的缩写。它将文件描述符 2 （） 和描述符 1 （） 重定向到 。</font><code>&gt;/dev/null 2&gt;&amp;1</code><code>STDERR</code><code>STDOUT</code><code>/dev/null</code></p>
<p dir="auto"><code>&gt;/dev/null</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="141195379" _msthash="1834">这只是 的缩写。它将文件描述符 1 （） 重定向到 。</font><code>1&gt;/dev/null</code><code>STDOUT</code><code>/dev/null</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1835">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/70963/difference-between-2-2-dev-null-dev-null-and-dev-null-21" rel="nofollow" _msttexthash="68763968" _msthash="1836">2&gt;&amp;-、2&gt;/dev/null、|&amp;、&amp;&gt;/dev/null 和 &gt;/dev/null 的区别 2&gt;&amp;1</a></li>
<li><a href="http://www.tldp.org/LDP/abs/html/io-redirection.html" rel="nofollow" _msttexthash="23921911" _msthash="1837">第 20 章.I/O 重定向</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="161116631" _msthash="1838">如何将 stderr 和 stdout 重定向到同一行中的不同文件？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="55538002" _msthash="1839">只需将它们添加到一行中即可。</font><code>command 2&gt;&gt; error 1&gt;&gt; output</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="351677560" _msthash="1840">但是，请注意，如果文件已包含数据，则用于追加。而 Ifas 将覆盖文件中的任何现有数据。</font><code>&gt;&gt;</code><code>&gt;</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="44480969" _msthash="1841">所以，如果你不想附加。</font><code>command 2&gt; error 1&gt; output</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="281856900" _msthash="1842">只是为了完成，你可以写 just，因为默认文件描述符是输出。所以 和 是一回事。</font><code>1&gt;</code><code>&gt;</code><code>1&gt;</code><code>&gt;</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="20325916" _msthash="1843">所以，变成 。</font><code>command 2&gt; error 1&gt; output</code><code>command 2&gt; error &gt; output</code></p>
</details>
<details>
<summary><b _msttexthash="760987994" _msthash="1844">在具有 24 个内核的服务器上，平均负载高于 30，但 CPU 显示大约 70% 的空闲状态。这种情况的常见原因之一是？如何调试和修复？</b></summary><br>
<p dir="auto" _msttexthash="812203717" _msthash="1845">如果 cpu 需要等待磁盘读取或写入数据，则涉及磁盘 I/O 的请求可能会大大减慢。I/O 等待 （I/O Wait） 是 CPU 必须在磁盘上等待的时间百分比。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="405347059" _msthash="1846">让我们看看如何通过使用一些终端命令行工具（和 ）来确认磁盘 I/O 是否降低了应用程序性能。</font><code>top</code><code>atop</code><code>iotop</code></p>
<p dir="auto" _msttexthash="22601527" _msthash="1847">调试示例：</p>
<ul dir="auto">
<li _msttexthash="70157529" _msthash="1848">回答 I/O 是否导致系统运行缓慢</li>
<li _msttexthash="34083595" _msthash="1849">查找正在写入的磁盘</li>
<li _msttexthash="38305787" _msthash="1850">查找导致高 I/O 的进程</li>
<li _msttexthash="21632234" _msthash="1851">进程列表<strong _istranslated="1">状态</strong></li>
<li _msttexthash="32816719" _msthash="1852">查找写入过多的文件</li>
<li _msttexthash="186529161" _msthash="1853">您是否看到您的复制进程处于 <strong _istranslated="1">D</strong> 状态，等待 PDFLUSH 完成 I/O 工作？</li>
<li _msttexthash="112995103" _msthash="1854">您是否在磁盘上看到大量的同步写入活动？</li>
</ul>
<p dir="auto" _msttexthash="8617557" _msthash="1855">也：</p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="111075796" _msthash="1856">使用命令 - 加载平均值和 WA（等待时间）</font><code>top</code></li>
<li><font _mstmutation="1" _msttexthash="98063225" _msthash="1857">使用命令监控 DSK（磁盘）I/O 统计信息</font><code>atop</code></li>
<li><font _mstmutation="1" _msttexthash="64972336" _msthash="1858">使用命令实时了解磁盘读/写情况</font><code>iotop</code></li>
</ul>
<p dir="auto" _msttexthash="28608268" _msthash="1859">要提高性能：</p>
<ul dir="auto">
<li _msttexthash="38427480" _msthash="1860">检查驱动器阵列配置</li>
<li _msttexthash="75364900" _msthash="1861">检查磁盘排队算法并对其进行优化</li>
<li _msttexthash="26183261" _msthash="1862">调整常规块 I/O 参数</li>
<li _msttexthash="62982595" _msthash="1863">优化虚拟内存管理以提高 I/O 性能</li>
<li _msttexthash="179478741" _msthash="1864">检查和调整挂载选项和文件系统参数（也负责缓存）</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1865">有用的资源：</p>
<ul dir="auto">
<li><a href="https://haydenjames.io/linux-server-performance-disk-io-slowing-application/" rel="nofollow" _msttexthash="287242696" _msthash="1866">Linux 服务器性能：磁盘 I/O 是否减慢了应用程序的速度？（原文）</a></li>
<li><a href="https://bencane.com/2012/08/06/troubleshooting-high-io-wait-in-linux/" rel="nofollow" _msttexthash="60551829" _msthash="1867">排查 Linux 中的高 I/O 等待问题</a></li>
<li><a href="https://superuser.com/questions/396696/debugging-linux-i-o-latency" rel="nofollow" _msttexthash="21091252" _msthash="1868">调试 Linux I/O 延迟</a></li>
<li><a href="https://unix.stackexchange.com/questions/76970/how-do-pdflush-kjournald-swapd-etc-interoperate" rel="nofollow" _msttexthash="96434260" _msthash="1869">pdflush、kjournald、swapd 等如何互操作？</a></li>
<li><a href="https://thecodeartist.blogspot.com/2012/06/improving-hdd-performance-linux.html" rel="nofollow" _msttexthash="68116373" _msthash="1870">在 Linux 上提高 HDD 速度的 5 种方法</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="187579158" _msthash="1871">如何在 SSH 中强制执行授权方法？在什么情况下它会有用？</b></summary><br>
<p dir="auto" _msttexthash="40785186" _msthash="1872">使用密码强制登录：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ssh -o PreferredAuthentications=password -o PubkeyAuthentication=no user@remote_host</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ssh -o PreferredAuthentications=password -o PubkeyAuthentication=no user@remote_host" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="41738346" _msthash="1873">使用密钥强制登录：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ssh -o PreferredAuthentications=publickey -o PubkeyAuthentication=yes -i id_rsa user@remote_host</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ssh -o PreferredAuthentications=publickey -o PubkeyAuthentication=yes -i id_rsa user@remote_host" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="1874">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/15138/how-to-force-ssh-client-to-use-only-password-auth" rel="nofollow" _msttexthash="98266922" _msthash="1875">如何强制 ssh 客户端只使用密码认证？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="159457103" _msthash="1876">获取 Postgres <code _istranslated="1">的 Getting Too many Open files</code> 错误。如何解决？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="667367246" _msthash="1877">修复了此问题，例如，将默认的 1000 减少到 200。此参数位于 file 中，用于设置每个服务器子进程允许同时打开的最大文件数。</font><code>max_files_per_process</code><code>postgresql.conf</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="294742786" _msthash="1878">通常人们开始编辑文件，但忘记了此文件仅适用于通过 PAM 系统主动登录的用户。</font><code>/etc/security/limits.conf</code></p>
</details>
<details>
<summary><b _msttexthash="249736149" _msthash="1879">在什么情况下 <code _istranslated="1">df</code> 和 <code _istranslated="1">du</code> 可以在可用磁盘空间上不一致？你怎么解决呢？</b></summary><br>
<p dir="auto"><code>du</code><font _mstmutation="1" _msttexthash="393930355" _msthash="1880">检查目录的使用情况，但检查释放的 inode，并且文件在删除后可以保持打开状态并占用空间。</font><code>df</code></p>
<p dir="auto"><strong _msttexthash="11911653" _msthash="1881">解决方案 1</strong></p>
<p dir="auto" _msttexthash="1228482138" _msthash="1882">检查位于 挂载点 下的 文件。通常，如果将目录（比如 sambafs）挂载到已经包含一个或多个文件的文件系统上，则无法查看这些文件，但它们仍然会占用底层磁盘上的空间。</p>
<p dir="auto" _msttexthash="727881596" _msthash="1883">在单用户模式下，我有文件副本将文件转储到我看不到的目录中，除非在单用户模式下（因为其他目录系统正在它们之上挂载）。</p>
<p dir="auto"><strong _msttexthash="11911796" _msthash="1884">解决方案 2</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="665841475" _msthash="1885">另一方面，可能会与硬盘大小不匹配约 50%。这是由于 Apache （httpd） 将已从磁盘中删除的大型日志文件保存在内存中造成的。</font><code>df -h</code><code>du -sh</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="115580101" _msthash="1886">这是通过运行 where is the partition I need to clean up 来追踪的。</font><code>lsof | grep "/var" | grep deleted</code><code>/var</code></p>
<p dir="auto" _msttexthash="36799893" _msthash="1887">输出显示如下行：</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>httpd     32617    nobody  106w      REG        9,4 1835222944     688166 /var/log/apache/awstats_log (deleted)
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="httpd     32617    nobody  106w      REG        9,4 1835222944     688166 /var/log/apache/awstats_log (deleted)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="485678726" _msthash="1888">然后通过重新启动 Apache （） 并清除磁盘空间，通过允许清除已删除文件的锁来解决这种情况。</font><code>service httpd restart</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1889">有用的资源：</p>
<ul dir="auto">
<li><a href="https://linuxshellaccount.blogspot.com/2008/12/why-du-and-df-display-different-values.html" rel="nofollow" _msttexthash="84162390" _msthash="1890">为什么 du 和 df 在 Linux 和 Unix 中显示不同的值</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="47297757" _msthash="1891">加密和哈希有什么区别？</b></summary><br>
<p dir="auto" _msttexthash="994543147" _msthash="1892"><strong _istranslated="1">哈希</strong>：最后，哈希是一种不同于<strong _istranslated="1">加密</strong>的加密安全形式，而<strong _istranslated="1">加密</strong>是一个两步过程，用于首先加密然后解密消息，<strong _istranslated="1">哈希将</strong>消息压缩为不可逆的固定长度值或哈希。</p>
</details>
<details>
<summary><b _msttexthash="63691134" _msthash="1893">根证书应该放在服务器上吗？</b></summary><br>
<p dir="auto" _msttexthash="1349834720" _msthash="1894"><strong _istranslated="1">自签名根证书</strong>不需要/不应包含在 Web 服务器配置中。它们没有任何用途（客户端总是会忽略它们），并且由于它们会增加 SSL 握手的大小，因此会带来轻微的性能（延迟）损失。</p>
<p dir="auto" _msttexthash="1391092352" _msthash="1895">如果客户端的信任存储中没有根，则它不会信任该网站，并且无法解决该问题。让 Web 服务器发送根证书将无济于事 - 根证书必须来自受信任的第三方（在大多数情况下是浏览器供应商）。</p>
<p dir="auto" _msttexthash="28005783" _msthash="1896">有用的资源：</p>
<ul dir="auto">
<li><a href="https://security.stackexchange.com/questions/65332/ssl-root-certificate-optional" rel="nofollow" _msttexthash="46375433" _msthash="1897">SSL 根证书是否可选？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="136351007" _msthash="1898">如何记录 root 在生产服务器上运行的所有命令？</b></summary><br>
<p dir="auto"><code>auditd</code><font _mstmutation="1" _msttexthash="66365351" _msthash="1899">是适合此处工作的正确工具：</font></p>
<ol dir="auto">
<li><font _mstmutation="1" _msttexthash="33282717" _msthash="1900">将这 2 行添加到 ：</font><code>/etc/audit/audit.rules</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>-a exit,always -F arch=b64 -F euid=0 -S execve
-a exit,always -F arch=b32 -F euid=0 -S execve</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="-a exit,always -F arch=b64 -F euid=0 -S execve
-a exit,always -F arch=b32 -F euid=0 -S execve" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="549389958" _msthash="1901">这些将跟踪 root （euid=0） 运行的所有命令。为什么是两条规则？必须在 32 位和 64 位代码中跟踪 execve 系统调用。</p>
<ol start="2" dir="auto">
<li>
<p dir="auto"><font _mstmutation="1" _msttexthash="195722579" _msthash="1902">要删除日志中的消息，请添加到内核的 cmdline 中（通过编辑</font><code>auid=4294967295</code><code>audit=1</code><code>/etc/default/grub</code>)</p>
</li>
<li>
<p dir="auto" _msttexthash="12987975" _msthash="1903">放置线条</p>
</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>session  required                pam_loginuid.so</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="session  required                pam_loginuid.so" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="719357860" _msthash="1904">在与 login （） 相关的所有 PAM 配置文件中，但不在与 su 或 sudo 相关的文件中。这将允许 auditd 在调用 sudo 或 su 时正确获取调用用户的 uid。</font><code>/etc/pam.d/{login,kdm,sshd}</code></p>
<p dir="auto" _msttexthash="32931158" _msthash="1905">立即重新启动系统。</p>
<p dir="auto" _msttexthash="65721695" _msthash="1906">让我们登录并运行一些命令：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>$ id -u
1000
$ sudo ls /
bin  boot  data  dev  etc  home  initrd.img  initrd.img.old  lib  lib32  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  scratch  seLinux  srv  sys  tmp  usr  var  vmlinuz  vmlinuz.old
$ sudo su -
<span class="pl-c"><span class="pl-c">#</span> ls /etc</span>
[...]</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="$ id -u
1000
$ sudo ls /
bin  boot  data  dev  etc  home  initrd.img  initrd.img.old  lib  lib32  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  scratch  seLinux  srv  sys  tmp  usr  var  vmlinuz  vmlinuz.old
$ sudo su -
# ls /etc
[...]" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="60165898" _msthash="1907">现在读取 以显示已登录的内容。</font><code>/var/log/audit/auditd.log</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="1908">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/470755/log-all-commands-run-by-admins-on-production-servers" rel="nofollow" _msttexthash="102604424" _msthash="1909">记录管理员在生产服务器上运行的所有命令</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="63683139" _msthash="1910">如何防止 <code _istranslated="1">dd</code> 冻结您的系统？</b></summary><br>
<p dir="auto" _msttexthash="26691756" _msthash="1911">尝试使用 ionice：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ionice -c3 dd if=/dev/zero of=file</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ionice -c3 dd if=/dev/zero of=file" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="533698945" _msthash="1912">这将以 “idle” IO 优先级启动进程：仅当在一定时间内没有其他进程使用磁盘 IO 时，它才会获得磁盘时间。</font><code>dd</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="572381615" _msthash="1913">当然，这仍然会淹没缓冲区缓存，并在系统将缓存刷新到磁盘时导致冻结。有一些可调参数会影响这一点，尤其是 entries。</font><code>/proc/sys/vm/</code><code>dirty_*</code></p>
</details>
<details>
<summary><b _msttexthash="89614720" _msthash="1914">如何限制进程不超过 CPU 使用率的 X%？</b></summary><br>
<p dir="auto"><strong _msttexthash="16288051" _msthash="1915">尼斯/雷妮丝</strong></p>
<p dir="auto" _msttexthash="204390329" _msthash="1916">NICE 是一个很棒的工具，用于对系统进行 “一次性” 调整：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>nice COMMAND</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="nice COMMAND" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="8046324" _msthash="1917">cpu限制</strong></p>
<p dir="auto" _msttexthash="591800066" _msthash="1918">cpulimit 的值，如果你需要运行 CPU 密集型作业，并且拥有空闲的 CPU 时间对于系统的响应能力至关重要：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>cpulimit -l 50 COMMAND</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="cpulimit -l 50 COMMAND" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="101127" _msthash="1919">cgroups</strong></p>
<p dir="auto" _msttexthash="203029437" _msthash="1920">cgroups 将限制应用于一组进程，而不仅仅是一个进程：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>cgcreate -g cpu:/cpulimited
cgset -r cpu.shares=512 cpulimited
cgexec -g cpu:cpulimited COMMAND_1
cgexec -g cpu:cpulimited COMMAND_2
cgexec -g cpu:cpulimited COMMAND_3</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="cgcreate -g cpu:/cpulimited
cgset -r cpu.shares=512 cpulimited
cgexec -g cpu:cpulimited COMMAND_1
cgexec -g cpu:cpulimited COMMAND_2
cgexec -g cpu:cpulimited COMMAND_3" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="43290013" _msthash="1921">如何挂载临时 ram 分区？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> -t - filesystem type</span>
<span class="pl-c"><span class="pl-c">#</span> -o - mount options</span>
mount -t tmpfs tmpfs /mnt -o size=64M</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# -t - filesystem type
# -o - mount options
mount -t tmpfs tmpfs /mnt -o size=64M" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="63814959" _msthash="1922">如何杀死锁定文件的进程？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>fuser -k filename</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="fuser -k filename" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="388556792" _msthash="1923">其他尝试调试服务器的管理员不小心输入了：<code _istranslated="1">chmod -x /bin/chmod</code>。如何将权限重置为默认值？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> 1:</span>
cp /bin/ls chmod.01
cp /bin/chmod chmod.01
./chmod.01 700 file

<span class="pl-c"><span class="pl-c">#</span> 2:</span>
/bin/busybox chmod 0700 /bin/chmod

<span class="pl-c"><span class="pl-c">#</span> 3:</span>
setfacl --set u::rwx,g::---,o::--- /bin/chmod

<span class="pl-c"><span class="pl-c">#</span> 4:</span>
/usr/lib/ld<span class="pl-k">*</span>.so /bin/chmod 0700 /bin/chmod</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# 1:
cp /bin/ls chmod.01
cp /bin/chmod chmod.01
./chmod.01 700 file

# 2:
/bin/busybox chmod 0700 /bin/chmod

# 3:
setfacl --set u::rwx,g::---,o::--- /bin/chmod

# 4:
/usr/lib/ld*.so /bin/chmod 0700 /bin/chmod" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="1924">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.networkworld.com/article/3002286/operating-systems/what-can-you-do-when-you-cant-chmod-chmod.html" rel="nofollow" _msttexthash="76653629" _msthash="1925">当你不能 chmod chmod 时你能做什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="36955464" _msthash="1926"><code _istranslated="1">grub&gt;</code> 与 <code _istranslated="1">grub-rescue&gt;</code>。解释。</b></summary><br>
<ul dir="auto">
<li><code>grub&gt;</code><font _mstmutation="1" _msttexthash="1439786439" _msthash="1927">- 如果除了配置文件之外，您还可以找到运行系统所需的一切，则此模式将经过。在这种模式下，我们可以访问大多数（如果不是全部）模块和命令。可以通过按“c”键从菜单中调用此模式</font></li>
<li><code>grub-rescue</code><font _mstmutation="1" _msttexthash="1168527425" _msthash="1928">- 如果无法找到自己的目录（尤其是带有模块和附加命令的目录，例如 directory），如果其内容损坏或找不到普通模块，则仅包含基本命令，则此模式将传递到该模式</font><code>/boot/grub/i386-pc</code></li>
</ul>
</details>
<details>
<summary><b _msttexthash="76624470" _msthash="1929">如何检查私钥和证书是否匹配？</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>(openssl rsa -noout -modulus -in private.key <span class="pl-k">|</span> openssl md5 <span class="pl-k">;</span> openssl x509 -noout -modulus -in certificate.crt <span class="pl-k">|</span> openssl md5) <span class="pl-k">|</span> uniq</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="(openssl rsa -noout -modulus -in private.key | openssl md5 ; openssl x509 -noout -modulus -in certificate.crt | openssl md5) | uniq" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="166179715" _msthash="1930">如何在不使用 <code _istranslated="1">useradd</code>/<code _istranslated="1">adduser</code> 命令的情况下添加新用户？</b></summary><br>
<ol dir="auto">
<li><font _mstmutation="1" _msttexthash="68552159" _msthash="1931">在 中添加用户详细信息条目 ：</font><code>/etc/passwd</code><code>vipw</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> username:password:UID:GID:Comments:Home_Directory:Login Shell</span>
user:x:501:501:test user:/home/user:/bin/bash</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# username:password:UID:GID:Comments:Home_Directory:Login Shell
user:x:501:501:test user:/home/user:/bin/bash" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<blockquote>
<p dir="auto"><font _mstmutation="1" _msttexthash="373928100" _msthash="1932">请小心语法。请勿直接使用编辑器进行编辑。 锁定文件，以便其他命令不会同时尝试更新它。</font><code>vipw</code></p>
</blockquote>
<ol start="2" dir="auto">
<li><font _mstmutation="1" _msttexthash="154215893" _msthash="1933">您必须在 中创建一个同名的组（类似的工具）：</font><code>/etc/group</code><code>vigr</code><code>vipw</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>user:x:501:</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="user:x:501:" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="3" dir="auto">
<li _msttexthash="36674781" _msthash="1934">为用户分配密码：</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>passwd user</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="passwd user" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="4" dir="auto">
<li _msttexthash="70711615" _msthash="1935">使用 mkdir 创建用户的主目录：</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>mkdir -m 0700 /home/user</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="mkdir -m 0700 /home/user" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="5" dir="auto">
<li><font _mstmutation="1" _msttexthash="63323065" _msthash="1936">将文件从 复制到新的主目录：</font><code>/etc/skel</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>rsync -av --delete /etc/skel/ /home/user</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="rsync -av --delete /etc/skel/ /home/user" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="6" dir="auto">
<li><font _mstmutation="1" _msttexthash="60120827" _msthash="1937">使用 和 修复所有权和权限：</font><code>chown</code><code>chmod</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chown -R user:user /home/user
chmod -R go-rwx /home/user</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chown -R user:user /home/user
chmod -R go-rwx /home/user" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="1938">有用的资源：</p>
<ul dir="auto">
<li><a href="https://unix.stackexchange.com/questions/153225/what-steps-to-add-a-user-to-a-system-without-using-useradd-adduser" rel="nofollow" _msttexthash="261197378" _msthash="1939">在不使用 useradd/adduser 的情况下将用户添加到系统的步骤是什么？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="124257952" _msthash="1940">为什么我们需要 <code _istranslated="1">mktemp</code> 命令？提供一个使用示例。</b></summary><br>
<p dir="auto"><code>mktemp</code><font _mstmutation="1" _msttexthash="139710571" _msthash="1941">随机化名称。从安全的角度来看，这非常重要。</font></p>
<p dir="auto" _msttexthash="77809849" _msthash="1942">想象一下，你做了这样的事情：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>random_string<span class="pl-pds">"</span></span> <span class="pl-k">&gt;</span> /tmp/temp-file</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="echo &quot;random_string&quot; > /tmp/temp-file" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="154274445" _msthash="1943">在 root 运行脚本中。而有人（读过你的剧本）会</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ln -s /etc/passwd /tmp/temp-file</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ln -s /etc/passwd /tmp/temp-file" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="89964082" _msthash="1944">在这种情况下，该命令可以帮助你：</font><code>mktemp</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>TEMP=<span class="pl-s"><span class="pl-pds">$(</span>mktemp /tmp/temp-file.XXXXXXXX<span class="pl-pds">)</span></span>
<span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>random_string<span class="pl-pds">"</span></span> <span class="pl-k">&gt;</span> <span class="pl-smi">${TEMP}</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="TEMP=$(mktemp /tmp/temp-file.XXXXXXXX)
echo &quot;random_string&quot; > ${TEMP}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="39987064" _msthash="1945">现在这种攻击不会奏效。</font><code>ln /etc/passwd</code></p>
</details>
<details>
<summary><b _msttexthash="291330052" _msthash="1946">将 <code _istranslated="1">strace</code> 附加到 production 上正在运行的进程是否安全？后果是什么？</b></summary><br>
<p dir="auto"><code>strace</code><font _mstmutation="1" _msttexthash="1778781121" _msthash="1947">是 Linux 的系统调用跟踪器。它目前使用晦涩难懂的 （进程跟踪） 调试接口，该接口以一种暴力的方式运行：暂停每个 syscall <strong _mstmutation="1" _istranslated="1">的目标进程</strong>，以便调试器可以读取状态。并执行两次操作：syscall 开始时和结束时。</font><code>ptrace()</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="748251270" _msthash="1948">这意味着每次 syscall 暂停应用程序两次，每次在应用程序和 之间进行上下文切换。这就像在您的应用程序上安装交通计量灯一样。</font><code>strace</code><code>strace</code></p>
<p dir="auto" _msttexthash="13605800" _msthash="1949">缺点：</p>
<ul dir="auto">
<li _msttexthash="1255593872" _msthash="1950">可能会导致显著的、有时是巨大的性能开销，在最坏的情况下，目标应用程序的速度会减慢 100 倍以上。这不仅可能使其不适合生产使用，而且任何计时信息也可能被扭曲以致误导</li>
<li _msttexthash="151312330" _msthash="1951">无法同时跟踪多个进程（跟随的子进程除外）</li>
<li _msttexthash="54972775" _msthash="1952">可见性仅限于系统调用接口</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1953">有用的资源：</p>
<ul dir="auto">
<li><a href="http://www.brendangregg.com/blog/2014-05-11/strace-wow-much-syscall.html" rel="nofollow" _msttexthash="67646657" _msthash="1954">strace Wow Much Syscall （原版）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="177813506" _msthash="1955">删除 <code _istranslated="1">-rf</code> 目录条目最简单、最安全、最便携的方法是什么？</b></summary><br>
<p dir="auto" _msttexthash="81906461" _msthash="1956">它们很有效，但不是最佳便携性：</p>
<ul dir="auto">
<li><code>rm -- -fr</code></li>
<li><code>perl -le 'unlink("-fr");'</code></li>
</ul>
<p dir="auto" _msttexthash="644634926" _msthash="1957">那些继续 shell 命令行引用和字符转义的人几乎和那些甚至根本不意识到为什么这样的文件名会带来任何问题的人一样危险。</p>
<p dir="auto" _msttexthash="41773602" _msthash="1958">最便携的解决方案：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>rm ./-fr</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="rm ./-fr" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="227769035" _msthash="1959">编写一个简单的 bash 脚本（或一对脚本）来备份和恢复您的系统。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="1960">待完成。</p>
</details>
<details>
<summary><b _msttexthash="127758072" _msthash="1961">什么是加盐哈希？使用 salt 为 <code _istranslated="1">/etc/shadow</code> 文件生成密码。</b></summary><br>
<p dir="auto" _msttexthash="1789652969" _msthash="1962"><strong _istranslated="1">Salt</strong> 在最基本的层面上是随机数据。当受到适当保护的密码系统收到新密码时，它将为该密码创建一个哈希值，创建一个新的随机盐值，然后将该组合值存储在其数据库中。这有助于防御字典攻击和已知的哈希攻击。</p>
<p dir="auto" _msttexthash="1340682044" _msthash="1963">例如，如果用户在两个不同的系统上使用相同的密码，如果他们使用相同的哈希算法，则他们最终可能会得到相同的哈希值。但是，即使其中一个系统使用盐及其哈希值，值也会有所不同。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="82392089" _msthash="1964">文件中的加密密码以下列格式存储：</font><code>/etc/shadow</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-smi">$ID$SALT$ENCRYPTED</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="$ID$SALT$ENCRYPTED" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="289735030" _msthash="1965">表示加密类型，它是一个随机（最多 16 个字符）字符串，是密码的哈希值。</font><code>$ID</code><code>$SALT</code><code>$ENCRYPTED</code></p>
<markdown-accessiblity-table data-catalyst=""><table>
  <tbody><tr>
    <th _msttexthash="11120837" _msthash="1966">哈希类型</th>
    <th _msttexthash="9612486" _msthash="1967">身份证</th>
    <th _msttexthash="12106575" _msthash="1968">哈希长度</th>
  </tr>
  <tr>
    <td _msttexthash="20280" _msthash="1969">MD5</td>
    <td _msttexthash="5834426" _msthash="1970">1 美元</td>
    <td _msttexthash="9898928" _msthash="1971">22 个字符</td>
  </tr>
  <tr>
    <td _msttexthash="53040" _msthash="1972">SHA-256</td>
    <td _msttexthash="5834790" _msthash="1973">5 美元</td>
    <td _msttexthash="9899214" _msthash="1974">43 个字符</td>
  </tr>
  <tr>
    <td _msttexthash="9973184" _msthash="1975">SHA-512 系列</td>
    <td _msttexthash="5834881" _msthash="1976">6 美元</td>
    <td _msttexthash="9899890" _msthash="1977">86 个字符</td>
  </tr>
</tbody></table></markdown-accessiblity-table>
<p dir="auto"><font _mstmutation="1" _msttexthash="175098131" _msthash="1978">使用 Linux shell 中的以下命令为随机盐生成哈希密码：</font><code>/etc/shadow</code></p>
<ul dir="auto">
<li _msttexthash="22866558" _msthash="1979">生成 <strong _istranslated="1">MD5</strong> 密码哈希</li>
</ul>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -c <span class="pl-s"><span class="pl-pds">"</span>import random,string,crypt; randomsalt = ''.join(random.sample(string.ascii_letters,8)); print crypt.crypt('MySecretPassword', '<span class="pl-cce">\$</span>1<span class="pl-cce">\$</span>%s<span class="pl-cce">\$</span>' % randomsalt)<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -c &quot;import random,string,crypt; randomsalt = ''.join(random.sample(string.ascii_letters,8)); print crypt.crypt('MySecretPassword', '\$1\$%s\$' % randomsalt)&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li _msttexthash="28104882" _msthash="1980">生成 <strong _istranslated="1">SHA-256</strong> 密码哈希</li>
</ul>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -c <span class="pl-s"><span class="pl-pds">"</span>import random,string,crypt; randomsalt = ''.join(random.sample(string.ascii_letters,8)); print crypt.crypt('MySecretPassword', '<span class="pl-cce">\$</span>5<span class="pl-cce">\$</span>%s<span class="pl-cce">\$</span>' % randomsalt)<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -c &quot;import random,string,crypt; randomsalt = ''.join(random.sample(string.ascii_letters,8)); print crypt.crypt('MySecretPassword', '\$5\$%s\$' % randomsalt)&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li _msttexthash="28103881" _msthash="1981">生成 <strong _istranslated="1">SHA-512</strong> 密码哈希</li>
</ul>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -c <span class="pl-s"><span class="pl-pds">"</span>import random,string,crypt; randomsalt = ''.join(random.sample(string.ascii_letters,8)); print crypt.crypt('MySecretPassword', '<span class="pl-cce">\$</span>6<span class="pl-cce">\$</span>%s<span class="pl-cce">\$</span>' % randomsalt)<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -c &quot;import random,string,crypt; randomsalt = ''.join(random.sample(string.ascii_letters,8)); print crypt.crypt('MySecretPassword', '\$6\$%s\$' % randomsalt)&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="37148358" _msthash="1982">网络问题 （27）</h6><a id="user-content-network-questions-27" class="anchor" aria-label="永久链接：网络问题 （27）" href="#network-questions-27" _mstaria-label="780611" _msthash="1983"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="125754837" _msthash="1984">为您的网站创建 SPF 记录，以帮助控制垃圾邮件。</b></summary><br>
<ul dir="auto">
<li>
<p dir="auto" _msttexthash="1366379248" _msthash="1985">从 SPF 版本开始，这部分将记录定义为 SPF。SPF 记录应始终以版本号 v=spf1（版本 1）开头，此标签将记录定义为 SPF。曾经有第二个版本的 SPF（称为：SenderID），但已停止使用。</p>
</li>
<li>
<p dir="auto"><font _mstmutation="1" _msttexthash="404303276" _msthash="1986">在包含 v=spf1 SPF 版本标签后，您应该遵循所有有权代表您发送电子邮件的 IP 地址。例如：</font><code>v=spf1 ip4:34.243.61.237 ip6:2a05:d018:e3:8c00:bb71:dea8:8b83:851e</code></p>
</li>
<li>
<p dir="auto"><font _mstmutation="1" _msttexthash="1590692103" _msthash="1987">接下来，您可以为用于代表您发送电子邮件的每个第三方组织包含一个 include 标签，例如 此标签表示此特定第三方有权代表您的域发送电子邮件。您需要咨询第三方，以了解将哪个域用作 'include' 语句的值。</font><code>include:thirdpartydomain.com.</code></p>
</li>
<li>
<p dir="auto"><font _mstmutation="1" _msttexthash="19424420028" _msthash="1988">实施所有 IP 地址并包含标签后，您应该以 or 标签结束记录。all 标签是 SPF 记录的重要组成部分，因为它指示当 ISP 检测到未在您的 SPF 记录中列出的服务器时应该应用什么策略。如果未经授权的服务器代表您的域发送电子邮件，则会根据已发布的策略采取措施（例如，拒绝电子邮件或将其标记为垃圾邮件）。这些标签之间有什么区别？您需要指示服务器需要如何严格地处理电子邮件。标签表示软失败，标记表示硬失败。all 标签具有以下基本标记：<br _mstmutation="1" _istranslated="1"><br _mstmutation="1" _istranslated="1"> – 未在 SPF 记录中列出的服务器无权发送电子邮件（不合规的电子邮件将被拒绝）<br _mstmutation="1" _istranslated="1"> – 如果电子邮件来自未列出的服务器，则电子邮件将被标记为软失败（电子邮件将被接受但被标记）<br _mstmutation="1" _istranslated="1"> - 我们强烈建议不要使用此选项， 此标签允许任何服务器从您的域发送电子邮件</font><code>~all</code><code>-all</code><code>~all</code><code>-all</code><code>-all</code><code>~all</code><code>+all</code><br></p>
</li>
<li>
<p dir="auto"><font _mstmutation="1" _msttexthash="123982703" _msthash="1989">定义 SPF 记录后，您的记录可能如下所示：</font><code>v=spf1 ip4:34.243.61.237 ip6:2a05:d018:e3:8c00:bb71:dea8:8b83:851e include:thirdpartydomain.com -all</code></p>
</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="1990">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.dmarcanalyzer.com/spf/checker/" rel="nofollow" _msttexthash="20866807" _msthash="1991">SPF 记录检查器</a></li>
<li><a href="https://www.spf-record.com/syntax" rel="nofollow" _msttexthash="8664916" _msthash="1992">SPF 语法</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="135427617" _msthash="1993">DNS 查询的权威答案和非权威答案有什么区别？***</b></summary><br>
<p dir="auto" _msttexthash="1863070742" _msthash="1994">权威 DNS 查询答案来自包含所查询域的区域文件的服务器。这是域管理员在其上设置 DNS 记录的名称服务器。非权威答案来自不托管域区域文件的名称服务器（例如，常用的名称服务器缓存了答案，例如 Google 的 8.8.8.8 或 OpenDNS 208.67.222.222）。</p>
</details>
<details>
<summary><b _msttexthash="1288742780" _msthash="1995">如果您尝试解析主机名，则会从 <code _istranslated="1">host</code> 命令获得 <code _istranslated="1">NXDOMAIN</code>。您的 <code _istranslated="1">resolv.conf</code> 存储两个名称服务器，但只有第二个名称服务器存储此域名。为什么本地解析器不检查第二个名称服务器？</b></summary><br>
<p dir="auto" _msttexthash="495497444" _msthash="1996"><strong _istranslated="1">NXDOMAIN</strong> 只不过是不存在的 Internet 或 Intranet 域名。如果无法使用 DNS 解析域名，则会出现称为 <strong _istranslated="1">NXDOMAIN</strong> 的情况。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="491279061" _msthash="1997">的默认行为是按列出的顺序尝试服务器。如果第一个名称服务器超时，解析程序只会尝试下一个名称服务器。</font><code>resolv.conf</code><code>resolver</code></p>
<p dir="auto" _msttexthash="910220805" _msthash="1998">使用的算法是尝试名称服务器，如果查询超时，则尝试下一个，直到名称服务器用完，然后重复尝试所有名称服务器，直到重试次数达到最大。</p>
<p dir="auto" _msttexthash="566704034" _msthash="1999">如果名称服务器使用 <strong _istranslated="1">SERVFAIL</strong> 或引用 （<strong _istranslated="1">nofail</strong>） 或终止查询 （<strong _istranslated="1">fail</strong>） 进行响应，则只会使用第一个 dns 服务器。</p>
<p dir="auto" _msttexthash="8644857" _msthash="2000">例：</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>nameserver 192.168.250.20   # it's not a dns
nameserver 8.8.8.8          # not store gate.test.int
nameserver 127.0.0.1        # store gate.test.int
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="nameserver 192.168.250.20   # it's not a dns
nameserver 8.8.8.8          # not store gate.test.int
nameserver 127.0.0.1        # store gate.test.int" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="45261216" _msthash="2001">因此，如果您检查：</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>host -v -t a gate.test.int
Trying "gate.test.int"                        # trying first dns (192.168.250.20) but response is time out, so try the next nameserver
Host gate.test.int not found: 3(NXDOMAIN)     # ok but response is NXDOMAIN (not found this domain name)
Received 88 bytes from 8.8.8.8#53 in 43 ms
Received 88 bytes from 8.8.8.8#53 in 43 ms
                                              # so the last server in the list was not asked
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="host -v -t a gate.test.int
Trying &quot;gate.test.int&quot;                        # trying first dns (192.168.250.20) but response is time out, so try the next nameserver
Host gate.test.int not found: 3(NXDOMAIN)     # ok but response is NXDOMAIN (not found this domain name)
Received 88 bytes from 8.8.8.8#53 in 43 ms
Received 88 bytes from 8.8.8.8#53 in 43 ms
                                              # so the last server in the list was not asked" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="495601964" _msthash="2002">为避免这种情况，您可以使用例如 命令，如果它从第一个名称服务器收到 <strong _mstmutation="1" _istranslated="1">SERVFAIL</strong>，它将使用第二个名称服务器。</font><code>nslookup</code></p>
<p dir="auto" _msttexthash="28005783" _msthash="2003">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/398837/second-nameserver-in-etc-resolv-conf-not-picked-up-by-wget" rel="nofollow" _msttexthash="144288092" _msthash="2004">/etc/resolv.conf 中的第二个名称服务器未被 wget 选取</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="204875255" _msthash="2005">浏览您站点上的当前 MTA 配置。正在使用的 MTA 有哪些特殊功能？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2006">待完成。</p>
</details>
<details>
<summary><b _msttexthash="155877215" _msthash="2007">如何根据 IP 地址查找域？您可以使用哪些技术/工具？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2008">待完成。</p>
</details>
<details>
<summary><b _msttexthash="105362647" _msthash="2009">是否可以为 IP 地址而不是域名提供 SSL 证书？</b></summary><br>
<p dir="auto" _msttexthash="139961341" _msthash="2010">只要它是公共 IP 地址，就可以（但很少使用）。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2410208047" _msthash="2011">SSL 证书通常颁发给完全限定域名 （FQDN），例如 .但是，某些组织需要颁发给公有 IP 地址的 SSL 证书。此选项允许您指定公有 IP 地址作为证书签名请求 （CSR） 中的公用名。然后，可以使用颁发的证书直接保护与公共 IP 地址（例如 .）的连接。</font><code>https://www.domain.com</code><code>https://1.1.1.1</code></p>
<p dir="auto" _msttexthash="1390112750" _msthash="2012">根据 CA 浏览器论坛，除非 IP 地址同时位于 commonName 和 subjectAltName 字段中，否则 IP 地址的证书可能存在兼容性问题。这是由于旧版 SSL 实施与 RFC 5280 不一致，尤其是 Windows 10 之前的 Windows 操作系统。</p>
<p dir="auto" _msttexthash="28005783" _msthash="2013">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/1095780/are-ssl-certificates-bound-to-the-servers-ip-address" rel="nofollow" _msttexthash="76739936" _msthash="2014">服务器 IP 地址是否绑定了 SSL 证书？</a></li>
<li><a href="https://serverfault.com/questions/193775/ssl-certificate-for-a-public-ip-address" rel="nofollow" _msttexthash="45891066" _msthash="2015">公网 IP 地址的 SSL 证书？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="119887456" _msthash="2016">您如何对网站进行负载测试和容量规划？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2017">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="2018">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/350454/how-do-you-do-load-testing-and-capacity-planning-for-web-sites" rel="nofollow" _msttexthash="169560014" _msthash="2019">如何对网站进行负载测试和容量规划？（原文）</a></li>
<li><a href="https://serverfault.com/questions/384686/can-you-help-me-with-my-capacity-planning" rel="nofollow" _msttexthash="64529205" _msthash="2020">您能帮我进行容量规划吗？</a></li>
<li><a href="https://serverfault.com/questions/350458/how-do-you-do-load-testing-and-capacity-planning-for-databases" rel="nofollow" _msttexthash="117951015" _msthash="2021">如何对数据库进行负载测试和容量规划？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="220964965" _msthash="2022">开发人员报告与远程服务的连接出现问题。使用 <code _istranslated="1">/dev</code> 进行故障排除。</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> &lt;host&gt; - set remote host</span>
<span class="pl-c"><span class="pl-c">#</span> &lt;port&gt; - set destination port</span>

<span class="pl-c"><span class="pl-c">#</span> 1</span>
timeout 1 bash -c <span class="pl-s"><span class="pl-pds">"</span>&lt;/dev/tcp/&lt;host&gt;/&lt;port&gt;<span class="pl-pds">"</span></span> <span class="pl-k">&gt;</span>/dev/null <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">;</span> <span class="pl-c1">echo</span> <span class="pl-smi">$?</span>

<span class="pl-c"><span class="pl-c">#</span> 2</span>
timeout 1 bash -c <span class="pl-s"><span class="pl-pds">'</span>cat &lt; /dev/null &gt; &lt;/dev/tcp/&lt;host&gt;/&lt;port&gt;<span class="pl-pds">'</span></span> <span class="pl-k">;</span> <span class="pl-c1">echo</span> <span class="pl-smi">$?</span>

<span class="pl-c"><span class="pl-c">#</span> 2</span>
<span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> <span class="pl-c1">echo</span> <span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;/dev/tcp/&lt;host&gt;/&lt;port&gt;<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# <host> - set remote host
# <port> - set destination port

# 1
timeout 1 bash -c &quot;</dev/tcp/<host>/<port>&quot; >/dev/null 2>&amp;1 ; echo $?

# 2
timeout 1 bash -c 'cat < /dev/null > </dev/tcp/<host>/<port>' ; echo $?

# 2
&amp;> echo > &quot;</dev/tcp/<host>/<port>&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="2023">有用的资源：</p>
<ul dir="auto">
<li><a href="http://www.tldp.org/LDP/abs/html/devref1.html#DEVTCP" rel="nofollow" _msttexthash="38823473" _msthash="2024">高级 Bash 脚本编写指南 - /dev</a></li>
<li><a href="https://securityreliks.wordpress.com/2010/08/20/devtcp-as-a-weapon/" rel="nofollow" _msttexthash="19483048" _msthash="2025">/dev/tcp 作为武器</a></li>
<li><a href="https://stackoverflow.com/questions/4922943/test-from-shell-script-if-remote-tcp-port-is-open" rel="nofollow" _msttexthash="88337964" _msthash="2026">从 shell 脚本测试远程 TCP 端口是否打开</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="113199294" _msthash="2027">如何使用 <code _istranslated="1">curl</code> 同时测量请求和响应时间？</b></summary><br>
<p dir="auto"><code>curl</code><font _mstmutation="1" _msttexthash="788685950" _msthash="2028">支持格式化输出以获取请求的详细信息（有关详细信息，请参见手册页的 下）。出于我们的目的，我们将只关注提供的计时详细信息。</font><code>curl</code><code>-w| -write-out 'format'</code></p>
<ol dir="auto">
<li><font _mstmutation="1" _msttexthash="74220887" _msthash="2029">创建一个新文件，然后粘贴：</font><code>curl-format.txt</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>    time_namelookup:  %{time_namelookup}<span class="pl-cce">\n</span>
       time_connect:  %{time_connect}<span class="pl-cce">\n</span>
    time_appconnect:  %{time_appconnect}<span class="pl-cce">\n</span>
   time_pretransfer:  %{time_pretransfer}<span class="pl-cce">\n</span>
      time_redirect:  %{time_redirect}<span class="pl-cce">\n</span>
 time_starttransfer:  %{time_starttransfer}<span class="pl-cce">\n</span>
                    ----------<span class="pl-cce">\n</span>
         time_total:  %{time_total}<span class="pl-cce">\n</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="    time_namelookup:  %{time_namelookup}\n
       time_connect:  %{time_connect}\n
    time_appconnect:  %{time_appconnect}\n
   time_pretransfer:  %{time_pretransfer}\n
      time_redirect:  %{time_redirect}\n
 time_starttransfer:  %{time_starttransfer}\n
                    ----------\n
         time_total:  %{time_total}\n" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="2" dir="auto">
<li _msttexthash="21641581" _msthash="2030">提出请求：</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>curl -w <span class="pl-s"><span class="pl-pds">"</span>@curl-format.txt<span class="pl-pds">"</span></span> -o /dev/null -s <span class="pl-s"><span class="pl-pds">"</span>http://example.com/<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="curl -w &quot;@curl-format.txt&quot; -o /dev/null -s &quot;http://example.com/&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="30127318" _msthash="2031">此操作的作用：</p>
<ul dir="auto">
<li><code>-w "@curl-format.txt"</code><font _mstmutation="1" _msttexthash="58619314" _msthash="2032">- 告诉 cURL 使用我们的格式文件</font></li>
<li><code>-o /dev/null</code><font _mstmutation="1" _msttexthash="44608928" _msthash="2033">- 将请求的输出重定向到 /dev/null</font></li>
<li><code>-s</code><font _mstmutation="1" _msttexthash="518452857" _msthash="2034">- 告诉 cURL 不要显示进度条是我们请求的 URL。特别是如果您的 URL 具有 “&amp;” 查询字符串参数，请特别使用引号</font><code>http://example.com/</code></li>
</ul>
</details>
<details>
<summary><b _msttexthash="205801414" _msthash="2035">您需要将 ext4 日志移动到另一个磁盘/分区上。这是什么原因呢？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2036">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="2037">有用的资源：</p>
<ul dir="auto">
<li><a href="https://raid6.com.au/posts/fs_ext4_external_journal/" rel="nofollow" _msttexthash="65262847" _msthash="2038">ext4：使用外部日志优化性能</a></li>
<li><a href="https://unix.stackexchange.com/questions/278998/how-to-move-an-ext4-journal" rel="nofollow" _msttexthash="20853755" _msthash="2039">如何移动 ext4 日志</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="337095369" _msthash="2040">在您的网站/应用程序前面放置 Varnish 是否意味着您不需要关心负载平衡或冗余？</b></summary><br>
<p dir="auto" _msttexthash="2571056605" _msthash="2041">这要看情况。Varnish 是一个缓存服务器，因此它的目的是缓存内容并充当反向代理，以加快数据检索速度并减轻 Web 服务器的负载。
Varnish 也可以配置为多个 Web 服务器的负载均衡器，但如果我们只使用一个 Varnish 服务器，这将成为我们基础设施上的单点故障。</p>
<p dir="auto" _msttexthash="490802312" _msthash="2042">确保负载平衡或冗余的更好解决方案是至少包含两个 Varnish 实例的集群，处于主动-主动模式或主动-被动模式。</p>
</details>
<details>
<summary><b _msttexthash="160702789" _msthash="2043">Varnish Cache 中的命中、未命中和命中通过是什么？</b></summary><br>
<p dir="auto" _msttexthash="1225936010" _msthash="2044"><strong _istranslated="1">命中</strong>是从缓存中成功提供的请求，<strong _istranslated="1">未命中</strong>是通过缓存但发现空缓存，因此必须从源获取的请求，当 Varnish Cache 意识到它请求的对象之一不可缓存并将导致传递时，就会出现 <strong _istranslated="1">hit-for-pass</strong>。</p>
<p dir="auto" _msttexthash="28005783" _msthash="2045">有用的资源：</p>
<ul dir="auto">
<li><a href="https://book.varnish-software.com/4.0/chapters/VCL_Subroutines.html#vcl-vcl-hit" rel="nofollow" _msttexthash="17417374" _msthash="2046">命中的 VCL 规则</a></li>
<li><a href="https://book.varnish-software.com/4.0/chapters/VCL_Subroutines.html#hit-for-pass" rel="nofollow" _msttexthash="31688800" _msthash="2047">命中换传递的 VCL 规则</a></li>
<li><a href="https://book.varnish-software.com/4.0/chapters/VCL_Basics.html#vcl-backend-response" rel="nofollow" _msttexthash="11249277" _msthash="2048">使用示例</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="115234366" _msthash="2049">给定以下参数，缓存内容的合理 TTL 是多少？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2050">待完成。</p>
</details>
<details>
<summary><b _msttexthash="526281119" _msthash="2051">开发者 说： <i _istranslated="1"><code _istranslated="1">htaccess</code> 充满了魔力，应该使用它</i>。您对使用 <code _istranslated="1">htaccess</code> 文件有什么看法？这对 Web 应用程序有何影响</b></summary><br>
<p dir="auto"><code>.htaccess</code><font _mstmutation="1" _msttexthash="109274776" _msthash="2052">Files 诞生于共享主机司空见惯的时代：</font></p>
<ul dir="auto">
<li _msttexthash="538249270" _msthash="2053">系统管理员需要一种方法，允许多个客户端在不同帐户下访问他们的服务器，并为他们的网站使用不同的配置。</li>
</ul>
<p dir="auto"><font _mstmutation="1" _msttexthash="1092682240" _msthash="2054">该文件允许他们修改 Apache 的工作方式，而无需访问整个服务器。这些文件可以驻留在网站目录树中的任何和每个目录中，并为目录及其中的文件和文件夹提供功能。</font><code>.htaccess</code></p>
<p dir="auto"><strong _msttexthash="42435094" _msthash="2055">这对性能来说太糟糕了</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1801789015" _msthash="2056">要工作，Apache 需要检查请求路径中的每个目录是否存在文件，如果存在，它会读取每个目录并解析它。每个请求都会发生这种情况。请记住，更改该文件的那一刻，它就生效了。这是因为 Apache 每次都会读取它。</font><code>.htaccess</code><code>.htaccess</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="260807690" _msthash="2057">Web 服务器处理的每一个请求 - 即使是最低级的请求或文件 - 都会导致 Apache ：</font><code>.png</code><code>.css</code></p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="56056390" _msthash="2058">在当前请求的目录中查找文件</font><code>.htaccess</code></li>
<li><font _mstmutation="1" _msttexthash="152660040" _msthash="2059">然后在从那里到服务器根目录的每个目录中查找一个文件</font><code>.htaccess</code></li>
<li><font _mstmutation="1" _msttexthash="49140104" _msthash="2060">将所有这些文件合并在一起</font><code>.htaccess</code></li>
<li _msttexthash="58803667" _msthash="2061">使用新设置重新配置 Web 服务器</li>
<li _msttexthash="25250758" _msthash="2062">最后，交付文件</li>
</ul>
<p dir="auto" _msttexthash="350116624" _msthash="2063">每个网页都可以生成数十个请求。这是您不需要的开销，而且，它是完全不必要的。</p>
<p dir="auto"><strong _msttexthash="27312467" _msthash="2064">安全性和权限丢失</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="983386053" _msthash="2065">如果处理不当，允许单个用户修改服务器的配置可能会导致安全问题。如果您在文件中添加任何指令，则当它们被添加到 Apache 配置文件时，将被视为该指令。</font><code>.htaccess</code><code>.htaccess</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1827171307" _msthash="2066">这意味着非管理员可能会编写这些文件，从而“撤消”您的所有安全性。如果你需要做一些临时的事情，这是一个好地方，如果你需要做一些更永久的事情，就把它放在你的（或者你的服务器调用的任何东西）中。</font><code>.htaccess</code><code>/etc/apache/sites-available/site.conf</code><code>httpd.conf</code></p>
<p dir="auto"><strong _msttexthash="5618353" _msthash="2067">总结</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="635520158" _msthash="2068">如果你可以访问 httpd 主服务器配置文件，你应该完全避免使用文件。如果它在 中有效，它也将在您的虚拟主机文件中工作。</font><code>.htaccess</code><code>.htaccess</code><code>.conf</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="127860265" _msthash="2069">如果您无法避免使用文件，则应遵循这些规则。</font><code>.htaccess</code></p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="65837369" _msthash="2070">仅使用一个文件或尽可能少地使用</font><code>.htaccess</code></li>
<li><font _mstmutation="1" _msttexthash="43846738" _msthash="2071">将文件放在站点根目录中</font><code>.htaccess</code></li>
<li><font _mstmutation="1" _msttexthash="19475586" _msthash="2072">保持文件简短</font><code>.htaccess</code></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="2073">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.nginx.com/resources/wiki/start/topics/examples/likeapache-htaccess/" rel="nofollow" _msttexthash="25484277" _msthash="2074">与 Apache 类似：.htaccess</a></li>
<li><a href="https://www.danielmorell.com/guides/htaccess-seo/basics/dont-use-htaccess-unless-you-must" rel="nofollow" _msttexthash="53346462" _msthash="2075">除非必须，否则不要使用 .htaccess</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="384395089" _msthash="2076">在生产环境中使用 SNI SSL 是否安全？如何测试有和没有它的连接？在哪些情况下有用？</b></summary><br>
<p dir="auto" _msttexthash="18654116" _msthash="2077">使用 <b _istranslated="1">OpenSSL</b>：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> Testing connection to remote host (with SNI support)</span>
<span class="pl-c1">echo</span> <span class="pl-k">|</span> openssl s_client -showcerts -servername google.com -connect google.com:443
<span class="pl-c"><span class="pl-c">#</span> Testing connection to remote host (without SNI support)</span>
<span class="pl-c1">echo</span> <span class="pl-k">|</span> openssl s_client -connect google.com:443 -showcerts</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# Testing connection to remote host (with SNI support)
echo | openssl s_client -showcerts -servername google.com -connect google.com:443
# Testing connection to remote host (without SNI support)
echo | openssl s_client -connect google.com:443 -showcerts" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="17786171" _msthash="2078">使用 <b _istranslated="1">GnuTLS</b>：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> Testing connection to remote host (with SNI support)</span>
gnutls-cli -p 443 google.com
<span class="pl-c"><span class="pl-c">#</span> Testing connection to remote host (without SNI support)</span>
gnutls-cli --disable-sni -p 443 google.com</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# Testing connection to remote host (with SNI support)
gnutls-cli -p 443 google.com
# Testing connection to remote host (without SNI support)
gnutls-cli --disable-sni -p 443 google.com" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="56375098" _msthash="2079">如何在 HTTP 协议中传递 Cookie？</b></summary><br>
<p dir="auto" _msttexthash="148435469" _msthash="2080">服务器在其响应标头中发送以下内容以设置 cookie 字段：</p>
<p dir="auto"><code>Set-Cookie:name=value</code></p>
<p dir="auto" _msttexthash="221074789" _msthash="2081">如果设置了 Cookie，则浏览器会在其请求标头中发送以下内容：</p>
<p dir="auto"><code>Cookie:name=value</code></p>
</details>
<details>
<summary><b _msttexthash="529913527" _msthash="2082">如何防止在服务器名称未定义的 Web 服务器中处理请求？没有定义的默认服务器名称规则会是安全问题吗？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2083">待完成。</p>
</details>
<details>
<summary><b _msttexthash="1005707729" _msthash="2084">您应该将 POST 和有效负载重写到外部 API，但 POST 请求会丢失在 URL 上传递的参数。如何解决这个问题（例如在 Nginx 中），这种行为的原因是什么？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="706943341" _msthash="2085">问题是外部重定向永远不会重新发送 <strong _mstmutation="1" _istranslated="1">POST</strong> 数据。这被写入了 HTTP 规范中（查看该部分）。任何这样做的客户端都违反了规范。</font><code>3xx</code></p>
<p dir="auto" _msttexthash="270399636" _msthash="2086"><strong _istranslated="1">POST</strong> 数据在请求正文中传递，如果执行标准重定向，则会丢弃该请求。</p>
<p dir="auto" _msttexthash="22191208" _msthash="2087">看看这个：</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>   +-------------------------------------------+-----------+-----------+
   |                                           | Permanent | Temporary |
   +-------------------------------------------+-----------+-----------+
   | Allows changing the request method from   | 301       | 302       |
   | POST to GET                               |           |           |
   | Does not allow changing the request       | 308       | 307       |
   | method from POST to GET                   |           |           |
   +-------------------------------------------+-----------+-----------+
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="   +-------------------------------------------+-----------+-----------+
   |                                           | Permanent | Temporary |
   +-------------------------------------------+-----------+-----------+
   | Allows changing the request method from   | 301       | 302       |
   | POST to GET                               |           |           |
   | Does not allow changing the request       | 308       | 307       |
   | method from POST to GET                   |           |           |
   +-------------------------------------------+-----------+-----------+" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="688065261" _msthash="2088">您可以尝试使用 HTTP 状态代码 <strong _istranslated="1">307</strong>，符合 RFC 的浏览器应该重复 post 请求。你只需要编写一条 HTTP 状态码为 <strong _istranslated="1">307</strong> 或 <strong _istranslated="1">308</strong> 的 Nginx 重写规则：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>location / {
    proxy_pass              http://localhost:80<span class="pl-k">;</span>
    client_max_body_size    10m<span class="pl-k">;</span>
}

location /api {
    <span class="pl-c"><span class="pl-c">#</span> HTTP 307 only for POST method.</span>
    <span class="pl-k">if</span> (<span class="pl-smi">$request_method</span> = POST) {
        <span class="pl-k">return</span> 307 https://api.example.com<span class="pl-k">?</span>request_uri<span class="pl-k">;</span>
    }

    <span class="pl-c"><span class="pl-c">#</span> You can keep this for non-POST requests.</span>
    rewrite ^ https://api.example.com<span class="pl-k">?</span>request_uri permanent<span class="pl-k">;</span>

    client_max_body_size    10m<span class="pl-k">;</span>
}</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="location / {
    proxy_pass              http://localhost:80;
    client_max_body_size    10m;
}

location /api {
    # HTTP 307 only for POST method.
    if ($request_method = POST) {
        return 307 https://api.example.com?request_uri;
    }

    # You can keep this for non-POST requests.
    rewrite ^ https://api.example.com?request_uri permanent;

    client_max_body_size    10m;
}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="247018434" _msthash="2089">应使用 HTTP 状态代码 <strong _istranslated="1">307</strong> 或 <strong _istranslated="1">308</strong> 而不是 <strong _istranslated="1">301</strong>，因为它将请求方法从 <strong _istranslated="1">POST</strong> 更改为 <strong _istranslated="1">GET</strong>。</p>
<p dir="auto" _msttexthash="28005783" _msthash="2090">有用的资源：</p>
<ul dir="auto">
<li><a href="https://stackoverflow.com/questions/17295085/redirection-on-apache-maintain-post-params" rel="nofollow" _msttexthash="94510832" _msthash="2091">Apache 上的重定向（维护 POST 参数）</a></li>
<li><a href="https://softwareengineering.stackexchange.com/questions/99894/why-doesnt-http-have-post-redirect" rel="nofollow" _msttexthash="58380049" _msthash="2092">为什么 HTTP 没有 POST 重定向？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="166241205" _msthash="2093">测试 NFS 性能的正确方法是什么？准备一份简短的清单。</b></summary><br>
<p dir="auto" _msttexthash="1090448320" _msthash="2094">最好的基准测试始终是 “你通常使用的应用程序”。当您有 20 个人同时编译 Linux 内核时，NFS 系统上的负载与一群人同时登录或帐户用作“本地 Web 服务器的主目录”完全不同。</p>
<p dir="auto" _msttexthash="98924995" _msthash="2095">但是我们有一些很好的工具来测试这一点。</p>
<ul dir="auto">
<li _msttexthash="2263678339" _msthash="2096"><b _istranslated="1">Boonie</b> - 经典的性能评估工具 Tests。主程序测试对单个文件（或一组文件，如果您希望测试超过 1G 的存储空间）的数据库类型访问，并测试小文件的创建、读取和删除，这些文件可以模拟 Squid、INN 或 Maildir 格式电子邮件等程序的使用情况。</li>
<li _msttexthash="230473048" _msthash="2097"><b _istranslated="1">DBench</b> - 允许独立开发人员调试和测试 SAMBA。它深受原始 SAMBA 工具的启发。</li>
<li _msttexthash="2630199442" _msthash="2098"><b _istranslated="1">IOZone</b> - 性能测试套件。符合 POSIX 和 64 位标准。该测试是来自 LSE 的文件系统测试。主要特点：POSIX 异步 I/O、Mmap（） 文件 I/O、普通文件 I/O 单流测量、多流测量、分布式文件服务器测量（集群）POSIX pthreads、带 fsync 的多进程测量可选测量，O_SYNC延迟图。</li>
</ul>
</details>
<details>
<summary><b _msttexthash="455124293" _msthash="2099">您需要阻止来自同一子网的多个 IP。系统遍历 iptables 规则集还是黑洞路由最有效的方法是什么？</b></summary><br>
<p dir="auto" _msttexthash="590784961" _msthash="2100">如果您的系统在路由表中定义了数千个路由，而 iptables 规则中没有任何内容，那么输入 iptables 规则实际上可能更有效。</p>
<p dir="auto" _msttexthash="742839227" _msthash="2101">然而，在大多数系统中，路由表相当小，在这种情况下，使用 null 路由实际上更有效。如果您已经有大量的 iptables 规则，则尤其如此。</p>
<p dir="auto" _msttexthash="810250441" _msthash="2102">假设您根据源地址而不是目标进行阻塞，那么在 <strong _istranslated="1">raw/PREROUTING</strong> 中执行 <strong _istranslated="1">DROP</strong> 会效果很好，因为您基本上可以在做出任何路由决策之前丢弃数据包。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="542630413" _msthash="2103">但请记住，iptables 规则本质上是一个链接列表，为了获得最佳性能，在阻止多个地址时，您应该使用 .</font><code>ipset</code></p>
<p dir="auto" _msttexthash="1605106451" _msthash="2104">另一方面，如果按目标阻止，则在路由表和 iptables 上阻止之间可能几乎没有区别<strong _istranslated="1">，除非</strong>源 IP 是欺骗的，在这种情况下，黑洞条目可能会消耗路由缓存资源;在这种情况下，<strong _istranslated="1">raw/PREROUTING</strong> 仍然是首选。</p>
<p dir="auto" _msttexthash="2381378246" _msthash="2105">在您尝试将数据包发送回攻击者之前，您的传出路由无关紧要。到那时，你已经承担了大部分套接字设置的成本，甚至可能有一个线程阻塞等待内核得出你没有到主机的路由的结论，再加上你的服务器进程在得出网络问题时所做的任何错误处理。</p>
<p dir="auto" _msttexthash="788217196" _msthash="2106">iptables 或其他防火墙将允许您阻止传入流量，并在其到达服务器上的守护进程之前将其丢弃。在这个用例中，它似乎显然更胜一筹。</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>iptables -A INPUT -s 192.168.200.0/24 -j DROP</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="iptables -A INPUT -s 192.168.200.0/24 -j DROP" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="718170089" _msthash="2107">当您在 Linux/Unix 系统上定义路由时，它会告诉系统，为了与指定的 IP 地址通信，您需要将网络通信路由到此特定位置。</p>
<p dir="auto" _msttexthash="2380565902" _msthash="2108">当您定义 null 路由时，它只是告诉系统丢弃指定给指定 IP 地址的网络通信。这意味着任何基于 TCP 的网络通信都无法建立，因为您的服务器将无法再发送 SYN/ACK 回复。但是，仍将接收任何基于 UDP 的网络通信;但是，您的系统将不再向原始 IP 发送任何响应。</p>
<p dir="auto" _msttexthash="1241193200" _msthash="2109">虽然 iptables 可以接受链中的数万条规则，但这些链是按顺序遍历的，直到在每个数据包上找到匹配项。因此，大量规则可能会导致系统花费大量 CPU 时间来遍历规则。</p>
<p dir="auto" _msttexthash="1093267110" _msthash="2110">路由规则比 iptables 简单得多。使用 iptables，匹配可以基于许多不同的变量，包括协议、源数据包和目标数据包，甚至在当前数据包之前发送的其他数据包。</p>
<p dir="auto" _msttexthash="2432030575" _msthash="2111">在路由中，重要的是远程 IP 地址，因此很容易优化。此外，许多系统有很多路由规则。一个典型的系统可能只有 5 个或 10 个，但充当 BGP 路由器的东西可以有数万个。因此，很长一段时间以来，在为特定数据包选择正确的路由方面进行了广泛的优化。</p>
<p dir="auto" _msttexthash="364292331" _msthash="2112">用不太技术性的术语来说，这意味着您的系统将收到来自攻击者的数据，但不再响应它。</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ip route add blackhole 192.168.200.0/24</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ip route add blackhole 192.168.200.0/24" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="2285010" _msthash="2113">或</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ip route add 192.168.200.0/24 via 127.0.0.1</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ip route add 192.168.200.0/24 via 127.0.0.1" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="2114">有用的资源：</p>
<ul dir="auto">
<li><a href="https://www.tummy.com/blogs/2006/07/27/the-difference-between-iptables-drop-and-null-routing/" rel="nofollow" _msttexthash="42599557" _msthash="2115">iptables DROP 和 null-routing 的区别。</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="81156010" _msthash="2116">如何使用第二个远程主机运行 <code _istranslated="1">scp</code>？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="10096853" _msthash="2117">跟：</font><code>ssh</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ssh user1@remote1 <span class="pl-s"><span class="pl-pds">'</span>ssh user2@remote2 "cat file"<span class="pl-pds">'</span></span> <span class="pl-k">&gt;</span> file</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ssh user1@remote1 'ssh user2@remote2 &quot;cat file&quot;' > file" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="40460355" _msthash="2118">带（带压缩）：</font><code>tar</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ssh user1@remote1 <span class="pl-s"><span class="pl-pds">'</span>ssh user2@remote2 "cd path2; tar cj file"<span class="pl-pds">'</span></span> <span class="pl-k">|</span> tar xj</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ssh user1@remote1 'ssh user2@remote2 &quot;cd path2; tar cj file&quot;' | tar xj" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="45492642" _msthash="2119">带 和 端口转发隧道：</font><code>ssh</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> First, open the tunnel</span>
ssh -L 1234:remote2:22 -p 45678 user1@remote1

<span class="pl-c"><span class="pl-c">#</span> Then, use the tunnel to copy the file directly from remote2</span>
scp -P 1234 user2@localhost:file <span class="pl-c1">.</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# First, open the tunnel
ssh -L 1234:remote2:22 -p 45678 user1@remote1

# Then, use the tunnel to copy the file directly from remote2
scp -P 1234 user2@localhost:file ." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="78807911" _msthash="2120">如何减少动态网站的加载时间？</b></summary><br>
<ul dir="auto">
<li _msttexthash="12159095" _msthash="2121">网页优化</li>
<li _msttexthash="14279408" _msthash="2122">缓存网页</li>
<li _msttexthash="19901557" _msthash="2123">优质虚拟主机</li>
<li _msttexthash="18676333" _msthash="2124">压缩文本文件</li>
<li _msttexthash="14312389" _msthash="2125">Apache/nginx 调优</li>
</ul>
</details>
<details>
<summary><b _msttexthash="316806906" _msthash="2126">当您在浏览器中键入 api.example.com 并按回车键时，哪些类型的 dns 缓存有效？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="616138315" _msthash="2127">浏览器会检查域是否在其缓存中（要查看 Chrome 中的 DNS 缓存，请转到 ）。当此缓存失败时，它只需要求 OS 解析域。</font><code>chrome://net-internals/#dns</code></p>
<p dir="auto" _msttexthash="456633580" _msthash="2128">OS 解析器有自己的缓存，它将对其进行检查。如果失败，它会求助于询问操作系统配置的 DNS 服务器。</p>
<p dir="auto" _msttexthash="703904253" _msthash="2129">操作系统配置的 DNS 服务器通常由路由器的 DHCP 配置，其中 DNS 服务器可能是 ISP 的 DNS 服务器，由 DHCP 从互联网网关配置到路由器。</p>
<p dir="auto" _msttexthash="756592408" _msthash="2130">如果路由器有自己的 DNS 服务器，它可能有自己的缓存，否则，一旦发现操作系统缓存为空，您通常应该被直接定向到 ISP 的 DNS 服务器。</p>
<p dir="auto" _msttexthash="28005783" _msthash="2131">有用的资源：</p>
<ul dir="auto">
<li><a href="https://github.com/alex/what-happens-when" _msttexthash="2236819" _msthash="2132">当...</a></li>
<li><a href="https://scotch.io/tutorials/dns-explained-how-your-browser-finds-websites" rel="nofollow" _msttexthash="64184692" _msthash="2133">DNS 解释 - 浏览器如何查找网站</a></li>
<li><a href="https://stackoverflow.com/questions/13063496/firefox-invalidate-dns-cache" rel="nofollow" _msttexthash="30270643" _msthash="2134">Firefox 使 dns 缓存失效</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="191330893" _msthash="2135"><code _istranslated="1">Cache-Control： max-age=0</code> 和 <code _istranslated="1">Cache-Control： no-cache</code> 有什么区别？</b></summary><br>
<p dir="auto"><strong _msttexthash="33983027" _msthash="2136">当由源服务器发送时</strong></p>
<p dir="auto"><code>max-age=0</code><font _mstmutation="1" _msttexthash="1443924521" _msthash="2137">只是告诉缓存（和用户代理）响应从一开始就过时了，因此他们应该在使用缓存副本之前重新验证响应（例如，使用 If-Not-Modified 标头），而告诉他们必须在使用缓存副本之前重新验证。</font><code>no-cache</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2606449391" _msthash="2138">换句话说，缓存有时可能会选择使用过时的响应（尽管我相信它们必须添加 Warning 标头），但表示无论如何都不允许使用过时的响应。也许您希望在页面中生成棒球统计数据时出现 SHOULD-revalidate 行为，但当您生成对电子商务购买的响应时，您希望出现 MUST-revalidate 行为。</font><code>no-cache</code></p>
<p dir="auto"><strong _msttexthash="29482349" _msthash="2139">当用户代理发送时</strong></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="1997072831" _msthash="2140">如果用户代理使用 （aka.“end-to-end revalidation”），则沿途的每个缓存都会重新验证其缓存条目（例如，使用 If-Not-Modified 标头），一直到源服务器。如果回复为 304 （Not Modified），则可以使用缓存的实体。</font><code>Cache-Control: max-age=0</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="527404384" _msthash="2141">另一方面，使用 （aka.“end-to-end reload”）不会重新验证，并且服务器在响应时不得使用缓存的副本。</font><code>Cache-Control: no-cache</code></p>
</details>
<details>
<summary><b _msttexthash="141237980" _msthash="2142">设置 <code _istranslated="1">Access-Control-Allow-Origin</code> 有哪些安全风险？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="1130647687" _msthash="2143">通过响应 ，请求的资源允许与每个源共享。这基本上意味着任何站点都可以向你的站点发送 XHR 请求并访问服务器的响应，如果你没有实现这个 CORS 响应，情况就不会如此。</font><code>Access-Control-Allow-Origin: *</code></p>
<p dir="auto" _msttexthash="1953387553" _msthash="2144">因此，任何网站都可以代表其访问者向您的网站发出请求并处理其响应。如果您实施了基于浏览器自动提供的内容（cookie、基于 cookie 的会话等）的身份验证或授权方案之类的内容，则第三方网站触发的请求也将使用它们。</p>
</details>
<details>
<summary><b _msttexthash="61312810" _msthash="2145">使用 <code _istranslated="1">netcat</code> 创建一次性 TCP 或 UDP 代理。</b></summary><br>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span>## TCP -&gt; TCP</span>
nc -l -p 2000 -c <span class="pl-s"><span class="pl-pds">"</span>nc [ip|hostname] 3000<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span>## TCP -&gt; UDP</span>
nc -l -p 2000 -c <span class="pl-s"><span class="pl-pds">"</span>nc -u [ip|hostname] 3000<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span>## UDP -&gt; UDP</span>
nc -l -u -p 2000 -c <span class="pl-s"><span class="pl-pds">"</span>nc -u [ip|hostname] 3000<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span>## UDP -&gt; TCP</span>
nc -l -u -p 2000 -c <span class="pl-s"><span class="pl-pds">"</span>nc [ip|hostname] 3000<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="### TCP -> TCP
nc -l -p 2000 -c &quot;nc [ip|hostname] 3000&quot;

### TCP -> UDP
nc -l -p 2000 -c &quot;nc -u [ip|hostname] 3000&quot;

### UDP -> UDP
nc -l -u -p 2000 -c &quot;nc -u [ip|hostname] 3000&quot;

### UDP -> TCP
nc -l -u -p 2000 -c &quot;nc [ip|hostname] 3000&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="83144386" _msthash="2146">解释使用 <code _istranslated="1">nmap</code> 避开防火墙的 3 种技术。</b></summary><br>
<p dir="auto"><strong _msttexthash="20945860" _msthash="2147">使用诱饵地址</strong></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#</span> Generates a random number of decoys.</span>
nmap -D RND:10 [target]

<span class="pl-c"><span class="pl-c">#</span> Manually specify the IP addresses of the decoys.</span>
nmap -D decoy1,decoy2,decoy3</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# Generates a random number of decoys.
nmap -D RND:10 [target]

# Manually specify the IP addresses of the decoys.
nmap -D decoy1,decoy2,decoy3" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="1257037483" _msthash="2148">在这种类型的扫描中，您可以指示 Nmap 欺骗来自其他主机的数据包。在防火墙日志中，不仅会有我们的 IP 地址，还会有诱饵的 IP 地址，因此很难确定扫描是从哪个系统开始的。</p>
<p dir="auto"><strong _msttexthash="21430981" _msthash="2149">源端口号规范</strong></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>nmap --source-port 53 [target]</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="nmap --source-port 53 [target]" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="1202222905" _msthash="2150">许多管理员在配置防火墙时犯的一个常见错误是设置规则以允许来自特定端口号的所有传入流量。Nmap 的选项可用于利用此错误配置。可用于此类扫描的常见端口为：20、53 和 67。</font><code>--source-port</code></p>
<p dir="auto"><strong _msttexthash="21183318" _msthash="2151">追加随机数据</strong></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>nmap --data-length 25 [target]</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="nmap --data-length 25 [target]" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="1724928608" _msthash="2152">许多防火墙通过查看数据包的大小来检查数据包，以识别潜在的端口扫描。这是因为许多扫描程序正在发送具有特定大小的数据包。为了避免此类检测，您可以使用命令添加其他数据并发送与默认大小不同的数据包。</font><code>--data-length</code></p>
<p dir="auto"><strong _msttexthash="8961940" _msthash="2153">TCP ACK 扫描</strong></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>nmap -sA [target]</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="nmap -sA [target]" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="1358763380" _msthash="2154">发送 ACK 数据包而不是 SYN 数据包总是好的，因为如果远程计算机上有任何活动防火墙在工作，那么由于 ACK 数据包，防火墙无法创建日志，因为防火墙将 ACK 数据包视为 SYN 数据包的响应。</p>
<p dir="auto" _msttexthash="28005783" _msthash="2155">有用的资源：</p>
<ul dir="auto">
<li><a href="https://pentestlab.blog/2012/04/02/nmap-techniques-for-avoiding-firewalls/" rel="nofollow" _msttexthash="46389096" _msthash="2156">Nmap - 避开防火墙的技术</a></li>
</ul>
</details>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="40846143" _msthash="2157">Devops 问题 （5）</h6><a id="user-content-devops-questions-5-1" class="anchor" aria-label="永久链接： Devops 问题 （5）" href="#devops-questions-5-1" _mstaria-label="706784" _msthash="2158"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="121080492" _msthash="2159">解释一下 Nagios 中的 Flap Detection 是如何工作的？</b></summary><br>
<p dir="auto" _msttexthash="356746416" _msthash="2160">当服务或主机过于频繁地更改状态时，会发生<strong _istranslated="1">翻动</strong>，这会导致大量问题和恢复通知。</p>
<p dir="auto" _msttexthash="736980452" _msthash="2161">定义 <strong _istranslated="1">Flapping</strong> 后，请说明 Nagios 如何检测 <strong _istranslated="1">Flapping</strong>。每当 Nagios 检查主机或服务的状态时，它都会检查它是否已开始或停止摆动。</p>
<p dir="auto" _msttexthash="128315057" _msthash="2162">Nagios 遵循以下给定的程序来执行此操作：</p>
<ul dir="auto">
<li _msttexthash="406689478" _msthash="2163">存储主机或服务最近 21 次检查的结果，分析历史检查结果，并确定状态更改/转换发生的位置</li>
<li _msttexthash="250655093" _msthash="2164">使用状态转换来确定主机或服务的状态变化百分比值（变化的度量）</li>
<li _msttexthash="214430229" _msthash="2165">将 Percent State Change 值与低摆动阈值和高摆动阈值进行比较</li>
</ul>
</details>
<details>
<summary><b _msttexthash="102856715" _msthash="2166">与虚拟化相比，容器化提供了哪些优势？</b></summary><br>
<p dir="auto" _msttexthash="84807658" _msthash="2167">以下是容器化相对于虚拟化的优势：</p>
<ul dir="auto">
<li _msttexthash="150288645" _msthash="2168">容器提供实时配置和可扩展性，但 VM 提供缓慢的配置</li>
<li _msttexthash="63993930" _msthash="2169">与 VM 相比，容器是轻量级的</li>
<li _msttexthash="58979817" _msthash="2170">与容器相比，VM 的性能有限</li>
<li _msttexthash="97495229" _msthash="2171">与 VM 相比，容器具有更好的资源利用率</li>
</ul>
</details>
<details>
<summary><b _msttexthash="737935978" _msthash="2172">从 Docker Hub 分发 Docker 应用程序（例如 Apache、MySQL）的方式是否适用于生产环境？描述安全问题和可能的解决方案。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2173">待完成。</p>
</details>
<details>
<summary><b _msttexthash="129915097" _msthash="2174">LXC 和 LXD 的一些常见用例来自以下要求......解释。</b></summary><br>
<ul dir="auto">
<li _msttexthash="131001091" _msthash="2175">需要一个隔离的开发环境，而不会污染您的主机</li>
<li _msttexthash="186001439" _msthash="2176">在生产服务器中隔离，并且可以在自己的容器中运行多个服务</li>
<li _msttexthash="196806974" _msthash="2177">需要使用同一软件的多个版本或不同的操作系统环境进行测试</li>
<li _msttexthash="300655654" _msthash="2178">尝试不同发行版和新发行版的 GNU/Linux 发行版，而不必将它们安装在物理主机上</li>
<li _msttexthash="192739274" _msthash="2179">尝试一个软件或开发堆栈，在尝试一番后可能会也可能不会使用</li>
<li _msttexthash="251831840" _msthash="2180">在主开发计算机或生产服务器中安装多种类型的软件，并长期维护它们</li>
<li _msttexthash="259912432" _msthash="2181">在生产计算机上实际执行任何安装或维护任务之前，先对其进行试运行</li>
<li _msttexthash="264773639" _msthash="2182">通过为不同的用户或客户端运行多个服务，更好地利用和预置服务器资源</li>
<li _msttexthash="291229471" _msthash="2183">高密度虚拟专用服务器 （VPS） 托管，需要隔离而无需完全虚拟化的成本</li>
<li _msttexthash="193292359" _msthash="2184">与从虚拟机访问复杂的方法相比，从容器轻松访问主机硬件</li>
<li _msttexthash="77915630" _msthash="2185">具有不同自定义设置的多个构建环境</li>
</ul>
</details>
<details>
<summary><b _msttexthash="130660504" _msthash="2186">您必须准备一个 Redis 集群。您将如何确保安全？</b></summary><br>
<ul dir="auto">
<li _msttexthash="117530686" _msthash="2187">通过防火墙保护给定的 Redis 实例免受外部访问</li>
<li _msttexthash="112146372" _msthash="2188">如果只有本地客户端访问它，则将其绑定到 127.0.0.1</li>
<li _msttexthash="12233676" _msthash="2189">沙箱环境</li>
<li _msttexthash="5122208" _msthash="2190">启用 <strong _istranslated="1">AUTH</strong></li>
<li _msttexthash="18436561" _msthash="2191">启用<strong _istranslated="1">保护模式</strong></li>
<li><font _mstmutation="1" _msttexthash="37405225" _msthash="2192">数据加密支持（例如</font><code>spiped</code>)</li>
<li _msttexthash="18670431" _msthash="2193">禁用特定命令</li>
<li _msttexthash="5371327" _msthash="2194">用户 <strong _istranslated="1">ACL</strong></li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="2195">有用的资源：</p>
<ul dir="auto">
<li><a href="https://redis.io/topics/security" rel="nofollow" _msttexthash="11717199" _msthash="2196">Redis 安全性</a></li>
<li><a href="http://antirez.com/news/96" rel="nofollow" _msttexthash="49742108" _msthash="2197">关于 Redis 安全性的一些事项</a></li>
</ul>
</details>
<div class="markdown-heading" dir="auto"><h6 tabindex="-1" class="heading-element" dir="auto" _msttexthash="47151611" _msthash="2198">网络安全问题 （5）</h6><a id="user-content-cyber-security-questions-5" class="anchor" aria-label="永久链接：网络安全问题 （5）" href="#cyber-security-questions-5" _mstaria-label="1057992" _msthash="2199"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="185079973" _msthash="2200">什么是 OWASP 应用程序安全验证标准？请用几点来解释。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2201">待完成。</p>
</details>
<details>
<summary><b _msttexthash="18911126" _msthash="2202">什么是 CSRF？</b></summary><br>
<p dir="auto" _msttexthash="948646374" _msthash="2203"><strong _istranslated="1">跨站点请求伪造</strong>是一种 Web 应用程序漏洞，其中服务器不检查请求是否来自受信任的客户端。请求只是直接处理。可以进一步遵循检测此方法、示例和对策。</p>
</details>
<details>
<summary><b _msttexthash="84078397" _msthash="2204">政策、流程和指南之间有什么区别？</b></summary><br>
<p dir="auto" _msttexthash="1189015425" _msthash="2205">As <strong _istranslated="1">安全策略</strong>定义了组织的安全目标和安全框架。<strong _istranslated="1">流程</strong>是一个详细的分步如何记录，它指定了实施重要安全机制所需的确切操作。<strong _istranslated="1">准则</strong>是可以自定义并在创建过程时使用的建议。</p>
</details>
<details>
<summary><b _msttexthash="71816797" _msthash="2206">什么是 IDS 的假阳性和假阴性？</b></summary><br>
<p dir="auto" _msttexthash="606078876" _msthash="2207">当设备为实际上尚未发生的入侵生成警报时：这是<strong _istranslated="1">误报</strong>，如果设备未生成任何警报并且入侵确实发生了，则属于<strong _istranslated="1">漏报</strong>。</p>
</details>
<details>
<summary><b _msttexthash="77629487" _msthash="2208">关于 Web 服务器强化的 10 个快速要点。</b></summary><br>
<p dir="auto" _msttexthash="8644857" _msthash="2209">例：</p>
<ul dir="auto">
<li _msttexthash="402924834" _msthash="2210">如果 Machine 是新安装的，请保护它免受恶意网络流量的影响，直到安装并强化操作系统</li>
<li><font _mstmutation="1" _msttexthash="53733888" _msthash="2211">创建一个单独的分区，并为</font><code>nodev</code><code>nosuid</code><code>noexec</code><code>/tmp</code></li>
<li><font _mstmutation="1" _msttexthash="38102883" _msthash="2212">为 、 、 和 创建单独的分区</font><code>/var</code><code>/var/log</code><code>/var/log/audit</code><code>/home</code></li>
<li _msttexthash="6494072" _msthash="2213">启用 Randomized Virtual Memory Region Placement</li>
<li><font _mstmutation="1" _msttexthash="70566262" _msthash="2214">删除旧版服务（例如 、 、 、 、 ）。</font><code>telnet-server</code><code>rsh</code><code>rlogin</code><code>rcp</code><code>ypserv</code><code>ypbind</code><code>tftp</code><code>tftp-server</code><code>talk</code><code>talk-server</code></li>
<li _msttexthash="337817935" _msthash="2215">通过防火墙和其他访问控制技术，将主机上运行的服务的连接限制为服务的授权用户</li>
<li _msttexthash="39934323" _msthash="2216">禁用源路由数据包接受</li>
<li _msttexthash="5308797" _msthash="2217">启用 <strong _istranslated="1">TCP/SYN</strong> Cookie</li>
<li _msttexthash="17762238" _msthash="2218">禁用 SSH root 登录</li>
<li _msttexthash="17854967" _msthash="2219">安装和配置 <strong _istranslated="1">AIDE</strong></li>
<li _msttexthash="17965597" _msthash="2220">安装和配置 <strong _istranslated="1">OSsec HIDS</strong></li>
<li _msttexthash="6886828" _msthash="2221">配置 <strong _istranslated="1">SELinux</strong></li>
<li _msttexthash="82308967" _msthash="2222">必须记录所有管理员或 root 访问权限</li>
<li _msttexthash="200185635" _msthash="2223">应启用并测试系统帐户、组成员资格及其关联权限的完整性检查</li>
<li _msttexthash="101749492" _msthash="2224">设置密码创建要求（例如，使用 PAM）</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="2225">有用的资源：</p>
<ul dir="auto">
<li><a href="https://highon.coffee/blog/security-harden-centos-7/" rel="nofollow" _msttexthash="10026952" _msthash="2226">安全强化 CentOS 7</a></li>
<li><a href="https://www.lisenet.com/2017/centos-7-server-hardening-guide/" rel="nofollow" _msttexthash="35298861" _msthash="2227">CentOS 7 服务器加固指南</a></li>
</ul>
</details>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><a name="user-content-secret-knowledge" _msttexthash="13524589" _msthash="2228">秘密知识</a></h2><a id="user-content-secret-knowledge" class="anchor" aria-label="永久链接：秘密知识" href="#secret-knowledge" _mstaria-label="629811" _msthash="2229"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto" _msttexthash="39409214" _msthash="2230">💠 <a name="user-content-guru-sysadmin" _istranslated="1">Guru 系统管理员</a></h3><a id="user-content-diamond_shape_with_a_dot_inside-guru-sysadmin" class="anchor" aria-label="永久链接： :d iamond_shape_with_a_dot_inside： Guru Sysadmin" href="#diamond_shape_with_a_dot_inside-guru-sysadmin" _mstaria-label="2497092" _msthash="2231"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<details>
<summary><b _msttexthash="135371574" _msthash="2232">解释什么是事件驱动架构以及它如何提高性能？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2233">待完成。</p>
</details>
<details>
<summary><b _msttexthash="406051061" _msthash="2234">应用程序遇到一些性能问题。您应该找到我们必须优化的代码。如何在 Linux 环境中分析应用程序？</b></summary><br>
<blockquote>
<p dir="auto" _msttexthash="505671842" _msthash="2235">理想情况下，我需要一个应用程序，它将附加到进程并定期记录以下快照：内存使用情况 线程数 CPU 使用情况。</p>
</blockquote>
<ol dir="auto">
<li><font _mstmutation="1" _msttexthash="368924049" _msthash="2236">您可以在批处理模式下使用。它以批处理模式运行，直到它被杀死或直到完成 N 次迭代：</font><code>top</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>top -b -p <span class="pl-s"><span class="pl-pds">`</span>pidof a.out<span class="pl-pds">`</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="top -b -p `pidof a.out`" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="2285010" _msthash="2237">或</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>top -b -p <span class="pl-s"><span class="pl-pds">`</span>pidof a.out<span class="pl-pds">`</span></span> -n 100</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="top -b -p `pidof a.out` -n 100" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="2" dir="auto">
<li _msttexthash="109127096" _msthash="2238">您可以使用 ps（例如在 shell 脚本中）：</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>ps --format pid,pcpu,cputime,etime,size,vsz,cmd -p <span class="pl-s"><span class="pl-pds">`</span>pidof a.out<span class="pl-pds">`</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ps --format pid,pcpu,cputime,etime,size,vsz,cmd -p `pidof a.out`" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<blockquote>
<p dir="auto" _msttexthash="158053623" _msthash="2239">我需要一些方法来记录应用程序在 Linux 计算机上的性能。</p>
</blockquote>
<ol dir="auto">
<li _msttexthash="37938095" _msthash="2240">要记录性能数据：</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>perf record -p <span class="pl-s"><span class="pl-pds">`</span>pidof a.out<span class="pl-pds">`</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="perf record -p `pidof a.out`" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="23200476" _msthash="2241">或录制 10 秒：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>perf record -p <span class="pl-s"><span class="pl-pds">`</span>pidof a.out<span class="pl-pds">`</span></span> sleep 10</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="perf record -p `pidof a.out` sleep 10" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="84137066" _msthash="2242">或使用调用图 （） 进行录制：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>perf record -g -p <span class="pl-s"><span class="pl-pds">`</span>pidof a.out<span class="pl-pds">`</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="perf record -g -p `pidof a.out`" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="2" dir="auto">
<li _msttexthash="24715990" _msthash="2243">分析记录的数据</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>perf report --stdio
perf report --stdio --sort=dso -g none
perf report --stdio -g none
perf report --stdio -g</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="perf report --stdio
perf report --stdio --sort=dso -g none
perf report --stdio -g none
perf report --stdio -g" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><strong _msttexthash="86118019" _msthash="2244">这是对测试程序进行性能分析的示例</strong></p>
<ol dir="auto">
<li _msttexthash="87045205" _msthash="2245">我运行我的测试程序 （c++）：</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>./my_test 100000000</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="./my_test 100000000" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="2" dir="auto">
<li _msttexthash="131864837" _msthash="2246">然后，我记录正在运行的进程的性能数据：</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>perf record -g  -p <span class="pl-s"><span class="pl-pds">`</span>pidof my_test<span class="pl-pds">`</span></span> -o ./my_test.perf.data sleep 30</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="perf record -g  -p `pidof my_test` -o ./my_test.perf.data sleep 30" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="3" dir="auto">
<li _msttexthash="70346263" _msthash="2247">然后我分析每个模块的负载：</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>perf report --stdio -g none --sort comm,dso -i ./my_test.perf.data

<span class="pl-c"><span class="pl-c">#</span> Overhead  Command                 Shared Object</span>
<span class="pl-c"><span class="pl-c">#</span> ........  .......  ............................</span>
<span class="pl-c"><span class="pl-c">#</span></span>
    70.06%  my_test  my_test
    28.33%  my_test  libtcmalloc_minimal.so.0.1.0
     1.61%  my_test  [kernel.kallsyms]</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="perf report --stdio -g none --sort comm,dso -i ./my_test.perf.data

# Overhead  Command                 Shared Object
# ........  .......  ............................
#
    70.06%  my_test  my_test
    28.33%  my_test  libtcmalloc_minimal.so.0.1.0
     1.61%  my_test  [kernel.kallsyms]" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="4" dir="auto">
<li _msttexthash="62950407" _msthash="2248">然后分析每个函数的负载：</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>perf report --stdio -g none -i ./my_test.perf.data <span class="pl-k">|</span> c++filt

<span class="pl-c"><span class="pl-c">#</span> Overhead  Command                 Shared Object                       Symbol</span>
<span class="pl-c"><span class="pl-c">#</span> ........  .......  ............................  ...........................</span>
<span class="pl-c"><span class="pl-c">#</span></span>
    29.30%  my_test  my_test                       [.] f2(long)
    29.14%  my_test  my_test                       [.] f1(long)
    15.17%  my_test  libtcmalloc_minimal.so.0.1.0  [.] operator new(unsigned long)
    13.16%  my_test  libtcmalloc_minimal.so.0.1.0  [.] operator delete(void<span class="pl-k">*</span>)
     9.44%  my_test  my_test                       [.] process_request(long)
     1.01%  my_test  my_test                       [.] operator delete(void<span class="pl-k">*</span>)@plt
     0.97%  my_test  my_test                       [.] operator new(unsigned long)@plt
     0.20%  my_test  my_test                       [.] main
     0.19%  my_test  [kernel.kallsyms]             [k] apic_timer_interrupt
     0.16%  my_test  [kernel.kallsyms]             [k] _spin_lock
     0.13%  my_test  [kernel.kallsyms]             [k] native_write_msr_safe

  ...</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="perf report --stdio -g none -i ./my_test.perf.data | c++filt

# Overhead  Command                 Shared Object                       Symbol
# ........  .......  ............................  ...........................
#
    29.30%  my_test  my_test                       [.] f2(long)
    29.14%  my_test  my_test                       [.] f1(long)
    15.17%  my_test  libtcmalloc_minimal.so.0.1.0  [.] operator new(unsigned long)
    13.16%  my_test  libtcmalloc_minimal.so.0.1.0  [.] operator delete(void*)
     9.44%  my_test  my_test                       [.] process_request(long)
     1.01%  my_test  my_test                       [.] operator delete(void*)@plt
     0.97%  my_test  my_test                       [.] operator new(unsigned long)@plt
     0.20%  my_test  my_test                       [.] main
     0.19%  my_test  [kernel.kallsyms]             [k] apic_timer_interrupt
     0.16%  my_test  [kernel.kallsyms]             [k] _spin_lock
     0.13%  my_test  [kernel.kallsyms]             [k] native_write_msr_safe

  ..." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="5" dir="auto">
<li _msttexthash="675636" _msthash="2249">Then call chains are analyzed:</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>perf report --stdio -g graph -i ./my_test.perf.data <span class="pl-k">|</span> c++filt

<span class="pl-c"><span class="pl-c">#</span> Overhead  Command                 Shared Object                       Symbol</span>
<span class="pl-c"><span class="pl-c">#</span> ........  .......  ............................  ...........................</span>
<span class="pl-c"><span class="pl-c">#</span></span>
    29.30%  my_test  my_test                       [.] f2(long)
            <span class="pl-k">|</span>
            --- f2(long)
               <span class="pl-k">|</span>
                --29.01%-- process_request(long)
                          main
                          __libc_start_main

    29.14%  my_test  my_test                       [.] f1(long)
            <span class="pl-k">|</span>
            --- f1(long)
               <span class="pl-k">|</span>
               <span class="pl-k">|</span>--15.05%-- process_request(long)
               <span class="pl-k">|</span>          main
               <span class="pl-k">|</span>          __libc_start_main
               <span class="pl-k">|</span>
                --13.79%-- f2(long)
                          process_request(long)
                          main
                          __libc_start_main

  ...</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="perf report --stdio -g graph -i ./my_test.perf.data | c++filt

# Overhead  Command                 Shared Object                       Symbol
# ........  .......  ............................  ...........................
#
    29.30%  my_test  my_test                       [.] f2(long)
            |
            --- f2(long)
               |
                --29.01%-- process_request(long)
                          main
                          __libc_start_main

    29.14%  my_test  my_test                       [.] f1(long)
            |
            --- f1(long)
               |
               |--15.05%-- process_request(long)
               |          main
               |          __libc_start_main
               |
                --13.79%-- f2(long)
                          process_request(long)
                          main
                          __libc_start_main

  ..." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="1967030" _msthash="2250">So at this point you know where your program spends time.</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2203058" _msthash="2251">Also the simple way to do app profile is to use the  utility or .</font><code>pstack</code><code>lsstack</code></p>
<p dir="auto" _msttexthash="2843568" _msthash="2252">Other tool is Valgrind. So this is what I recommend. Run program first:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>valgrind --tool=callgrind --dump-instr=yes -v --instr-atstart=no ./binary <span class="pl-k">&gt;</span> tmp</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="valgrind --tool=callgrind --dump-instr=yes -v --instr-atstart=no ./binary > tmp" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="3659929" _msthash="2253">Now when it works and we want to start profiling we should run in another window:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>callgrind_control -i on</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="callgrind_control -i on" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="2936921" _msthash="2254">This turns profiling on. To turn it off and stop whole task we might use:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>callgrind_control -k</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="callgrind_control -k" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="5276310" _msthash="2255">Now we have some files named callgrind.out.* in current directory. To see profiling results use:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>kcachegrind callgrind.out.<span class="pl-k">*</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="kcachegrind callgrind.out.*" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="6693349" _msthash="2256">I recommend in next window to click on <strong _mstmutation="1">Self</strong> column header, otherwise it shows that  is most time consuming task.</font><code>main()</code></p>
<p dir="auto" _msttexthash="312741" _msthash="2257">Useful resources:</p>
<ul dir="auto">
<li><a href="http://techblog.rosedu.org/tracing-processes-for-fun-and-profit.html" rel="nofollow" _msttexthash="956722" _msthash="2258">Tracing processes for fun and profit</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="713548212" _msthash="2259">使用安装了有限数量的软件包的 Linux 系统，并且 telnet 不可用。使用 sysfs 虚拟文件系统测试所有接口上的连接（无环回）。</b></summary><br>
<p dir="auto" _msttexthash="11876891" _msthash="2260">例如：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"><span class="pl-c">#!</span>/usr/bin/bash</span>

<span class="pl-k">for</span> <span class="pl-smi">iface</span> <span class="pl-k">in</span> <span class="pl-s"><span class="pl-pds">$(</span>ls /sys/class/net/ <span class="pl-k">|</span> grep -v lo<span class="pl-pds">)</span></span> <span class="pl-k">;</span> <span class="pl-k">do</span>

  <span class="pl-k">if</span> [[ <span class="pl-s"><span class="pl-pds">$(</span>cat /sys/class/net/<span class="pl-smi">$iface</span>/carrier<span class="pl-pds">)</span></span> <span class="pl-k">=</span> 1 ]] <span class="pl-k">;</span> <span class="pl-k">then</span> state=1 <span class="pl-k">;</span> <span class="pl-k">fi</span>

<span class="pl-k">done</span>

<span class="pl-k">if</span> [[ <span class="pl-smi">$state</span> <span class="pl-k">-ne</span> 0 ]] <span class="pl-k">;</span> <span class="pl-k">then</span> <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>not connection<span class="pl-pds">"</span></span> <span class="pl-k">&gt;</span> /dev/stderr <span class="pl-k">;</span> <span class="pl-c1">exit</span> <span class="pl-k">;</span> <span class="pl-k">fi</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="#!/usr/bin/bash

for iface in $(ls /sys/class/net/ | grep -v lo) ; do

  if [[ $(cat /sys/class/net/$iface/carrier) = 1 ]] ; then state=1 ; fi

done

if [[ $state -ne 0 ]] ; then echo &quot;not connection&quot; > /dev/stderr ; exit ; fi" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="131574209" _msthash="2261">编写两条黄金法则来减少被黑客入侵系统的影响。</b></summary><br>
<ol dir="auto">
<li><strong _msttexthash="19285604" _msthash="2262">最小权限原则</strong></li>
</ol>
<p dir="auto" _msttexthash="689568373" _msthash="2263">您应该将服务配置为以用户身份运行，该用户具有完成服务任务所需的最低权限。即使在黑客闯入计算机后，也可以包含黑客。</p>
<p dir="auto" _msttexthash="2432237223" _msthash="2264">例如，使用 Apache Web 服务器服务的零日漏洞闯入系统的黑客很可能仅限于该进程可以访问的系统内存和文件资源。黑客将能够下载您的 html 和 php 源文件，并可能查看您的 mysql 数据库，但他们应该无法获得 root 或将入侵范围扩展到 apache 可访问的文件之外。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="767319813" _msthash="2265">许多默认的 Apache Web 服务器安装默认创建 'apache' 用户和组，你可以很容易地配置主 Apache 配置文件 （） 以使用这些组运行 apache。</font><code>httpd.conf</code></p>
<ol start="2" dir="auto">
<li><strong _msttexthash="18263804" _msthash="2266">特权分离原则</strong></li>
</ol>
<p dir="auto" _msttexthash="443472640" _msthash="2267">如果您的网站只需要对数据库进行只读访问，请创建一个仅具有只读权限且仅具有该数据库的帐户。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="342233463" _msthash="2268"><strong _mstmutation="1" _istranslated="1">SElinux</strong> 是创建安全上下文的不错选择，是另一个工具。<strong _mstmutation="1" _istranslated="1">巴士底狱</strong>是以前硬化的选择。</font><code>app-armor</code></p>
<p dir="auto" _msttexthash="257801752" _msthash="2269">通过将已受损的服务的功能分离到自己的“盒子”中，减少任何攻击的后果。</p>
<ol start="3" dir="auto">
<li><strong _msttexthash="41671721" _msthash="2270">白名单，不列入黑名单</strong></li>
</ol>
<p dir="auto" _msttexthash="126141756" _msthash="2271">您描述了一种黑名单方法。白名单方法会安全得多。</p>
<p dir="auto" _msttexthash="535678663" _msthash="2272">一个独家俱乐部永远不会试图列出所有不能进来的人;他们将列出所有可以进来的人，并排除那些不在名单上的人。</p>
<p dir="auto" _msttexthash="583847017" _msthash="2273">同样，试图列出所有不应该访问机器的东西也是注定要失败的。限制对程序/IP 地址/用户的简短列表的访问会更有效。</p>
<p dir="auto" _msttexthash="461804265" _msthash="2274">当然，与其他任何事情一样，这涉及一些权衡。具体来说，白名单非常不方便，并且需要不断维护。</p>
<p dir="auto" _msttexthash="292835660" _msthash="2275">为了进一步权衡，您可以通过断开计算机与网络的连接来获得极高的安全性。</p>
<p dir="auto" _msttexthash="31988489" _msthash="2276"><strong _istranslated="1">同样有趣的是</strong>：</p>
<p dir="auto" _msttexthash="351839189" _msthash="2277">使用可用的工具。您不太可能像安全专家一样做得好，因此请利用他们的才能来保护自己。</p>
<ul dir="auto">
<li _msttexthash="48996636" _msthash="2278">公钥加密提供出色的安全性</li>
<li _msttexthash="32152874" _msthash="2279">强制实施密码复杂性</li>
<li _msttexthash="163784686" _msthash="2280">了解您为什么对上述规则进行例外处理 - 定期查看您的例外</li>
<li _msttexthash="97880237" _msthash="2281">让某人为失败负责，它会让你保持警惕</li>
</ul>
<p dir="auto" _msttexthash="28005783" _msthash="2282">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/391370/how-to-prevent-zero-day-attacks" rel="nofollow" _msttexthash="67606136" _msthash="2283">如何防止零日攻击（原始）</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="915674877" _msthash="2284">您正在参加安全会议。成员们正在争论是否要在网络核心建立 OpenBSD 防火墙。转到讲台并表达您对此解决方案的看法。优点/缺点是什么，为什么？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2285">待完成。</p>
</details>
<details>
<summary><b _msttexthash="224093844" _msthash="2286">有没有办法在 Nginx 中使用 Access-Control-Allow-Origin 标头允许多个跨域？</b></summary><br>
<p dir="auto" _msttexthash="318331663" _msthash="2287">为了匹配 domain 和 subdomain 的列表，此正则表达式使字体的使用变得容易：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>location <span class="pl-k">~</span><span class="pl-k">*</span> <span class="pl-cce">\.</span>(<span class="pl-k">?</span>:ttf<span class="pl-k">|</span>ttc<span class="pl-k">|</span>otf<span class="pl-k">|</span>eot<span class="pl-k">|</span>woff<span class="pl-k">|</span>woff2)$ {
   <span class="pl-k">if</span> ( <span class="pl-smi">$http_origin</span> <span class="pl-k">~</span><span class="pl-k">*</span> (https<span class="pl-k">?</span>://(.+<span class="pl-cce">\.</span>)<span class="pl-k">?</span>(domain1<span class="pl-k">|</span>domain2<span class="pl-k">|</span>domain3)<span class="pl-cce">\.</span>(<span class="pl-k">?</span>:me<span class="pl-k">|</span>co<span class="pl-k">|</span>com)$) ) {
      add_header <span class="pl-s"><span class="pl-pds">"</span>Access-Control-Allow-Origin<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$http_origin</span><span class="pl-pds">"</span></span><span class="pl-k">;</span>
   }
}</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="location ~* \.(?:ttf|ttc|otf|eot|woff|woff2)$ {
   if ( $http_origin ~* (https?://(.+\.)?(domain1|domain2|domain3)\.(?:me|co|com)$) ) {
      add_header &quot;Access-Control-Allow-Origin&quot; &quot;$http_origin&quot;;
   }
}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="33571538" _msthash="2288">更简单的配置：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>location / {

    <span class="pl-k">if</span> (<span class="pl-smi">$http_origin</span> <span class="pl-k">~</span><span class="pl-k">*</span> (^https<span class="pl-k">?</span>://([^/]+<span class="pl-cce">\.</span>)<span class="pl-k">*</span>(domainone<span class="pl-k">|</span>domaintwo)<span class="pl-cce">\.</span>com$)) {
        <span class="pl-c1">set</span> <span class="pl-smi">$cors</span> <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span><span class="pl-k">;</span>
    }

    <span class="pl-c"><span class="pl-c">#</span> Nginx doesn't support nested If statements. This is where things get slightly nasty.</span>
    <span class="pl-c"><span class="pl-c">#</span> Determine the HTTP request method used</span>
    <span class="pl-k">if</span> (<span class="pl-smi">$request_method</span> = <span class="pl-s"><span class="pl-pds">'</span>GET<span class="pl-pds">'</span></span>) {
        <span class="pl-c1">set</span> <span class="pl-smi">$cors</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${cors}</span>get<span class="pl-pds">"</span></span><span class="pl-k">;</span>
    }
    <span class="pl-k">if</span> (<span class="pl-smi">$request_method</span> = <span class="pl-s"><span class="pl-pds">'</span>POST<span class="pl-pds">'</span></span>) {
        <span class="pl-c1">set</span> <span class="pl-smi">$cors</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${cors}</span>post<span class="pl-pds">"</span></span><span class="pl-k">;</span>
    }

    <span class="pl-k">if</span> (<span class="pl-smi">$cors</span> = <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>) {
        <span class="pl-c"><span class="pl-c">#</span> Catch all in case there's a request method we're not dealing with properly</span>
        add_header <span class="pl-s"><span class="pl-pds">'</span>Access-Control-Allow-Origin<span class="pl-pds">'</span></span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$http_origin</span><span class="pl-pds">"</span></span><span class="pl-k">;</span>
    }

    <span class="pl-k">if</span> (<span class="pl-smi">$cors</span> = <span class="pl-s"><span class="pl-pds">"</span>trueget<span class="pl-pds">"</span></span>) {
        add_header <span class="pl-s"><span class="pl-pds">'</span>Access-Control-Allow-Origin<span class="pl-pds">'</span></span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$http_origin</span><span class="pl-pds">"</span></span><span class="pl-k">;</span>
        add_header <span class="pl-s"><span class="pl-pds">'</span>Access-Control-Allow-Credentials<span class="pl-pds">'</span></span> <span class="pl-s"><span class="pl-pds">'</span>true<span class="pl-pds">'</span></span><span class="pl-k">;</span>
        add_header <span class="pl-s"><span class="pl-pds">'</span>Access-Control-Allow-Methods<span class="pl-pds">'</span></span> <span class="pl-s"><span class="pl-pds">'</span>GET, POST, OPTIONS<span class="pl-pds">'</span></span><span class="pl-k">;</span>
        add_header <span class="pl-s"><span class="pl-pds">'</span>Access-Control-Allow-Headers<span class="pl-pds">'</span></span> <span class="pl-s"><span class="pl-pds">'</span>DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type<span class="pl-pds">'</span></span><span class="pl-k">;</span>
    }

    <span class="pl-k">if</span> (<span class="pl-smi">$cors</span> = <span class="pl-s"><span class="pl-pds">"</span>truepost<span class="pl-pds">"</span></span>) {
        add_header <span class="pl-s"><span class="pl-pds">'</span>Access-Control-Allow-Origin<span class="pl-pds">'</span></span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$http_origin</span><span class="pl-pds">"</span></span><span class="pl-k">;</span>
        add_header <span class="pl-s"><span class="pl-pds">'</span>Access-Control-Allow-Credentials<span class="pl-pds">'</span></span> <span class="pl-s"><span class="pl-pds">'</span>true<span class="pl-pds">'</span></span><span class="pl-k">;</span>
        add_header <span class="pl-s"><span class="pl-pds">'</span>Access-Control-Allow-Methods<span class="pl-pds">'</span></span> <span class="pl-s"><span class="pl-pds">'</span>GET, POST, OPTIONS<span class="pl-pds">'</span></span><span class="pl-k">;</span>
        add_header <span class="pl-s"><span class="pl-pds">'</span>Access-Control-Allow-Headers<span class="pl-pds">'</span></span> <span class="pl-s"><span class="pl-pds">'</span>DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type<span class="pl-pds">'</span></span><span class="pl-k">;</span>
    }

}</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="location / {

    if ($http_origin ~* (^https?://([^/]+\.)*(domainone|domaintwo)\.com$)) {
        set $cors &quot;true&quot;;
    }

    # Nginx doesn't support nested If statements. This is where things get slightly nasty.
    # Determine the HTTP request method used
    if ($request_method = 'GET') {
        set $cors &quot;${cors}get&quot;;
    }
    if ($request_method = 'POST') {
        set $cors &quot;${cors}post&quot;;
    }

    if ($cors = &quot;true&quot;) {
        # Catch all in case there's a request method we're not dealing with properly
        add_header 'Access-Control-Allow-Origin' &quot;$http_origin&quot;;
    }

    if ($cors = &quot;trueget&quot;) {
        add_header 'Access-Control-Allow-Origin' &quot;$http_origin&quot;;
        add_header 'Access-Control-Allow-Credentials' 'true';
        add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';
        add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type';
    }

    if ($cors = &quot;truepost&quot;) {
        add_header 'Access-Control-Allow-Origin' &quot;$http_origin&quot;;
        add_header 'Access-Control-Allow-Credentials' 'true';
        add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';
        add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type';
    }

}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="276206268" _msthash="2289">解释 <code _istranslated="1">:(）{ ：|：&amp; };：</code> 如果您已经登录了系统，如何停止此代码？</b></summary><br>
<p dir="auto" _msttexthash="29914313" _msthash="2290">这是一枚<strong _istranslated="1">分叉炸弹</strong>。</p>
<ul dir="auto">
<li><code>:()</code><font _mstmutation="1" _msttexthash="178532978" _msthash="2291">- 这定义了函数。 是函数名称，空括号表示它不接受任何参数</font><code>:</code></li>
<li><code>{ }</code><font _mstmutation="1" _msttexthash="83444634" _msthash="2292">- 这些字符显示函数定义的开始和结束</font></li>
<li><code>:|:</code><font _mstmutation="1" _msttexthash="505610859" _msthash="2293">- 它将函数的副本加载到内存中，并将其输出通过管道传输到函数的另一个副本，该副本必须加载到内存中</font><code>:</code><code>:</code></li>
<li><code>&amp;</code><font _mstmutation="1" _msttexthash="342164927" _msthash="2294">- 这将使该进程成为后台进程，这样即使父进程被自动杀死，子进程也不会被杀死</font></li>
<li><code>:</code><font _mstmutation="1" _msttexthash="131950611" _msthash="2295">- final 将再次执行该函数，因此链式反应开始</font><code>:</code></li>
</ul>
<p dir="auto" _msttexthash="644185113" _msthash="2296">保护多用户系统的最佳方法是使用 <strong _istranslated="1">PAM</strong> 来限制用户可以使用的进程数。我们知道分叉炸弹的最大问题是它占用了太多的进程。</p>
<p dir="auto" _msttexthash="265859308" _msthash="2297">因此，如果您已经登录系统，我们有两种方法可以尝试解决此问题：</p>
<ul dir="auto">
<li><font _mstmutation="1" _msttexthash="70440318" _msthash="2298">执行 <strong _mstmutation="1" _istranslated="1">SIGSTOP</strong> 命令以停止进程：</font><code>killall -STOP -u user1</code></li>
<li><font _mstmutation="1" _msttexthash="375033425" _msthash="2299">如果您无法在命令行中运行，则必须使用 来强制它运行（因为使用了所有进程）：</font><code>exec</code><code>exec killall -STOP -u user1</code></li>
</ul>
<p dir="auto" _msttexthash="204741680" _msthash="2300">使用 fork bombs，您最好的方法是首先防止成为一个大问题。</p>
</details>
<details>
<summary><b _msttexthash="146774056" _msthash="2301">如何恢复已删除的文件，例如被 Apache 打开的文件？</b></summary><br>
<p dir="auto" _msttexthash="1602293459" _msthash="2302">如果文件已被删除但仍处于打开状态，则意味着该文件仍然存在于文件系统中（它有一个 inode），但硬链接计数为 0。由于没有指向文件的链接，因此无法按名称打开它。也没有通过 inode 打开文件的功能。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="2216978140" _msthash="2303">Linux 通过 下的特殊符号链接公开打开的文件。这些链接称为，其中 12345 是进程的 <strong _mstmutation="1" _istranslated="1">PID，42</strong> 是该进程中文件描述符的编号。以与该进程相同的用户身份运行的程序可以访问该文件（读/写/执行权限与删除文件时的权限相同）。</font><code>/proc</code><code>/proc/12345/fd/42</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="362238006" _msthash="2304">打开文件时使用的名称在符号链接的目标中仍然可见：如果文件是 ，则链接的目标是 。</font><code>/var/log/apache/foo.log</code><code>/var/log/apache/foo.log (deleted)</code></p>
<p dir="auto" _msttexthash="583292619" _msthash="2305">因此，您可以恢复打开的已删除文件的内容，给定打开该文件的进程的 <strong _istranslated="1">PID</strong> 和打开该文件的描述符，如下所示：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-en">recover_open_deleted_file</span> () {
  old_name=<span class="pl-s"><span class="pl-pds">$(</span>readlink <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$1</span><span class="pl-pds">"</span></span><span class="pl-pds">)</span></span>
  <span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$old_name</span><span class="pl-pds">"</span></span> <span class="pl-k">in</span>
    <span class="pl-k">*</span><span class="pl-s"><span class="pl-pds">'</span> (deleted)<span class="pl-pds">'</span></span>)
      old_name=<span class="pl-smi">${old_name<span class="pl-k">%</span><span class="pl-s"><span class="pl-pds">'</span> (deleted)<span class="pl-pds">'</span></span>}</span>
      <span class="pl-k">if</span> [ <span class="pl-k">-e</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$old_name</span><span class="pl-pds">"</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span>
        new_name=<span class="pl-s"><span class="pl-pds">$(</span>TMPDIR=<span class="pl-smi">${old_name<span class="pl-k">%/*</span>}</span> mktemp<span class="pl-pds">)</span></span>
        <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$oldname</span> has been replaced, recovering content to <span class="pl-smi">$new_name</span><span class="pl-pds">"</span></span>
      <span class="pl-k">else</span>
        new_name=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$old_name</span><span class="pl-pds">"</span></span>
      <span class="pl-k">fi</span>
      cat <span class="pl-k">&lt;</span><span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$1</span><span class="pl-pds">"</span></span> <span class="pl-k">&gt;</span><span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$new_name</span><span class="pl-pds">"</span></span>;;
    <span class="pl-k">*</span>) <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>File is not deleted, doing nothing<span class="pl-pds">"</span></span>;;
  <span class="pl-k">esac</span>
}
recover_open_deleted_file <span class="pl-s"><span class="pl-pds">"</span>/proc/<span class="pl-smi">$pid</span>/fd/<span class="pl-smi">$fd</span><span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="recover_open_deleted_file () {
  old_name=$(readlink &quot;$1&quot;)
  case &quot;$old_name&quot; in
    *' (deleted)')
      old_name=${old_name%' (deleted)'}
      if [ -e &quot;$old_name&quot; ]; then
        new_name=$(TMPDIR=${old_name%/*} mktemp)
        echo &quot;$oldname has been replaced, recovering content to $new_name&quot;
      else
        new_name=&quot;$old_name&quot;
      fi
      cat <&quot;$1&quot; >&quot;$new_name&quot;;;
    *) echo &quot;File is not deleted, doing nothing&quot;;;
  esac
}
recover_open_deleted_file &quot;/proc/$pid/fd/$fd&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="285312560" _msthash="2306">如果您只知道进程 <strong _istranslated="1">ID</strong> 而不知道描述符，则可以使用以下命令恢复所有文件：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">for</span> <span class="pl-smi">x</span> <span class="pl-k">in</span> /proc/<span class="pl-smi">$pid</span>/fd/<span class="pl-k">*</span> <span class="pl-k">;</span> <span class="pl-k">do</span>
  recover_open_deleted_file <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$x</span><span class="pl-pds">"</span></span>
<span class="pl-k">done</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="for x in /proc/$pid/fd/* ; do
  recover_open_deleted_file &quot;$x&quot;
done" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="167190907" _msthash="2307">如果您也不知道进程 <strong _istranslated="1">ID</strong>，则可以在所有进程中搜索：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">for</span> <span class="pl-smi">x</span> <span class="pl-k">in</span> /proc/[1-9]<span class="pl-k">*</span>/fd/<span class="pl-k">*</span> <span class="pl-k">;</span> <span class="pl-k">do</span>
  <span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">$(</span>readlink <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$x</span><span class="pl-pds">"</span></span><span class="pl-pds">)</span></span> <span class="pl-k">in</span>
    /var/log/apache/<span class="pl-k">*</span>) recover_open_deleted_file <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$x</span><span class="pl-pds">"</span></span>;;
  <span class="pl-k">esac</span>
<span class="pl-k">done</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="for x in /proc/[1-9]*/fd/* ; do
  case $(readlink &quot;$x&quot;) in
    /var/log/apache/*) recover_open_deleted_file &quot;$x&quot;;;
  esac
done" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="578101628" _msthash="2308">您也可以通过解析 的输出来获取此列表，但它并不更简单、更可靠、更可移植（无论如何，这是特定于 Linux的）。</font><code>lsof</code></p>
</details>
<details>
<summary><b _msttexthash="1235329615" _msthash="2309">管理员团队需要您的支持。您必须在其中一个主服务器上远程重新安装系统。无法访问管理控制台（例如 iDRAC）。如何在磁盘上安装 Linux，从其他 Linux 存在和运行的地方安装？</b></summary><br>
<p dir="auto" _msttexthash="189479875" _msthash="2310">问题可能是：“<em _istranslated="1">从级别安装系统并代替已经工作的其他系统</em>”。</p>
<p dir="auto" _msttexthash="47312980" _msthash="2311">以 Debian GNU/Linux 发行版为例。</p>
<ol dir="auto">
<li _msttexthash="125710611" _msthash="2312">使用 debootstrap 工具创建工作目录并下载系统。</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>_working_directory=<span class="pl-s"><span class="pl-pds">"</span>/mnt/system<span class="pl-pds">"</span></span>
mkdir <span class="pl-smi">$_working_directory</span>
debootstrap --verbose --arch amd64 {wheezy<span class="pl-k">|</span>jessie} <span class="pl-c1">.</span> http://ftp.en.debian.org/debian</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="_working_directory=&quot;/mnt/system&quot;
mkdir $_working_directory
debootstrap --verbose --arch amd64 {wheezy|jessie} . http://ftp.en.debian.org/debian" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="2" dir="auto">
<li><font _mstmutation="1" _msttexthash="38590669" _msthash="2313">安装子系统：、 、 和 。</font><code>proc</code><code>sys</code><code>dev</code><code>dev/pts</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">for</span> <span class="pl-smi">i</span> <span class="pl-k">in</span> proc sys dev dev/pts <span class="pl-k">;</span> <span class="pl-k">do</span> mount -o <span class="pl-c1">bind</span> <span class="pl-smi">$i</span> <span class="pl-smi">$_working_directory</span>/<span class="pl-smi">$i</span> <span class="pl-k">;</span> <span class="pl-k">done</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="for i in proc sys dev dev/pts ; do mount -o bind $i $_working_directory/$i ; done" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="3" dir="auto">
<li _msttexthash="50828531" _msthash="2314">复制系统备份以进行还原。</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>cp system_backup_22012015.tgz <span class="pl-smi">$_working_directory</span>/mnt</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="cp system_backup_22012015.tgz $_working_directory/mnt" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="253577467" _msthash="2315">但是，最好不要浪费空间并以不同的方式进行（假设副本在 ）：</font><code>/mnt/backup</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>_backup_directory=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${_working_directory}</span>/mnt/backup<span class="pl-pds">"</span></span>
mkdir <span class="pl-smi">$_backup_directory</span> <span class="pl-k">&amp;&amp;</span> mount --bind /mnt/backup <span class="pl-smi">$_backup_directory</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="_backup_directory=&quot;${_working_directory}/mnt/backup&quot;
mkdir $_backup_directory &amp;&amp; mount --bind /mnt/backup $_backup_directory" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="4" dir="auto">
<li _msttexthash="26825396" _msthash="2316">Chroot 到 “new” 系统。</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chroot <span class="pl-smi">$_working_directory</span> /bin/bash</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chroot $_working_directory /bin/bash" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="5" dir="auto">
<li _msttexthash="55100916" _msthash="2317">更新有关已挂载设备的信息。</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>grep -v rootfs /proc/mounts <span class="pl-k">&gt;</span> /etc/mtab</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="grep -v rootfs /proc/mounts > /etc/mtab" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="6" dir="auto">
<li><font _mstmutation="1" _msttexthash="291733481" _msthash="2318">在 “new” 系统中，接下来要做的是挂载 “旧” 系统所在的磁盘（例如 ）。</font><code>/dev/sda1</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>_working_directory=<span class="pl-s"><span class="pl-pds">"</span>/mnt/old_system<span class="pl-pds">"</span></span>
_backup_directory=<span class="pl-s"><span class="pl-pds">"</span>/mnt/backup<span class="pl-pds">"</span></span>
mkdir <span class="pl-smi">$_working_directory</span> <span class="pl-k">&amp;&amp;</span> mount /dev/sda1 <span class="pl-smi">$_working_directory</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="_working_directory=&quot;/mnt/old_system&quot;
_backup_directory=&quot;/mnt/backup&quot;
mkdir $_working_directory &amp;&amp; mount /dev/sda1 $_working_directory" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="7" dir="auto">
<li _msttexthash="43546399" _msthash="2319">删除旧系统的所有文件。</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">for</span> <span class="pl-smi">i</span> <span class="pl-k">in</span> <span class="pl-s"><span class="pl-pds">$(</span>ls <span class="pl-k">|</span> awk <span class="pl-s"><span class="pl-pds">'</span>!(/proc/ || /dev/ || /sys/ || /mnt/)<span class="pl-pds">'</span></span><span class="pl-pds">)</span></span> <span class="pl-k">;</span> <span class="pl-k">do</span> rm -fr <span class="pl-smi">$i</span> <span class="pl-k">;</span> <span class="pl-k">done</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="for i in $(ls | awk '!(/proc/ || /dev/ || /sys/ || /mnt/)') ; do rm -fr $i ; done" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="8" dir="auto">
<li _msttexthash="51271922" _msthash="2320">下一步是从备份中恢复系统。</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>tar xzvfp <span class="pl-smi">$_backup_directory</span>/system_backup_22012015.tgz -C <span class="pl-smi">$_working_directory</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="tar xzvfp $_backup_directory/system_backup_22012015.tgz -C $_working_directory" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="9" dir="auto">
<li><font _mstmutation="1" _msttexthash="76088298" _msthash="2321">并将 、 和 挂载到一个新的工作目录中。</font><code>proc</code><code>sys</code><code>dev</code><code>dev/pts</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">for</span> <span class="pl-smi">i</span> <span class="pl-k">in</span> proc sys dev dev/pts <span class="pl-k">;</span> <span class="pl-k">do</span> mount -o <span class="pl-c1">bind</span> <span class="pl-smi">$i</span> <span class="pl-smi">$_working_directory</span>/<span class="pl-smi">$i</span> <span class="pl-k">;</span> <span class="pl-k">done</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="for i in proc sys dev dev/pts ; do mount -o bind $i $_working_directory/$i ; done" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="10" dir="auto">
<li _msttexthash="33649941" _msthash="2322">安装并更新 grub 配置。</li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>chroot <span class="pl-smi">$_working_directory</span> /bin/bash -c <span class="pl-s"><span class="pl-pds">"</span>grub-install --no-floppy --root-directory=/ /dev/sda<span class="pl-pds">"</span></span>
chroot <span class="pl-smi">$_working_directory</span> /bin/bash -c <span class="pl-s"><span class="pl-pds">"</span>update-grub<span class="pl-pds">"</span></span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="chroot $_working_directory /bin/bash -c &quot;grub-install --no-floppy --root-directory=/ /dev/sda&quot;
chroot $_working_directory /bin/bash -c &quot;update-grub&quot;" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="11" dir="auto">
<li><font _mstmutation="1" _msttexthash="580333" _msthash="2323">Unmount , ,  and  filesystems.</font><code>proc</code><code>sys</code><code>dev</code><code>dev/pts</code></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">cd</span>
grep <span class="pl-smi">$_working_directory</span> /proc/mounts <span class="pl-k">|</span> cut -f2 -d <span class="pl-s"><span class="pl-pds">"</span> <span class="pl-pds">"</span></span> <span class="pl-k">|</span> sort -r <span class="pl-k">|</span> xargs umount -n</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="cd
grep $_working_directory /proc/mounts | cut -f2 -d &quot; &quot; | sort -r | xargs umount -n" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="12763205" _msthash="2324">None of the available commands, i.e. ,  or , will work. You need to reload the system configuration - to do this, use the <strong _mstmutation="1">kernel debugger</strong> (without the '<strong _mstmutation="1">b</strong>' option):</font><code>halt</code><code>shutdown</code><code>reboot</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">echo</span> 1 <span class="pl-k">&gt;</span> /proc/sys/kernel/sysrq
<span class="pl-c1">echo</span> reisu <span class="pl-k">&gt;</span> /proc/sysrq-trigger</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="echo 1 > /proc/sys/kernel/sysrq
echo reisu > /proc/sysrq-trigger" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="7346404" _msthash="2325">Of course, it is recommended to fully restart the machine in order to completely load the current system. To do this:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>sync <span class="pl-k">;</span> reboot -f</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="sync ; reboot -f" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details>
<summary><b _msttexthash="545208638" _msthash="2326">Rsync 在单个 50 GB 文件上触发了 Linux OOM 终止程序。OOM 杀手如何决定首先杀死哪个进程？如何控制这个？</b></summary><br>
<p dir="auto"><font _mstmutation="1" _msttexthash="394312906" _msthash="2327">主要分发内核将默认值设置为零，这意味着进程可以请求的内存多于系统中当前空闲的内存。</font><code>/proc/sys/vm/overcommit_memory</code></p>
<p dir="auto" _msttexthash="328971825" _msthash="2328">如果内存被进程彻底耗尽，以至于可能威胁到系统的稳定性，那么 <strong _istranslated="1">OOM 杀手</strong>就会出现。</p>
<p dir="auto" _msttexthash="650381940" _msthash="2329">注意：<strong _istranslated="1">OOM Killer</strong> 的任务是继续终止进程，直到释放出足够的内存，以便内核尝试运行的其余进程能够顺利运行。</p>
<p dir="auto" _msttexthash="722875023" _msthash="2330"><strong _istranslated="1">OOM Killer</strong> 必须选择要终止的最佳进程。此处的 Best 是指在终止时释放最大内存的进程，并且对系统来说也是最不重要的。</p>
<p dir="auto" _msttexthash="489644831" _msthash="2331">主要目标是杀死最少数量的进程，以最大限度地减少造成的损害，同时最大限度地提高释放的内存量。</p>
<p dir="auto"><font _mstmutation="1" _msttexthash="404878552" _msthash="2332">为了实现这一点，内核为每个进程维护了一个。您可以在 pid 目录下的文件系统中看到每个进程的oom_score。</font><code>oom_score</code><code>/proc</code></p>
<blockquote>
<p dir="auto" _msttexthash="190975746" _msthash="2333">在分析 OOM Killer 日志时，重要的是要查看触发它的原因。</p>
</blockquote>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>cat /proc/10292/oom_score</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="cat /proc/10292/oom_score" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="267552597" _msthash="2334">任何进程的值越高，它在内存不足的情况下被 <strong _mstmutation="1" _istranslated="1">OOM Killer</strong> 杀死的可能性就越高。</font><code>oom_score</code></p>
<p dir="auto"><font _mstmutation="1" _msttexthash="587581410" _msthash="2335">如果要创建一个特殊的控制组，其中包含应该首先受到 <strong _mstmutation="1" _istranslated="1">OOM 杀手</strong>注意的进程列表，请在 下创建一个目录来表示它：</font><code>/mnt/oom-killer</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>mkdir lambs</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="mkdir lambs" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="44753709" _msthash="2336">设置为足够高的值：</font><code>oom.priority</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">echo</span> 256 <span class="pl-k">&gt;</span> /mnt/oom-killer/lambs/oom.priority</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="echo 256 > /mnt/oom-killer/lambs/oom.priority" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><code>oom.priority</code><font _mstmutation="1" _msttexthash="744970226" _msthash="2337">是 64 位无符号整数，可以具有无符号 64 位数字可以容纳的最大值。在扫描要终止的进程时，<strong _mstmutation="1" _istranslated="1">OOM-killer</strong> 从任务列表中选择值最高的进程。</font><code>oom.priority</code></p>
<p dir="auto" _msttexthash="117473005" _msthash="2338">将需要添加的进程的 PID 添加到任务列表中：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">echo</span> <span class="pl-k">&lt;</span>pid<span class="pl-k">&gt;</span> <span class="pl-k">&gt;</span> /mnt/oom-killer/lambs/tasks</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="echo <pid> > /mnt/oom-killer/lambs/tasks" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="333590868" _msthash="2339">要创建不会被 <strong _istranslated="1">OOM 终止程序</strong>杀死的进程列表，请创建一个目录来包含这些进程：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>mkdir invincibles</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="mkdir invincibles" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font _mstmutation="1" _msttexthash="289900910" _msthash="2340">设置为 0 时，此 cgroup 中的所有进程都将从要终止的目标进程列表中排除。</font><code>oom.priority</code></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">echo</span> 0 <span class="pl-k">&gt;</span> /mnt/oom-killer/invincibles/oom.priority</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="echo 0 > /mnt/oom-killer/invincibles/oom.priority" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="267175350" _msthash="2341">要向该组添加更多进程，请将任务的 pid 添加到 invincible 组中的任务列表中：</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c1">echo</span> <span class="pl-k">&lt;</span>pid<span class="pl-k">&gt;</span> <span class="pl-k">&gt;</span> /mnt/oom-killer/invincibles/tasks</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="echo <pid> > /mnt/oom-killer/invincibles/tasks" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto" _msttexthash="28005783" _msthash="2342">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/724469/rsync-triggered-linux-oom-killer-on-a-single-50-gb-file" rel="nofollow" _msttexthash="102654461" _msthash="2343">Rsync 在单个 50 GB 文件上触发了 Linux OOM 终止程序</a></li>
<li><a href="https://lwn.net/Articles/317814/" rel="nofollow" _msttexthash="365937" _msthash="2344">Taming the OOM killer</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="511911933" _msthash="2345">你有很多套接字，挂<code _istranslated="1">在TIME_WAIT</code>。代理后面的 http 服务为许多小的 http 请求提供服务。如何检查和减少<code _istranslated="1">TIME_WAIT</code>窝？***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2346">待完成。</p>
<p dir="auto" _msttexthash="28005783" _msthash="2347">有用的资源：</p>
<ul dir="auto">
<li><a href="https://serverfault.com/questions/212093/how-to-reduce-number-of-sockets-in-time-wait" rel="nofollow" _msttexthash="88779678" _msthash="2348">如何减少 TIME_WAIT 中的套接字数量？</a></li>
</ul>
</details>
<details>
<summary><b _msttexthash="213930015" _msthash="2349"><code _istranslated="1">SO_REUSEADDR</code> 和 <code _istranslated="1">SO_REUSEPORT</code> 有何不同？解释所有套接字实现。***</b></summary><br>
<p dir="auto" _msttexthash="9197435" _msthash="2350">待完成。</p>
</details>
</article></div>
